\chapter{Nam Trace}
\label{chap:namtrace}

Nam is a Tcl/Tk based animation tool that is used to visualize the ns
simulations and real world packet trace data. The first step to use nam is
to produce a nam trace file. The nam trace file should contain topology
information like nodes, links, queues, node connectivity etc as well as
packet trace information. In this chapter we shall describe the nam trace
format and simple ns commands/APIs that can be used to produce topology 
configurations and control animation in nam.

\section{Nam Trace format}
\label{sec:namtraceformat}
The C++ class Trace used for ns tracing is used for nam tracing as
well. Description of this class may be found under section
\ref{sec:tracemoncplus}. The method Trace::format() defines nam 
format used in nam trace files which are used by nam for
visualization of ns simulations. Trace class method Trace::format() is
described in section \ref{sec:traceformat} of chapter \ref{chap:trace}. If
the macro NAM\_TRACE has been defined (by default it is defined in
trace.h), then the following code is executed as part of the
Trace::format() function:

\begin{program}
        if (namChan_ != 0)
                sprintf(nwrk_,
                        "%c -t "TIME_FORMAT" -s %d -d %d -p %s -e %d -c %d
-i %d -a %d -x {%s.%s %s.%s %d %s %s}",
                        tt,
                        Scheduler::instance().clock(),
                        s,
                        d,
                        name,
                        th->size(),
                        iph->flowid(),
                        th->uid(),
                        iph->flowid(),
                        src_nodeaddr,
                        src_portaddr,
                        dst_nodeaddr,
                        dst_portaddr,
                        seqno,flags,sname);
\end{program}

Every line in a nam trace file follows this format:
\begin{verbatim}
<event-type> -t <time> ...
\end{verbatim}
Depending on the event type, there are different flags following the
time flag. 

In the following we describe nam trace event format in 7 classes:
packet, node, node mark, link/queue, agent, feature, and
miscellaneous.

\subsection{Packet Traces}

When a trace line describes a packet, 
the event type may be + (enqueue), - (dequeue), r (receive), d (drop), 
or h (hop). 
\begin{description}
\item['h'] Hop: The packet started to be transmitted on the link from
src\_addr to dst\_addr and is forwarded to the next\_hop towards its
dst\_addr.

\item['r'] Receive: The packet finished transmission and started to be
received at the destination.

\item['d] Drop: The packet was dropped from queue or link from src\_addr
to dst\_addr. Drop here doesn't distinguish between dropping from queue or
link. This is decided by the drop time.  

\item['+'] Enter queue: The packet entered the queue from src\_addr to
dst\_addr.

\item['-'] Leave queue: The packet left the queue from src\_addr to
dst\_addr.  
\end{description}

The other flags have the following meaning:
\begin{description}
\item[-t <time>] is the time the event occurred.
\item[-s <src>] is the originating node.
\item[-d <dst>] is the destination node.
\item[-p <pkt-type>] is the descriptive name of the type of packet seen.
See section \ref{sec:traceptype} for the different types of packets 
supported in \ns.
\item[-e <extent>] is the size (in bytes) of the packet.
\item[-c <conv>] is the conversation id or flow-id of that session.
\item[-i <id>] is the packet id in the conversation.
\item[-a <attr>] is the packet attribute, which is currently used as color
id. 
\item[-x <src-na.pa> <dst-sa.na> <seq> <flags> <sname>] is taken from
ns-traces and it gives the source and destination node and port
addresses, sequence number, flags (if any) and the type of message.
For example \code{ -x {0.1 -2147483648.0 -1 ------- SRM_SESS} } denotes an
SRM message being sent from node 0 (port 1).
\end{description}

In addition to the above nam format for packet events there are nam traces
that provide information about nam version, hierarchical
addressing structure, node/link/queue states, node-marks, protocol states,
color and annotations. These nam trace outputs typically have the
following letters (or tags) as their first field and they represent the
following trace types: 
n (node state), m (node marking), l (link state), q (queue), a 
(protocol state), f (protocol state variable),
V (nam version), A (hierarchy information), c (nam color) and v
(annotations).

\subsection{Node state}

The nam trace format defining node state is:\\
\code{n -t <time> -a <src-addr> -s <src-id> -S <state> -v <shape> -c <color> -i <l-color> -o <color>}\\
"n" denotes the node state. Flags "-t" indicates time and "-a" and "-s"
denotes the node address and id. "-S" gives the node state transition.
The possible values: 
\begin{itemize}
\item UP, DOWN indicates node recovery and failure.
\item COLOR indicates node color change. If COLOR is given, a
  following {\tt -c <color>} is expected which gives the new color
  value. Also, flag {\tt -o} is expected so that backtracing can
  restore the old color of a node. 
\item DLABEL indicates addition of label to node. If DLABEL is
  given, a following -l <old-label> -L <new-label> is expected that gives
  the old-label, if any (for backtracing) and current label. Shape gives
  the node shape. The color of a node label can be specified via the
  {\tt -i} flag. 
\end{itemize}
As an example, the line\\
\code{n -t * -a 4 -s 4 -S UP -v circle -c tan -i tan}\\
defines a node with address and id of 4 that has the shape of a
circle, and color of tan and label-color (-i) of tan.

\subsection{Node Marking}

Node marks are colored concentric circles around nodes. 
They are created by:
\begin{verbatim}
m -t <time> -n <mark name> -s <node> -c <color> -h <shape> -o <color>
\end{verbatim}
and can be deleted by:
\begin{verbatim}
m -t <time> -n <mark name> -s <node> -X
\end{verbatim}
Note that once created, a node mark cannot change its shape. The possible
choices for shapes are, circle, square, and hexagon. They are defined as 
lower-case strings exactly as above. A nam trace showing node mark is:
\begin{verbatim}
m -t 4 -s 0 -n m1 -c blue -h circle
\end{verbatim}
indicating node 0 is marked with a blue circle at time 4.0. The name of
the mark is m1.

\subsection{Link/Queue State}

The nam trace for link and queue states are given by (respectively):
\begin{verbatim}
l -t <time> -s <src> -d <dst> -S <state> -c <color> -o orientation -r <bw> -D <delay>
q -t <time> -s <src> -d <dst> -a <attr>
\end{verbatim}
where {\tt <state>} and {\tt <color>} indicate the same attributes
(and the same format) as described above in the node state traces. 
Flag {\tt -o} gives the link orientation (angle between link and
horizontal). 
Flags {\tt -r} and {\tt -D} give the bandwidth (in Mb) and delay (in
ms), respectively.
An example of a link trace is:
\begin{verbatim}
l -t * -s 0 -d 1 -S UP -r 1500000 -D 0.01 -c black -o right
\end{verbatim}
Queues are visualized in nam as a straight line along which packets
(small squares) are packed.
In queue trace events, flag {\tt -a} specifies the orientation of the
line of the queue (angle between the queue line and the horizontal
line, counter-clockwise). 
For example, the following line specifies a queue that grows
vertically upwards with respect to the screen (here {\tt 0.5} means
the angle of the queue line is $\frac{\pi}{2}$):
\begin{verbatim}
q -t * -s 0 -d 1 -a 0.5
\end{verbatim}

\subsection{Agent Tracing}

Agent trace events are used to visualize protocol state.
They are always associated with nodes. 
An agent event has a name, which is a {\it unique} identifier of the
agent. 
An agent is shown as a square with its name inside, and a line link
the square to its associated node 

Agent events are constructed using the following format:
\begin{verbatim}
a -t <time> -n <agent name> -s <src> 
\end{verbatim}
Because in \ns, agents may be detached from nodes, an agent may be 
``destructed'' in nam with:
\begin{verbatim}
a -t <time> -n <agent name> -s <src> -X
\end{verbatim}
For example, the following nam trace line creates an agent named {\tt
  srm(5)} associated with node 5 at time 0:
\begin{verbatim}
a -t 0.00000000000000000 -s 5 -n srm(5)
\end{verbatim}

\subsection{Variable Tracing}

To visualize state variables associated with a protocol agent, we use
the feature trace events.
% three types of features: timers, lists and simple variable
Currently we allow a feature to display a simple variable, i.e., a
variable with a single value. 
Notice that the value is simple treated as a string (without
white space).
Every feature is required to be associated with an agent. 
Then, it can be added or modified at any time after its agent is created.
The trace line to create a feature is:
\begin{verbatim}
f -t <time> -s <src> -a <agentname> -T <type> -n <varname> -v <value> -o <prev value>
\end{verbatim}
Flag {\tt <type>} is ``l'' for a list, ``v'' for a simple variable, ``s''
for a stopped timer, ``u'' for an up-counting timer, ``d'' for a
down-counting timer.
However, only ``v'' is implemented in \ns. 
Flag {\tt -v <value>} gives the new value of the variable. 
Variable values are simple ASCII strings obeying the TCL string
quoting conventions. 
List values obey the TCL list conventions. 
Timer values are ASCII numeric. 
Flag {\tt -o <prev value>} gives the previous value of the variable. 
This is used in backward animation. 
Here is an example of a simple feature event:
\begin{verbatim}
\code{f -t 0.00000000000000000 -s 1 -n C1_ -a srm(1) -v 2.25000 -T v}\\
\end{verbatim}

Features may be deleted using:
\begin{verbatim}
f -t <time> -a <agent name> -n <var name> -o <prev value> -X
\end{verbatim}

\subsection{Miscellaneous Trace Events}

There are other trace events in addition to the formats described above:
\begin{description}
\item[Annotation] This event is represented by event type ``v''. 
  It is used for generic annotation:
\begin{verbatim}
v -t <time> <TCL script string>  
\end{verbatim}
  Notice that this event is very generic, in that it may include an
  arbitrary tcl script to be executed at a given
  time, as long as it is in one line (no more than 256
  characters).
  There may be white spaces in the string.
  The order of flag and the string is important.

  Here is an example of this event:
\begin{verbatim}
v -t 4 sim_annotation 4 3 node 0 added one mark
\end{verbatim}
  This line calls a special tcl function {\tt sim\_annotation} in
  nam, which inserts the given string \code{node 0 added one mark}
  into nam's annotation pane.

\item[Color] Nam allows one to associate color names with
  integers. This is very useful in coloring packets, where flow id of
  a packet is used to color the packet using the corresponding color:
\begin{verbatim}
c -t <time> -i <color id> -n <color name>
\end{verbatim}
  Notice the color name should be one of the names
  listed in color database in X11 (/usr/X11/lib/rgb.txt). 

\item[Version]
  The following line define the nam version as required to visualize
  the given trace:
\begin{verbatim}
V -t <time> -v <version> -a <attr>
\end{verbatim}
  Normally there is only one version string in a given tracefile, and
  it is usually the first line of the file.

\item[Hierarchy] Hierarchical address information is defined by:

  \code{A -t <time> -n <levels> -o <address-space size> -c <mcastshift> -a <mcastmask> -h <nth level> -m <mask in nth level> -s <shift in nth level>}
  
  This trace gives the details of hierarchy, if hierarchical
  addressing is being used for simulation. 
  Flag {\tt -n <levels>}
  indicate the total number of hierarchical tiers, which is 1 for flat
  addressing, 2 for a 2-level hierarchy etc. 
  Flag {\tt -o <address space size>} 
  denotes the total number of bits used for addressing. 
  Flag {\tt -h <nth level>} specifies the level of the address
  hierarchy. 
  Flag {\tt -m <mask>} and {\tt -s <shift>} describes the address mask
  and the bit shift of a given level in the address hierarchy,
  respectively. 
  Here is an example of a trace for topology with 3 level hierachy:
\begin{verbatim}
A -t * -n 3 -p 0 -o 0xffffffff -c 31 -a 1
A -t * -h 1 -m 1023 -s 22
A -t * -h 2 -m 2047 -s 11
A -t * -h 3 -m 2047 -s 0 
\end{verbatim}
\end{description}

The functions that implement the different nam trace formats described
above may be found in the following files: \ns/trace.cc, 
\ns/trace.h, \ns/tcl/lib/ns-namsupp.tcl.

\section{Ns commands for creating and controlling nam animations}
\label{sec:namcommands}

This section describes different APIs in \ns that may be used to
manipulate nam animations for objects like nodes, links, queues and
agents. 
The implementation of most of these APIs is contained in
\ns/tcl/lib/ns-namsupp.tcl.
Demonstration of nam APIs may be found in \ns/tcl/ex/nam-example.tcl.

\subsection{Node}

Nodes are created from the ``n'' trace event in trace file. 
Each node represents a host or a router. 
Nam terminates if there are duplicate definitions of the same node.
Attributes specific to node are color, shape, label, label-color,
position of label and adding/deleting mark on the node.
Each node can have 3 shapes: circle (default), square, or hexagon.
But once created, the shape of a node cannot be changed during the
simulation.
Different node may have different colors, and its color may be changed
during animation. 
The following OTcl procedures are used to set node attributes, they
are methods of the class Node:

\begin{program}
$node color [color]      ;# sets color of node
$node shape [shape]      ;# sets shape of node
$node label [label]      ;# sets label on node
$node label-color [lcolor]  ;# sets color of label
$node label-at [ldirection] ;# sets position of label
$node add-mark [name] [color] [shape]   ;# adds a mark to node
$node delete-mark [name]    ;# deletes mark from node
\end{program} %$

\subsection{Link/Queue}

Links are created between nodes to form a network topology. 
\nam links
are internally simplex, but it is invisible to the users. The trace
event ``l'' creates two simplex links and other necessary setups, hence
it looks to users identical to a duplex link. Link may have many
colors and it can change its color during animation. Queues are
constructed in nam between two nodes. Unlike link, nam queue is
associated to a simplex link.  The trace event ``q'' only creates a
queue for a simplex link. In nam, queues are visualized as stacked
packets. Packets are stacked along a line, and the angle between the
line and the horizontal line can be specified in the trace event ``q''.
Commands to setup different animation attributes of a link are as
follows:

\code{$ns duplex-link-op <attribute> <value>} %$

The <attribute> may be one of the following: orient, color, queuePos.
Orient or the link orientation defines the angle between the link and
horizontal. The optional orientation values may be difined in
degrees or by text like right (0), right-up (45), right-down (-45), left
(180), left-up (135), left-down (-135), up (90), down (-90). The queuePos
or position of queue is defined as the angle of the queue line with
horizontal. 
Examples for each attribute are given as following : 
\begin{program}
$ns duplex-link-op orient right      ;# orientation is set as right. The order
                                     ;# in which links are created in nam
                                     ;# depends on calling order of this function.
$ns duplex-link-op color "green"
$ns duplex-link-op queuePos 0.5
\end{program} %$

\subsection{Agent and Features}

Agents are used to separate protocol states from nodes. They are always
associated with nodes. An agent has a name, which is a unique identifier
of the agent. It is shown as a square with its name inside, and a line
link the square to its associated node. The following are commands that
support agent tracing:
\begin{program}
$ns add-agent-trace <agent> <name> <optional:tracefile>
$ns delete-agent-trace <agent>
$ns monitor-agent-trace <agent>
\end{program} %$

Once the above command is used to create an agent in nam trace, the
{\tt tracevar} method of the \ns agent can be used to create feature
traces of a given variable in the agent. 
For example, the following code segment creates traces of the variable
{\tt C1\_} in an SRM agent {\tt \$srm(0)}:

\begin{program}
        $ns attach-agent $n($i) $srm(0)
        $ns add-agent-trace $srm($i) srm(0)
        $ns monitor-agent-trace $srm(0) ;# turn nam monitor on from the start
        $srm(0) tracevar C1_
\end{program}%$

\subsection{Some Generic Commands}

\code{$ns color <color-id>} %$
defines color index for nam. Once
specified, {\tt color-id} can be used in place of the color name in
nam traces.

\code{$ns trace-annotate <annotation>} %$
inserts an annotation in nam. Notice that if {\tt <annotation>} 
contains white spaces, it must be quoted using the double quote.
An example of this would be
\code{$ns at $time "$ns trace-annotate \"Event A happened\""} %$
This annotation appears in the nam window and is used to control
playing of nam by events. 

\subsection{Nam Trace File Format}
This is a listing of all possible nam trace event codes and the flags associated with them.

  \begin{tabular}{llll}
  \# : & comment -- this line is ignored & & \\
  \end{tabular}

  \begin{tabular}{llll}
  n : & node & & \\
    &  -t & <time> & time \\
    &  -s & <int> & node id \\
    &  -v & <string> & shape (circle, triangle, hexagon) \\
    &  -c & <color> & color \\
    &  -z & <double> & size of node \\
    &  -a & <int> & address \\
    &  -x & <double> & x location \\
    &  -y & <double> & y location \\
    &  -i & <color> & label color \\
    &  -b & <string> & label \\
    &  -l & <string> & label \\
    &  -o & <color> & previous color \\
    &  -S & <string> & state (UP, DOWN, COLOR) \\
    &  -L & <string> & previous label \\
    &  -p & <string> & label location \\
    &  -P & <string> & previous label location \\
    &  -i & <color> & inside label color \\
    &  -I & <color> & previous inside label color \\
    &  -e & <color> & label color \\
    &  -E & <color> & previous label color \\
    &  -u & <string> & x velocity \\
    &  -U & <string> & x velocity \\
    &  -V & <string> & y velocity \\
    &  -T & <string> & node stop time \\
  \end{tabular}

  \begin{tabular}{llll}
  l : & link & & \\
    &  -t & <time> & time \\
    &  -s & <int> & source id \\
    &  -d & <int> & destination id \\
    &  -r & <double> & transmission rate \\
    &  -D & <double> & delay \\
    &  -h & <double> & length \\
    &  -O & <orientation> & orientation \\
    &  -b & <string> & label \\
    &  -c & <color> & color \\
    &  -o & <color> & previous color \\
    &  -S & <string> & state (UP, DOWN) \\
    &  -l & <string> & label \\
    &  -L & <string> & previous label \\
    &  -e & <color> & label color \\
    &  -E & <color> & previous label color \\
  \end{tabular}

  \begin{tabular}{llll}
  + : & enqueue packet & & \\
    &  -t & <time> & time \\
    &  -s & <int> & source id \\
    &  -d & <int> & destination id \\
    &  -e & <int> & extent \\
    &  -a & <int> & attribute \\
    &  -i & <int> & id \\
    &  -l & <int> & energy \\
    &  -c & <string> & conversation \\
    &  -x & <comment> & comment \\
    &  -p & <string> & packet type \\
    &  -k & <string> & packet type \\
  \end{tabular}

  \begin{tabular}{llll}
  - : & dequeue packet & & \\
    &  -t & <time> & time \\
    &  -s & <int> & source id \\
    &  -d & <int> & destination id \\
    &  -e & <int> & extent \\
    &  -a & <int> & attribute \\
    &  -i & <int> & id \\
    &  -l & <int> & energy \\
    &  -c & <string> & conversation \\
    &  -x & <comment> & comment \\
    &  -p & <string> & packet type \\
    &  -k & <string> & packet type \\
  \end{tabular}

  \begin{tabular}{llll}
  h : & hop & & \\
    &  -t & <time> & time \\
    &  -s & <int> & source id \\
    &  -d & <int> & destination id \\
    &  -e & <int> & extent \\
    &  -a & <int> & attribute \\
    &  -i & <int> & id \\
    &  -l & <int> & energy \\
    &  -c & <string> & conversation \\
    &  -x & <comment> & comment \\
    &  -p & <string> & packet type \\
    &  -k & <string> & packet type \\
  \end{tabular}

  \begin{tabular}{llll}
  r : & receive & & \\
    &  -t & <time> & time \\
    &  -s & <int> & source id \\
    &  -d & <int> & destination id \\
    &  -e & <int> & extent \\
    &  -a & <int> & attribute \\
    &  -i & <int> & id \\
    &  -l & <int> & energy \\
    &  -c & <string> & conversation \\
    &  -x & <comment> & comment \\
    &  -p & <string> & packet type \\
    &  -k & <string> & packet type \\
  \end{tabular}

  \begin{tabular}{llll}
  d : & drop line & & \\
    &  -t & <time> & time \\
    &  -s & <int> & source id \\
    &  -d & <int> & destination id \\
    &  -e & <int> & extent \\
    &  -a & <int> & attribute \\
    &  -i & <int> & id \\
    &  -l & <int> & energy \\
    &  -c & <string> & conversation \\
    &  -x & <comment> & comment \\
    &  -p & <string> & packet type \\
    &  -k & <string> & packet type \\
  \end{tabular}

  \begin{tabular}{llll}
  E : & session enqueue & & \\
    &  -t & <time> & time \\
    &  -s & <int> & source id \\
    &  -d & <int> & destination id \\
    &  -e & <int> & extent \\
    &  -a & <int> & attribute \\
    &  -i & <int> & id \\
    &  -l & <int> & energy \\
    &  -c & <string> & conversation \\
    &  -x & <comment> & comment \\
    &  -p & <string> & packet type \\
    &  -k & <string> & packet type \\
  \end{tabular}

  \begin{tabular}{llll}
  D : & session dequeue & & \\
    &  -t & <time> & time \\
    &  -s & <int> & source id \\
    &  -d & <int> & destination id \\
    &  -e & <int> & extent \\
    &  -a & <int> & attribute \\
    &  -i & <int> & id \\
    &  -l & <int> & energy \\
    &  -c & <string> & conversation \\
    &  -x & <comment> & comment \\
    &  -p & <string> & packet type \\
    &  -k & <string> & packet type \\
  \end{tabular}

  \begin{tabular}{llll}
  P : & session drop & & \\
    &  -t & <time> & time \\
    &  -s & <int> & source id \\
    &  -d & <int> & destination id \\
    &  -e & <int> & extent \\
    &  -a & <int> & attribute \\
    &  -i & <int> & id \\
    &  -l & <int> & energy \\
    &  -c & <string> & conversation \\
    &  -x & <comment> & comment \\
    &  -p & <string> & packet type \\
    &  -k & <string> & packet type \\
  \end{tabular}

  \begin{tabular}{llll}
  a : & agent & & \\
    &  -t & <time> & time \\
    &  -s & <int> & source id \\
    &  -d & <int> & destination id \\
    &  -x & <flag> & remove agent \\
    &  -n & <string> & agent name \\
  \end{tabular}

  \begin{tabular}{llll}
  f : & feature & & \\
    &  -t & <time> & time \\
    &  -s & <int> & source id \\
    &  -d & <int> & destination id \\
    &  -x & <flag> & remove feature \\
    &  -T & <char> & type \\
    &  -n & <string> & name \\
    &  -a & <string> & agent \\
    &  -v & <string> & value \\
    &  -o & <string> & previous value \\
  \end{tabular}

  \begin{tabular}{llll}
  G : & group & & \\
    &  -t & <time> & time \\
    &  -n & <string> & name \\
    &  -i & <int> & node id \\
    &  -a & <int> & group id \\
    &  -x & <flag> & remove from group \\
  \end{tabular}

  \begin{tabular}{llll}
  q : & queue config -- initialization & & \\
    &  -t & <time> & time \\
  \end{tabular}

  \begin{tabular}{llll}
  L : & lan link & & \\
    &  -t & <time> & time \\
    &  -s & <int> & source id \\
    &  -d & <int> & destination id \\
    &  -o & <orientation> & orientation \\
  \end{tabular}

  \begin{tabular}{llll}
  m : & mark node & & \\
    &  -t & <time> & time \\
    &  -n & <string> & name \\
    &  -s & <int> & node id \\
    &  -c & <string> & color \\
    &  -h & <string> & shape (circle, triange, hexagon) \\
    &  -X & <flag> & remove mark \\
  \end{tabular}

  \begin{tabular}{llll}
  R : & routing event & & \\
    &  -t & <time> & time \\
    &  -s & <int> & source id \\
    &  -d & <int> & destination id \\
    &  -g & <int> & multicast group \\
    &  -p & <packet source> & packet source id or * \\
    &  -n & <flag> & negative cache \\
    &  -x & <flag> & this route timed out \\
    &  -T & <double> & timeout \\
    &  -m & <string> & mode (iif or oif) \\
  \end{tabular}

  \begin{tabular}{llll}
  v : & execute tcl expression & & \\
    &  -t & <time> & time \\
    &  -e & <tcl expression> & tcl script \\
  \end{tabular}

  \begin{tabular}{llll}
  V : & set trace file version & & \\
    &  -t & <time> & time \\
    &  -v & <string> & time \\
    &  -a & <int> & time \\
  \end{tabular}

  \begin{tabular}{llll}
  N : & use nam graph & & \\
  \end{tabular}

  \begin{tabular}{llll}
  W : & wireless range & & \\
    &  -t & <time> & time \\
    &  -x & <int> & X \\
    &  -y & <int> & Y \\
  \end{tabular}

  \begin{tabular}{llll}
  g : & energy status -- for future use & & \\
    &  -t & <time> & time \\
  \end{tabular}

  \begin{tabular}{llll}
  A : & hierarchical address space configuration -- initilization only & & \\
    &  -t & <time> & time \\
    &  -n & <int> & hierarchy \\
    &  -p & <int> & port shift \\
    &  -o & <hex> & port mask \\
    &  -c & <int> & mulitcast shift \\
    &  -a & <int> & multicast mask \\
    &  -h & <int> & hierarchy \\
    &  -m & <int> & node shift \\
    &  -s & <int> & node mask \\
  \end{tabular}

  \begin{tabular}{llll}
  c : & color table configuration -- initialization only & & \\
    &  -t & <time> & time \\
    &  -i & <int> & id \\
    &  -n & <string> & color \\
  \end{tabular}

  \begin{tabular}{llll}
  q : & define packet queue -- initialization only & & \\
    &  -t & <time> & time \\
    &  -s & <int> & source id \\
    &  -d & <int> & destination id \\
    &  -a & <orientation> & orientaion \\
  \end{tabular}

  \begin{tabular}{llll}
  X : & layout lan & & \\
    &  -t & <time> & time \\
    &  -n & <string> & name \\
    &  -r & <double> & rate \\
    &  -D & <double> & delay \\
    &  -o & <orientation> & orientation \\
  \end{tabular}

