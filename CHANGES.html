<!doctype html public "-//w3c//dtd html 4.0 transitional//en">
<html>
<head>
   <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
   <meta name="GENERATOR" content="Mozilla/4.72 [en] (X11; U; Linux 2.2.14-5.0 i686) [Netscape]">
   <title>ns Change Log</title>
</head>
<body>
<!-- @(#) $Header: /home/smtatapudi/Thesis/nsnam/nsnam/ns-2/CHANGES.html,v 1.486 2001/11/28 23:07:26 sfloyd Exp $-->
<h1>
ns: Change History</h1>
<!--
This ChangeLog is updated in the reverse order 
with the most recent changes coming first.
-->
<hr>
<h3>
ns-2.1b9 release PENDING</h3>

<ul>

<p>
<p><li><b><a href="http://www.aciri.org/floyd/">[Sally Floyd]</a></b>
Wed Nov 28 2001
<br>Changed the default for "useHeaders_" in Agent/TCP to true. 

<p>
<p><li><b><a href="http://www.aciri.org/floyd/">[floyd]</a></b>
Tue Nov 27 13:34:43 PST 2001
<br>Added an option "useHeaders_" to one-way TCP that takes into
account the TCP/IP header size in bytes when computing the size of
the packet to be transmitted on the wire.  The current default 
is for this to be false, but at some point the default will be
changed.
The validation test is "./test-all-simple statsHeaders" in tcl/test.

<p>
<p><li><b><a href="http://www.aciri.org/floyd/">[floyd]</a></b>
Thu Nov  8 12:15:49 PST 2001
<br>Added code from Wael Noureddine to deal robustly with outstanding
packets from the previous incarnation of a connection after a reset
(since there is no FIN_WAIT protection in one-way TCP).  This involves
adding a lastreset_ variable at the sender and sink that records
the time of the last reset.  Any ACKs/packets with timestamps that are
older than this time would be discarded at the sender/sink.
The validation tests are in ./test-all-tcpReset.

<p>
<li><b><a href="mailto:haldar@isi.edu">[Padma Haldar]</a></b>Wed Nov  7 09:52:45 PST 2001</li>
<br>Ported first-cut of Directed Diffusion (developed by SCADDS, USC/ISI) into ns.
All files related to diffusion can be found under ~ns/diffusion3.
All ns specific files can be found at ~ns /diffusion3/ns.

An example script can be found at ~ns/tcl/ex/simple-diffusion.tcl and it tests a simple 3 node topology where (1) all 3 nodes can hear each other and a source and sink apps pair is setup on two of the nodes. (2) where node0 and node2 donot hear eachother and communicated thru the third node1. src and skn apps reside on node 0 and node2.

**Note templates are used extensively and hence this code maynot be run in systems having compilers that donot support STL.

<p>
<li>
<b><a href="mailto:tomh@tomh.org">[Tom Henderson]</a></b>
Mon Nov 5 22:10:16 PDT 2001
<br>Support for wired/satellite integration (see satellite chapter of
ns documentation).  New example script:  tcl/ex/sat-wired.tcl

<p>
<li>
<b><a href="mailto:tomh@tomh.org">[Tom Henderson]</a></b>
Thur Oct 11 07:15:31 PDT 2001
<br>Added support for tracing satellite aloha collisions, and enhanced the
example test script.

  <p>
<li><b><a href="mailto:alefiyah@usc.edu">[Alefiya Hussain]</a></b>
Thur Sept 20 11:50:56 PDT 2001
<br> Applied patch by Ruud Schramp <r.schramp@kpn.com> to port ns emulation code to run on Linux
     Added configure scripts to test for pcap and appropriate TCP headers
     Allowed compilation of nse if tests are postive 


  <p>
<li>
<b><a href="http://www.isi.edu/~johnh/">[johnh]</a></b> <b>Fri Aug  3 15:55:36 PDT 2001
</b></li>

<br>more error checking in Scheduler::schedule, linux floating point fix from Tom Kelly <ctk21@cam.ac.uk>


exit
  <p>

<li><b><a href="mailto:tomh@tomh.org">[Tom Henderson]</a></b>
Mon Jul 30 19:22:31 PDT 2001
<br>Updated satellite code to conform to "$ns node-config" node
configuration syntax used by wireless nodes.

<p><li><b><a href="http://www.aciri.org/floyd/">[floyd]</a></b>
Fri Jul 20 13:30:36 PDT 2001
<br>Adding a procedure to Queue/RED for the automatic setting of
minthresh, invoked when the input file specifies minthresh=0.  The
procedure sets minthresh to the maximum of 5 packets, and the number
of packets corresponding to 5 ms of queueing delay.

<p><li><b><a href="mailto:haldar@isi.edu">[Padma Haldar]</a></b>Wed Jul 18 10:40:09 PDT 2001</li>
<br>Added debugged version of bayFullTcp into ns. Also extended test-suite-test-reno for bayfulltcp.

<p><li><b><a href="http://www.cs.berkeley.edu/~kfall/">[kfall]</a></b>
Tue Jul 17 11:04:07 PDT 2001
<br>Major restructuring of Full TCP, including moving
the ReassemblyQueue data structure to its own files.  This
affects Makefile.in, rq.{cc,h}, tcp-full.{cc,h}.
Also, disable SACK in Full TCP for now.  Will be re-working this
next.  More minor, but it is now also possible to disable
the header prediction code.  Regression tests unaffected.

<p><li><b><a href="http://www.aciri.org/floyd/">[floyd]</a></b>
Fri Jul  6 16:23:09 PDT 2001</li>
<br>Adding a procedure to Queue/RED for automatically setting
q_w and maxthresh when the default values are 0.0 and 0 respectively.
The code for setting q_w is from Ramki Gummadi.
I have not yet changed the default values in the NS distribution,
but I will do this shortly.

<p><li><b><a href="http://www.aciri.org/floyd/">[floyd]</a></b>
Fri Jun 29 15:07:55 PDT 2001</li>
<br>Adding code for REM and Gibbens/Kelly (GK) active queue management.
The GK code is from Srisankar Kunniyur,
with minor changes from Jitendra Padhye.
The REM code is from Sanjeewa Athuraliya and Victor Li, with a merging
of two files into one from Jitendra Padhye.
The validation tests are from Jitendra Padhye, and are
"./test-all-gk" and "./test-all-rem" in "tcl/test".
The REM code still needs a final check from the code authors.

<p><li><b><a href="http://www.aciri.org/floyd/">[floyd]</a></b>
Tue Jun 26 13:22:02 PDT 2001</li>
<br>Adding code for the Vq virtual queue, a version of active queue
management.
The code is from Srisankar Kunniyur, with fixes and validation from
Jitendra Padhye.
The validation test is "./test-all-vq" in "tcl/test".

<p><li><b><a href="http://www.aciri.org/floyd/">[floyd]</a></b>
Fri Jun 15 18:24:24 PDT 2001</li>
<br>Adding code for the PI controller, a version of active queue
management.
The code is from Jitendra Padhye, based on the PI controller proposed
by Hollot et. al., in the paper ``On Designing Improved Controllers 
for AQM Routers Supporting TCP Flows'', in Infocom 2001.
The validation test in "./test-all-pi" in "tcl/test". 
The file "tcl/ex/picoeff.m" is a Matlab script for generating
PI parameters.

<p><li><b><a href="http://www.aciri.org/floyd/">[floyd]</a></b>
Thu Jun 14 17:19:43 PDT 2001</li>
<br>Added parameter "adaptive_" for adaptively adjusting max_p, to keep
the average queue size between minthresh and maxthresh.
The validation test and example is "./test-all-adaptive-red"
in "tcl/test".

<p><li>
<b><a href="http://netweb.usc.edu/weiye/">[weiye]</a></b> Thu Jun 14 15:20:55
PDT 2001</li>

<br>Added the visibility-based shadowing propagation model, shadowing-vis.{h,
cc}. It uses a bitmap to represent the environment of the wireless network.
Two shadowing models are used for either line-of-sight or obstructed transmission.
The example script wireless-shadowing-vis-test.tcl and the bitmap environment.pnm
can be found at ns-2/tcl/ex/.

<p><li>
<b><a href="http://www.aciri.org/floyd/">[floyd]</a></b> Tue Jun 12 16:55:03
PDT 2001</li>

<br>Added a parameter summarystats_ to Queue/RED to report the true average
queue size since the beginning of the simulation. The validation test and
example is in ``./test-all-simple stats2'' in ``tcl/tests''.

<p><li>
<b><a href="http://www.aciri.org/floyd/">[floyd]</a></b> Sat Jun 9 13:44:00
PDT 2001</li>

<br>Added options to ErrorModel for delaying packets. The validation test
and example is ``./test-all-links delayPacket'' in ``tcl/test''.&nbsp;

     </ul>
     
<hr>
<h3>
<a href="http://www.isi.edu/nsnam/dist/ns-src-2.1b8.tar.gz">ns-2.1b8 </a>released
on Wed June 06 11:05:52 PDT 2001</h3>

     <ul>
<p><li>
<b><a href="mailto:alefiyah@usc.edu">[Alefiya Hussain]</a></b> Wed May
30 16:20:46 PDT 2001</li>

<br>Bug fix in Mac 802.3 Collision trace code. Added separate drop head
for mac layer. Now collision are reported in trace file as 'c' If there
are 17 collisions for a packet, it indicates that it is dropped due to
extensive collisions
<p><li>
<b><a href="http://www.aciri.org/floyd/">[floyd]</a></b> Sun May 27 22:56:14
PDT 2001</li>

<br>Made several small changes to two-way TCP, in tcp-full.cc.
<br>Made a small change so that a timeout after an ECN, for the same window
of data, does not result in another reduction in the congestion window.
<br>Made a small fix so that "overhead_" works correctly with FullTcp,
to add a random overhead to the packet sending time.
<br>Added the ability to specify packetSize and have segsize derived from
that, and vice versa.
<br>Created the Tcl procedure create-connection-listen for creating two-way
TCP connections.
<br>Added three new validation tests for two-way TCP, test-all-ecn-full,
test-all-simple-full, and test-all-tcp-init-win-full. There are several
validation tests commented out because they don't yet work correctly. One
example is sack4 in test-all-tcp-init-win-full. There are also many validation
tests for one-way TCP that have not yet been ported to two-way TCP.
<p><li>
<b><a href="http://www.aciri.org/floyd/">[floyd]</a></b> Sun May 27 13:38:04
PDT 2001</li>

<br>Changed some defaults for TCP and RED, over the last few weeks.
<br>Added minrto_ to TCP, with a minimum RTO, with a default of 1 second.
Added the variable timerfix_, with default set to true, to update the TCP
RTO timer *after* the RTT is updated, instead of before.
<br>Changed the defaults for the Agent/TCP variables syn_ and delay_growth_
to true, and changed the default for Agent/TCP/windowInit_ to 2, so that
the first packet is 40 bytes, like a SYN packet, and the initial window
of two packets starts after the ACK for the first packet has been received.
<br>Changed the default for Queue/RED/gentle_ to true, so that the dropping
probability increases gradually as the average queue size exceeds maxthresh.
<p><li>
<b><a href="mailto:intanago@isi.edu">[Chalermek Intanagonwiwat]</a></b>
Fri May 25 02:42:21 PDT 2001</li>

<br>Small bug fixes in diffusion. Get rid of a random number that is generated
from a pointer. Start() should be virtual.
<p><li>
<b><a href="mailto:haldar@isi.edu">[Padma Haldar]</a></b> Tue May 22 09:58:13
PDT 2001</li>

<br>Ported Rishi Bhargava's source-routing code into ns. Most files under
~ns/src_rtg/. Example script tcl/ex/src_test.tcl &amp; tcl/test/test-suite-source-routing.tcl
<p><li>
<b><a href="mailto:haldar@isi.edu">[Padma Haldar]</a></b> Mon May 21 12:11:42
PDT 2001</li>

<br>First cut for event-tracing support added - support added for Tcp only.
Shall be extended to cover all tcp test-suites in future. also support
to be added for agents other than tcp.
<p><li>
<b><a href="mailto:alefiyah@usc.edu">[Alefiya Hussain]</a></b> Tue May
15 5:30:45 PDT 2001</li>

<br>Bug Fix in BayTcp code to prevent packets being sent to absent application
agent.
<p><li>
<b><a href="mailto:sheth@usc.edu">[Ankur Sheth]</a></b> Tue May 15 2:00:45
PDT 2001</li>

<br>Added emulation code for passing TCP/UDP traffic through ns. TTL values
are updated in live network packets to reflect ns hops. Example script
provided in ~ns/emulate/thrutcp.tcl along with configuration instructions.
<p><li>
<b><a href="mailto:alefiyah@usc.edu">[Alefiya Hussain]</a></b> Tue May
15 2:00:45 PDT 2001</li>

<br>Added emulation support to allow ns BayFullTCP agent to interact with
real world TCP application. Active and passive connections are supported.
Example script provided in ~ns/emulate/tcpemu.tcl along with configuration
instructions.
<p><li>
<b><a href="mailto:haldar@isi.edu">[Padma Haldar]</a></b> Thu Apr 5 15:50:46
PDT 2001</li>

<br>Ported Kathy Nichole's version of full-tcp into ns (calling it BayTcp).
files are under ~ns/baytcp dir. ex script ~ns/tcl/ex/redlight.tcl first
cut and yet to be thoroughly tested for all corners and bugs.
<p><li>
<b><a href="mailto:jahn@isi.edu">[Jong-Suk Ahn]</a></b> Thu Mar 15 12:00:00
PST 2001</li>

<br>Expanded node-config command to add error models into a protocol stack
of wireless nodes. For the usage, see test-suite-wireless-lan-newnode-err.tcl.
Furthermore, an experimental bit-error model and a simple FEC module are
added in errmodel.cc and fec.cc
<p><li>
<b><a href="mailto:haldar@isi.edu">[Padma Haldar]</a></b> Tue Mar 6 12:32:23
PST 2001</li>

<br>Added bind function for binding TclObjects in tclcl. Files modified:
tclcl.h, Tcl.cc. See rtmodule.cc &amp; ns-rtmodule.tcl for example.
<p><li>
<b><a href="mailto:haldar@isi.edu">[Padma Haldar]</a></b> Fri Mar 2 10:59:12
PST 2001</li>

<br>Nix-Vector Routing contributed to ns from George F.Riley, Georgia Tech,
was integrated into ns source code.
<ul>List of files added/modified:
<p><li>
Makefile.in</li>

<p><li>
addition of new directory ~ns/nix:</li>

<ul>
<p><li>
classifier-nix{.cc,.h}</li>

<p><li>
hdr_nv{.cc,.h}</li>

<p><li>
nixnode{.cc,.h}</li>

<p><li>
nixroute.cc</li>

<p><li>
nixvector{.cc,.h}</li>
</ul>

<p><li>
tcl/lib/ns-rtmodule.tcl</li>

<p><li>
tcl/lib/ns-lib.tcl</li>

<p><li>
tcl/lib/ns-packet.tcl</li>

<p><li>
tcl/test/test-all-nixvec</li>

<p><li>
tcl/test/test-suite-nixvec.tcl</li>

<p><li>
tcl/test/test-output-nixvec/{NixVec.Z,NoNixVec.Z,quite.Z}</li>
</ul>
Contact info of contributor: George Riley(riley@cc.gatech.edu)
<p><li>
<b><a href="mailto:haldar@isi.edu">[Padma Haldar]</a></b> Thu Mar 1 10:27:46
PST 2001</li>

<br>Error checking added for out of range address for ascii-to-interger
conversions in addr2str routine.
<p><li>
<b><a href="mailto:haldar@isi.edu">[Padma Haldar]</a></b> Thu Feb 22 11:10:01
PST 2001</li>

<br>The following modifications made to the routing code in NS: 1. In order
to increase run-time efficiency, we moved iteration-heavy parts of routing
from OTcl to C++. The classifier-population has been moved to C++ which
have resulted in run-time efficiency increase of more 50%. 2. Simulator
is now a split object. It manitains a list of node both in OTCl and C++.
will try to reduce it down to a single list: routing-modification partII.
3. Every node now maintains a pointer to the head of routing module chain.
so incase of a routing add/update, the info flows from head of the chain
to the other modules connected in the chain. same model should be there
in Otcl which will replace the routing module list maintained by each node.
--to-do-for-partII. 4. Population of classifiers now done by routing modules
entirely in C++. 5. A new ParentNode class added that acts as parent class
for different kinds of nodes like Node, LanNode, AbsLanNode, BroadcastNode
etc. 6. Wireless routing modules to be added in future --PartII.
<p><li>
<b>Yuri</b> Mon Feb 19 12:31:47 PST 2001</li>

<br>Fixed the "packet RX while in IFS" bug in 802.3, that could lead to
packet duplication.
<p><li>
<b><a href="mailto:yaxu@isi.edu">[Ya Xu]</a> Wed Feb 7 01:24:56 PST 2001</b></li>

<pre>Add GAF algorithm (for AODV and DSR) into ns
Validation test suite is added too.
A bug regarding multicast address in AODV code has been fixed</pre>

<p><li>
<b><a href="http://www.aciri.org/floyd/">[floyd]</a></b> Thu Jan 18 19:34:44
PST 2001</li>

<br>Added ECN to TFRC, the equation-based congestion control module.
<p><li>
<b><a href="mailto:tomh@geocast.com">[Tom Henderson]</a> Fri Jan 12 09:45:00
PST 2000</b></li>

<br>Bug fix in satellite repeater code (ns-sat.tcl)-- interface queue limit
was not changeable. Reported by Haroldo Zattar.
<p><li>
<b><a href="mailto:alefiyah@usc.edu">[Alefiya Hussain]</a></b></li>

<br>Implemented an abstract LAN, in which CSMA/CD mechanism is replaced
by a DropTail queue.
<br>Validation tests provided in ~ns/tcl/test/test-suite-lan.tcl
<p><li>
<b><a href="mailto:alefiyah@usc.edu">[Alefiya Hussain]</a></b></li>

<br>Added support for collision (MAC level) traces on the IEEE 802.3 LAN
<br>Traces are indicated by a 'c' in the trace file. These traces can be
generated using a trace option in make-lan command.
<br>Validation tests provided in ~ns/tcl/test/test-suite-lan.tcl
<p><li>
<b><a href="http://www.aciri.org/floyd/">[floyd]</a> Tue Dec 19 14:48:32
PST 2000</b></li>

<br>Added DelAckSink::reset() to TCP sinks, to prevent a core dump when
a TCP connection is reset but the delay timer for delayed acks does not
get reset also. Bug report and fix from Joseph Ishac. Validation test in
"test-all-tcpReset".
<p><li>
<b><a href="http://www.isi.edu/~xuanc/">[Xuan Chen]</a>Wed Dec 13 21:08:35
PST 2000</b></li>

<br>Added patch from <a href="mailto:ehw@lanl.gov">Eric Weigle</a> for
TCP vegas.
<p><li>
<b><a href="http://www.isi.edu/~johnh/">[johnh]</a></b> <b>Tue Dec 12 10:36:34
PST 2000</b></li>

<br>Updated config.guess to autoconf's current one.
<p><li>
<b><a href="http://www.isi.edu/~xuanc/">[Xuan Chen]</a></b> <b>Mon Nov
27 20:22:49 PST 2000</b></li>

<ul>
<p><li>
Reorganized the policy related code in diffserv module, make different
policies as seperate classes. Users can add their own policy easily.</li>

<p><li>
Create a new class PolicyClassifier to keep states for different policies
and flows.</li>
</ul>

<p><li>
<b><a href="http://www.cs.washington.edu/homes/ratul">[ratul]</a></b> <b>Fri
Nov 17 14:00:00 PST 2000</b></li>

<ul>
<p><li>
Added RED-PD code to ns. RED-PD intorduces a pre-filter in front of a RED
queue to drop selected flows preferentially.</li>

<p><li>
Added RED-PD simulation scripts containing the identification engine to
ns distribution at ~ns/tcl/red-pd.</li>

<p><li>
Added a preliminary version of Pushback code to ns. Pushback is used to
detect and control high bandwidth aggregates.</li>

<p><li>
Added a simple list structure in node.cc to help a Node keep a list of
neighbors. A similar list structure is present in mobile node I think,
wonder if that can be brought down to base node.</li>
</ul>

<p><li>
<b><a href="http://catarina.usc.edu/~haoboy">[haoboy]</a></b> <b>Mon Nov
13 10:04:34 PST 2000</b></li>

<br>Updated lib/dmalloc_support.cc for 4.7.1/4.8.0 (actually done long
time ago, but log it now.)
<p><li>
<b><a href="mailto:mehringe@isi.edu">[John Mehringer]</a></b> <b>Thu Nov
2 13:51:28 PST 2000</b></li>

<br>Added patch from <a href="mailto:ehw@lanl.gov">Eric Weigle</a> for
scheduler to use 64 bit integers when available.
<p><li>
<b><a href="http://www.isi.edu/~xuanc/">[Xuan Chen]</a></b> <b>Wed Nov
1 13:51:28 PST 2000</b></li>

<br>Integrated diffserv module contributed from Nortel. The source files
are located at ns-2/diffserv; there are also some example scripts (ds-cbr-*.tcl)
under ns-2/tcl/ex/diffserv.
<p><li>
<b><a href="http://www.tik.ee.ethz.ch/~huang">[PH]</a></b> <b>Fri Oct 20
14:18:48 CEST 2000</b></li>

<br>Two bug fixes related to massive web traffic simulations:
<ul>
<p><li>
memory leak fix in tcl/http/htto-mod.tcl for those still using the old
web traffic generator code</li>

<p><li>
bug fix in ReassemblyQueue::add(), full-tcp.cc, according to Li Fan's <a href="http://www.isi.edu/nsnam/archive/ns-users/webarch/2000/msg00551.html">report</a>
on 10 Feb 2000</li>
</ul>
</ul>

<hr>
<h3>
<a href="http://www.isi.edu/nsnam/dist/ns-src-2.1b7a.tar.gz">ns-2.1b7a</a>
released on Mon Oct 16 21:01:42 PDT 2000</h3>

<ul>
<p><li>
<b><a href="http://www.isi.edu/~johnh/">[johnh]</a> Thu Nov 9 10:53:42
PST 2000</b></li>

<br>ns-2.1b7a released by Haobo Yu, Ya Xu, and John Heidemann. This release
is exactly what was in ns-2.1b7 with these bug fixes/enhancements:
<ul>
<p><li>
a bug in gen-map is fixed</li>

<p><li>
a heap scheduler memory leak is fixed</li>

<p><li>
nse should now build on FreeBSD and Linux</li>

<p><li>
the allinone release should build cleanly on Solaris machines</li>

<p><li>
allinone information about modifying PATH and LD_LIBRARY_PATH is now clarified</li>
</ul>
</ul>

<hr>
<h3>
<a href="http://www.isi.edu/nsnam/dist/ns-src-2.1b7.tar.gz">ns-2.1b7</a>
released on Mon Oct 16 21:01:42 PDT 2000</h3>

<ul>
<p><li>
<b><a href="http://netweb.usc.edu/yaxu/">[yaxu]</a></b> <b>Mon Oct 16 21:01:42
PDT 2000</b></li>

<br>ns 2.1b7 released
<p><li>
<b><a href="http://netweb.usc.edu/weiye/">[weiye]</a></b> <b>Fri Oct 13
11:51:06 PDT 2000</b></li>

<br>(1) Added a new chapter in ns Manual: radio propagation models.&nbsp;
(2) Changed a separate program ~ns/indep-utils/propagation/threshold.cc
for compute receiving threshold for a specified communication range for
all available propagation models in ns.
<p><li>
<b><a href="http://www.isi.edu/~kclan/">[kclan]</a>Mon Oct 2 20:00:00 PDT
2000</b></li>

<br>Creation of Real Audio traffic model:
<ul>
<p><li>
create source file realaudio.cc</li>

<p><li>
create example script ramodel.tcl in ~ns/tcl/ex/realaudio</li>

<p><li>
create testsuite for realaudio model in ~ns/tcl/test/test-output-realaudio</li>
</ul>

<p><li>
<b><a href="http://www.isi.edu/~johnh/">[johnh]</a></b> <b>Fri Oct 6 11:43:29
PDT 2000</b></li>

<br>Changes from eval to evalc wherever eval'ing constant strings with
embedded subcommands (with []). This construct crashes tcl-8.3 (that modifies
strings) when used with compilers that don't properly match against eval(const
char*) (like apparently egcs-2.91.66).
<p><li>
<b><a href="http://netweb.usc.edu/weiye/">[weiye]</a></b> <b>Mon Oct&nbsp;
9 16:39:46 PDT 2000</b></li>

<br>Test suite for the shadowing propagation model is added.
<p><li>
<b><a href="http://netweb.usc.edu/weiye/">[weiye]</a></b> <b>Mon Oct&nbsp;
2 13:39:46 PDT 2000</b></li>

<br>Modifications of the propagation models: (1) The Friis free space model
is added in propagation.{h, cc}. Users can directly use it in their simulations.&nbsp;
(2) Thanks to Leonard Miller's suggestion, we modified the equations in
the two-ray ground model. The system loss L is taken out from the calculation
of the cross-over distance, and it is added in the calculation of the received
power.
<p><li>
<b><a href="http://catarina.usc.edu/~haoboy/">[haoboy]</a>Thu Sep 14 11:01:49
PDT 2000</b></li>

<br>Partially completely node restructuring:
<ul>
<p><li>
A node can be considered as a collection of classifiers and routing modules.
An important function that Node should provide is how to interface classifiers
to routing modules. There are two aspects to this: (1) what is the organization
of these classifiers, and (2) when there is a routing change, which classifiers
should be notified and how.</li>

<p><li>
Hierarchical routing, manual routing, virtual classifier, MPLS have been
converted to the new scheme.</li>

<p><li>
Multicast code is partially converted, in that the hookup of switch_ is
done via RtModule/Mcast, however, existing mcast code is not changed to
be wrapped entired in this module; it is still in the forms of a bunch
of Simulator and Node instprocs.</li>

<p><li>
Mobile node and satellite node are not converted. Mobile code in itself
needs to be cleaned up. For instance, MobileNode partially duplicates the
functionality of MIP, however it does not entirely replace old Node/MIPBS
and Node/MIPMH. The conversion of these two modules to the new scheme also
requires changing their c++ code, which is not trivial.</li>
</ul>
Other changes include:
<ul>
<p><li>
Move AddrParams class to a singleton split object class. Most of its parameters
are now stored in c++ space.</li>

<p><li>
Created a wrapper hierarchical classifier to present a single classifier
interface to node configuration. This allows us to avoid those gazillions
of <tt>if [Simulator set EnableHierRt_] ...</tt> that were all over the
place.</li>
</ul>

<p><li>
<b><a href="http://catarina.usc.edu/~haoboy/">[haoboy]</a>Tue Sep 12 20:01:53
PDT 2000</b></li>

<br>Added 'lsort -dictionary' to DV routing code so its results will not
change as the shadow object names of nodes change due to addition of new
objects. This paves the way to modular node configuration as some new node
routing modules would be added during the construction of each node. Also
changed is [array names] code in web cache, a lsort -dictionary will enhance
its validation stability.
<br>BTW I think SplitObjectCompare in tclcl/tcl-object.tcl is obsolete
now since 'lsort -dictionary' does the same job but it's built in hence
should be faster than an outside command.
<p><li>
<b><a href="http://catarina.usc.edu/~haoboy/">[haoboy]</a>Thu Aug 31 13:34:25
PDT 2000</b></li>

<ol>
<p><li>
Added procedures into ns-packet.tcl to help customizing packet headers
in simulation. (Packet header chapter in ns manual has been updated; please
read it for more information.) This may lead to big savings in packet-intensive
applications. For instance, currently all protocol headers add up to about
2KB per packet, but including only the common header, IP header and TCP
header takes only about 100 bytes. This may mean a lot of savings for,
say, large-scale web traffic simulation. But I've not tested it.</li>

<p><li>
Get rid of all off_[hdr]_ stuff from all source files. Now ns-packet.tcl
does not create these offset variables at all. This saves two bounded variables
per NsObject.</li>

<p><li>
Move static packet header declaration from encap.h to encap.cc. A variable
_instantiation_ should not reside in a header file.</li>
</ol>

<p><li>
<b><a href="http://catarina.usc.edu/~haoboy/">[haoboy]</a></b> <b>Thu Aug
31 12:55:49 PDT 2000</b></li>

<ol>
<p><li>
Node cleanup: move all energy-related variables and methods in the base
Node into EnergyModel. Note that node_on_ may be moved back later, but
for now its handler is closely tied to wireless routing.</li>

<p><li>
Added dependency of tcl/mobility/dsdv.tcl into Makefile.in</li>

<p><li>
Moved tcl/lib/rtProtoLS.tcl into tcl/rtglib, where all routing protocols
stay.</li>

<p><li>
Added a line about link state into unicast.tex, and labeled link state
and MPLS as undocumented.</li>
</ol>

<p><li>
<b><a href="http://catarina.usc.edu/~haoboy/">[haoboy]</a></b> <b>Tue Aug
29 17:03:43 PDT 2000</b></li>

<br>Node cleanup: (1) moved nam tracing hookup to the base Node, so we
do not need to keep namtraceAllFile_ in Node, which duplicates that in
Simulator, nor do we need to keep a namDefined_ flag. (2) Removed and commented
out unused otcl instprocs in Node which are masked (through inheritance)
by those in MobileNode.
<p><li>
<b><a href="http://catarina.usc.edu/~haoboy/">[haoboy]</a></b> <b>Thu Aug
24 14:25:08 PDT 2000</b></li>

<ol>
<p><li>
Added MPLS package originally written by <a href="mailto:fog1@ce.cnu.ac.kr">Gaeil
Ahn</a>. It was modified to reduce the amount of otcl calls, and moved
to use node-config instead of creating a new Node subclass. However, there
is still a long way to go when a new routing module can be introduced into
a Node without interfering with other routing modules. Please see <a href="TODO.html">TODO.html</a>
for more information.</li>

<p><li>
Fixed bugs in assert{} usage: what follows must be quotes instead of braces,
the latter does not perform substitution and variables in the expression
won't be visible inside assert{}.</li>

<p><li>
Cosmetic changes in ns-node.tcl and ns-route.tcl. Commented out unused
code, including Simulator::compute-routes-mobilenodes{}, Node::*TcpSession{}.
Commented code resides at the end of its corresponding file.</li>

<p><li>
Changed tcl/test/test-all-template1 to use case instead of if(s) to redirect
stdout to temp.rands.</li>
</ol>

<p><li>
<b><a href="http://www.aciri.org/floyd/">[floyd]</a>Sun Aug 20 22:17:11
PDT 2000</b></li>

<br>A change to setting the pipe_ variable in Sack TCP when entering in
Fast Recovery for the non-ECN case, to make the performance the same as
the ECN case. Motivated by a suggestion from Mark Allman. Set oldCode_
to true to use the old code. Validated in "./test-all-tcp underutilized_100ms_control_Sack".
<p><li>
<b><a href="http://catarina.usc.edu/~haoboy/">[haoboy]</a></b> <b>Thu Aug
17 22:16:32 PDT 2000</b></li>

<ol>
<p><li>
Autoconf support for checking compatibility of compiler's STL support.
Basically it tries to see if template inheritance is supported, which some
earlier gcc does not seem so.</li>

<br>Currently this is used only for the link state routing protocol module,
which uses STL extensively. However, this mechanism can be easily extended
to enhance the modularity of ns, in the sense that the user may actively
choose which module to compile into her/his ns binary, thus save memory/disk
space/initialization time/etc.
<br><b>IMPORTANT</b>: validate is now moved to validate.in, because link
state module may or may not be present depending on availability of STL.
<p><li>
Removed numerous <tt>... set off_*_ 0</tt> in tcl/*/*.tcl. Although off_[hdr]_
is an obsolete way to access packet headers, it is still used in much existing
code. These offsets MUST be set through the code in tcl/lib/ns-packet.tcl.
Explicitly setting it to 0 will result in accessing packet header in the
wrong place. However, this is a very treachrous bug, because ns packet
header is 'sparse' in that much of the space is not used in a simulation.
Therefore, most of the time this bug will not lead to segmentation fault
or incorrect functionality. Usually it only results in mysterious segmentation
faults in completely irrerelevant places.</li>

<br>The most significant bug related to this problem is <tt>off_arp_</tt>
and <tt>off_sr_</tt>. The former results in the crash of <tt>wireless3</tt>
test in <tt>WLtutorial</tt> test suite. The latter results in incorrect
output of <tt>CMUTrace</tt> in dsr-related tests in <tt>wireless-lan</tt>,
<tt>wireless-lan-newnode</tt>,
and <tt>wireless-tdma</tt> test suites.
<p><li>
Merged all the <tt>delay_parse</tt>, <tt>time_parse</tt>, <tt>bw_parse</tt>
in tcl/*/*.tcl. There exists at least 3 versions of these codes with slightly
different implementations. Now they all converge to John's <tt>time_parse</tt>
and <tt>bw_parse</tt> in tcl/lib/ns-lib.tcl.</li>

<p><li>
test-output-wireless-lan/dsr.Z was truncated at the end because test-suite-wireless-lan.tcl
(and -lan-newnode.tcl) did not flush the trace file before rewriting it.</li>

<p><li>
Removed dmalloc 3.* support because their headers do not carry version
information.</li>

<p><li>
Removed unused iostream.h in various files.</li>
</ol>

<p><li>
<b><a href="http://catarina.usc.edu/~haoboy/">[haoboy]</a></b> <b>Wed Aug
16 16:59:15 PDT 2000</b></li>

<br>Moved list.h to lib/bsd-list.h to prepare for STL support, since list.h
conflicts with STL's list.h
<p><li>
<b><a href="http://www.isi.edu/~johnh/">[johnh]</a></b> <b>Tue Aug 1 15:30:30
PDT 2000</b></li>

<br>Patches to allow ns to build with tcl-8.3 (still must specify --with-tcl-version=8.3
and --with-tk-version=8.3 in the configure). Validation tests VC and monitor
still fail (segfault in tcl code)---this is work in progress.
<p><li>
<b><a href="http://www.aciri.org/floyd/">[floyd]</a>Sun Aug 13 09:48:15
PDT 2000</b></li>

<br>Added code (on July 18) for correctly tracing early packet drops from
RED when flow monitors are attached. Code from Ratul Mahajan.
<p><li>
<b><a href="http://www.aciri.org/floyd/">[floyd]</a>Sun Aug 13 09:48:15
PDT 2000</b></li>

<br>Added the following options to the one-way TCP, over the last few weeks:
<ul>
<p><li>
Added noFastRetransmit_ for Tahoe TCP without Fast Retransmit. Validated
in "./test-all-testReno". (July 8)</li>

<p><li>
Added fixes to the scoreboard and TCP/Sack1 code, fixes contributed by
Ethan Blanton. The scoreboard did not properly advance the left edge of
the SACK window during Fast Recovery *unless* the processed packet contained
a SACK block. (July 9)</li>

<p><li>
Added code contributed by Ethan Blanton, so that the Sack1 TCP sender checks
if duplicate acknowledgements acknowledge the receipt of new data, for
the one-way Sack1 TCP. Validated in "test-all-ecn ecn_noBugfix_sack". (July
22)</li>

<p><li>
Added precisionReduce_ for non-integer reductions of the TCP congestion
window. Code contributed with Deepak Bansal. This is for use with TCP with
non-standard values for the window increase and decrease parameters, and
is validated in "./test-all-aimd". (August 7)</li>

<p><li>
Added "k_parameter_" and "l_parameter_" for binomial congestion control,
used with wnd_option_ == 6. Code contributed by Deepak Bansal. Validated
in "./test-all-aimd". (August 9)</li>

<p><li>
Removing all uses of the defined constant NUMDUPACKS, replacing it with
the use of the added variable numdupacks_ instead. Code from Ethan Blanton.
Validated in "./test-all-tcpOptions". (August 12)</li>
</ul>

<p><li>
<b><a href="http://www.isi.edu/~johnh/">[johnh]</a></b> <b>Tue Aug 1 15:30:30
PDT 2000</b></li>

<br>Nam section of the documentation started with details about how to
make animated gifs.
<p><li>
<b><a href="http://www.isi.edu/~haoboy">[haoboy]</a>Wed Jul 26 18:11:09
PDT 2000</b></li>

<ul>
<p><li>
Added link state routing code contributed by <a href="mailto:msun@rainfinity.com">Mingzhou
Sun</a>.</li>

<p><li>
Remove conditional directive NAM_TRACE.</li>

<p><li>
Added further explaination to Classifier::no-slot{} error messages in tcl/lib/ns-lib.tcl</li>
</ul>

<p><li>
<b><a href="http://www.isi.edu/~haoboy">[haoboy]</a>Tue Jul 25 14:59:09
PDT 2000</b></li>

<br>PLM code contributed by Arnaud Legout at EURECOM.
<p><li>
<b><a href="http://www.isi.edu/~xuanc/">[xuanc]</a></b> <b>Sat Jul 22 16:58:54
PDT 2000</b></li>

<br>(1)New API (channel) added to node-config in ns-lib.tcl to support
multiple interfaces for wireless node. A demo tcl script also included.
(2)The URLs in README and CHANGES.html are fixed.
<p><li>
<b><a href="http://netweb.usc.edu/weiye/">[weiye]</a></b> <b>Fri Jul 21
13:20:59 PDT 2000</b></li>

<br>(1)A new radio propagation model, the shadowing model, is added. It
uses the path-loss model to predict mean received signal power for certain
T/R distance. Then a random variable, called log-normal shadowing, is added
to the mean value. Different parameters of the path-loss exponent and the
shadowing deviation represent different propagation environments. This
statistical model is applicable to both outdoor and indoor. (2) A bug fixed
in wireless-phy.cc. The bug disabled setting values of bound variables
from Tcl.
<p><li>
<b><a href="http://www-scf.usc.edu/~intanago">[intanago]</a></b> <b>Mon
Jul 10 7:31:37 PDT 2000</b></li>

<br>(1) Checked in directed diffusion, flooding, and omnicient multicast
modules including codes, test suits, scenarios, and examples. (2) Added
more supports on idle energy consumption. (3) Fixed some bugs of energy
consumption in transmission and reception.
<p><li>
<b><a href="http://www.aciri.org/floyd/">[floyd]</a></b> <b>Sun Jul 9 09:38:26
PDT 2000</b></li>

<br>Added "first_reset_" to red.{h,cc} so that "queue-in-bytes_" works
correctly for RED when reset() is called multiple times. Bug report from
Wen Shushan. The option "queue-in-bytes_" had been working correctly in
the validation test in "./test-all-red red_twowaybytes", but in other scripts
REDQueue::reset() can be called twice, and in this case "queue-in-bytes_"
had not been working correctly.
<p><li>
<b><a href="http://www.aciri.org/floyd/">[floyd]</a></b> <b>Fri Jul 7 17:02:16
PDT 2000</b></li>

<br>Added the TCP Rate-Halving code to NS. This is contributed code from
Matt Mathis, Jeff Semke, Jamshid Mahdavi, and Kevin Lahey, from the web
page ``http://www.psc.edu/networking/ftp/papers/draft-ratehalving.txt''.
This is partially validated in the validation test "./test-all-tcpVariants",
for example in "./test-all-tcpVariants/fourdrops_sackRH".
<p><li>
<b><a href="http://www.aciri.org/floyd/">[floyd]</a></b> <b>Mon Jun 26
20:07:50 PDT 2000</b></li>

<br>First pass at adding RIO code to NS. This RIO code is from Yun Wang,
based on the code used by Wenjia Fang, and was ported to ns-2.1b6 by J.
Scott.
<p><li>
<b><a href="http://www.cs.berkeley.edu/~tomh/">[tomh]</a></b> <b>Tue Jun
21 17:44:10 PDT 2000</b></li>

<br>Changes to support <a href="http://www.ee.surrey.ac.uk/Personal/L.Wood/ns/sat-plot-scripts/">Lloyd
Wood's improved perl scripts</a> for the satellite code.
<p><li>
<b><a href="http://www.isi.edu/~kclan/">[kclan]</a></b> <b>Tue Jun 21 11:12:54
PDT 2000</b></li>

<br>Fix to full-tcp reassembly from Matt Sanders and George Riley of Georgia
Tech.
<p><li>
<b><a href="http://www.isi.edu/~xuanc/">[xuanc]</a></b> <b>Mon Jun 12 17:13:45
PDT 2000</b></li>

<br>A single hop, preamble based TDMA mac layer (Mac/Tdma) was added. It
can be used in wireless / sensor net simulations in the place of 802.11
mac layer.
<p><li>
<b><a href="http://www.isi.edu/~johnh/">[johnh]</a></b> <b>Thu Jun 1 13:55:39
PDT 2000</b></li>

<br>Code added from William Metzenthen's floating point library (at <a href="http://www.linuxsupportline.com/~billm/faq.html">http://www.linuxsupportline.com/~billm/faq.html</a>)
to make ns run with 56-bit FP precision on Linux. (All test suites should
now pass there.)
<p><li>
<b><a href="http://www.aciri.org/floyd/">[floyd]</a></b> <b>Sat May 27
16:59:07 PDT 2000</b></li>

<br>Added new validation test "./test-all-links" to illustrate dynamically
changing link delay and bandwidth.
<p><li>
<b><a href="http://www.aciri.org/floyd/">[floyd]</a></b> <b>Mon May 15
22:58:15 PDT 2000</b></li>

<br>Added bug-fixes to tcp.cc for the case with ECN when cwnd &lt; 1. The
first fix is not to reset the retransmit timer when a new ack arrives and
cwnd &lt; 1. The second fix is, when the retransmit timer expires and cwnd
&lt; 1, to reset cwnd to 1. The first bug was reported by Yin Zhang. I
also added four new ECN validation tests to test these bugfixes, ./test-all-ecn
ecn_secondpkt1Ecn_tahoe, ecn_smallwin1Ecn_tahoe, ecn_smallwin2Ecn_tahoe,
and ecn_smallwin3Ecn_tahoe.
<p><li>
<b><a href="http://www.aciri.org/floyd/">[floyd]</a></b> <b>Fri May 12
16:26:02 PDT 2000</b></li>

<br>Added bug fix for the initial slow-start in TFRC, and changed the default
value for Agent/TFRC/InitRate_ for greater compatibility with TCP. Also
added two new validation tests, manyDrops and twoDrops, to test-all-friendly
to validate the bug fix. Fix from Jitendra Padhye.
<p><li>
<b><a href="http://www.aciri.org/floyd/">[floyd]</a></b> <b>Fri Apr 14
21:01:25 PDT 2000</b></li>

<br>Added RFC2581_immediate_ack_ for TCP Delayed-Ack sinks, to generate
ACKs immediately for data that fills a gap in the sequence space. This
gives RFC2581-compliance for delayed ack receivers. Bug report from Changhee
Joo, with fix from Changhee Joo and Lloyd Wood.
<p><li>
<b><a href="http://www.aciri.org/floyd/">[floyd]</a></b> <b>Mon Apr 10
16:55:44 PDT 2000</b></li>

<br>Smaller initial rate for Agent/TFRC, to correct overly-aggressive behavior
with very low bandwidth paths. Fix from Jitendra Padhye.
<p><li>
<b><a href="http://www.isi.edu/~haoboy/">[haoboy]</a> Fri Mar 24 11:36:59
PST 2000</b></li>

<ul>
<p><li>
NsObject::debug(), a generic way to write verbose debug messages.</li>

<p><li>
<a href="mailto:Richard.Mortier@cl.cam.ac.uk">Richard Mortier's</a> fix
for TcpFull::gensack().</li>
</ul>

<p><li>
<b><a href="http://netweb.usc.edu/yaxu/">[Ya]</a></b> <b>Thu Mar 9 17:07:08
PST 2000</b></li>

<br>(1) New energy model to support idle time energy dissipation (2) BECA
and AFECA algorithms used in the paper "Adaptive Energy-Conserving Routing
protocols for multihop ad hoc wireless network", submitted to mobicom2000
(3) Pending commit: examples and validation test suite.
<p><li>
<b><a href="http://netweb.usc.edu/huang/">[PH]</a></b> <b>Mon Feb 14 17:48:06
CET 2000</b></li>

<br>Bug fix for DV (Dynamic Distance Vector) Routing
<br>Update test output for example3 (using DV) in test-suite-greis.tcl
<br>Bug report and fix from Guo Liang guol@cs.bu.edu and patches from Cheng
Tak Cheung tccheng@csis.hku.hk
<p><li>
<b><a href="http://www.aciri.org/floyd/">[floyd]</a></b> <b>Fri Jan 14
16:16:15 PST 2000</b></li>

<br>Bug fix for rare, inappropriate cancelling of the TCP retransmit timer.
Bug report and fix from Mark Allman, mallman@grc.nasa.gov.
<p><li>
<b><a href="http://www.isi.edu/~kclan/">[kclan]</a></b> <b>Fri Jan 9 20:00:15
PST 2000</b></li>

<br>Add an API to support visualization of energy depletion of wireless
node in nam .
<br>SYNTAX: $ns_ energy-color-change [level1] [level2]</ul>

<hr>
<h3>
<a href="http://www-mash.cs.berkeley.edu/dist/vint/ns-src-2.1b6.tar.gz">Release
of ns-2.1b6</a> on Tue Jan 18 14:58 PST 2000</h3>

<ul>
<p><li>
<b><a href="http://www.isi.edu/~salehi">[salehi]</a></b> <b>Thu Jan 10
14:05:03 PST 2000</b></li>

<br>Modified the real-time scheduler, thanks to <a href="mailto:weiye@usc.edu">Wei
Ye</a>. The original real-time scheduler zeros the real-time clock when
doing "new RealTimeScheduler". The patch makes it zero the clock when doing
"$ns run", which is synchronized with the virtual-time clock when simulation
starts.
<p><li>
<b><a href="http://www.aciri.org/floyd/">[floyd]</a></b> <b>Sat Jan 8 20:01:51
PST 2000</b></li>

<br>When resetting a sack TCP connection, the scoreboard was not cleared.
Added a reset procedure to Sack1TcpAgent. Bug report and fix from Mark
Allman, mallman@grc.nasa.gov.
<p><li>
<b><a href="http://www.isi.edu/~johnh/">[johnh]</a></b> <b>Tue Jan 4 14:17:02
PST 2000</b></li>

<br>Delay binding for TCP TraceVar instance variables now works. (Requries
an updated tclcl.) Code is under ifdef TCP_DELAY_BIND_ALL. Old TCP_DELAY_BIND
ifdef's removed.
<p><li>
<b><a href="http://www.isi.edu/~kkumar/">[kkumar]</a></b> <b>Tue Dec 14
16:53:45 PST 1999</b></li>

<br>Updated code for the landmark hierarchy construction protocol, a simple
flood agent, tags database and the associated tag query agent. Added code
to enable tag mobility. agent-list.{h,cc} provides a list of routing agents
that is used for tag mobility. Affected files: Under ns-2/sensor-nets/
: landmark.h landmark.cc flood-agent.h flood-agent.cc tags.h tags.cc sensor-query.h
sensor-query.cc agent-list.h agent-list.cc Under ns-2/tcl/mobility/ : landmark.tcl,flood.tcl
Example script in ns-2/tcl/ex/wireless-landmark.tcl
<p><li>
<b><a href="http://www.isi.edu/~johnh/">[johnh]</a></b> <b>Fri Dec 10 11:58:57
PST 1999</b></li>

<br>Hyun-ah implemented code to move TCP to delayed binding. This commit
enables part of that code. Delay binding for things of type TracedVar needs
additional tclcl support and will follow.
<p><li>
<b><a href="http://www.aciri.org/floyd/">[floyd]</a></b> <b>Sat Dec 4 16:01:34
PST 1999</b></li>

<br>Added RFC 793 TCP implementation, with some add-ons for educational
purposes, contributed by Fernando Cela Diaz,&nbsp;<fcela@ce.chalmers.se>.
The exercises can be run with the command "./test-all-rfc793edu" in "tcl/test".
The examples are described at "http://www.ce.chalmers.se/~fcela/rfc793edu.html",
on "Teaching TCP Congestion Control and Avoidance with the ns Network Simulator".
<p><li>
<b><a href="http://www.isi.edu/haldar">[haldar]</a></b> <b>Wed Nov 24 12:34:48
PST 1999</b></li>

<br>Added "section: Commands at a glance" to all chapters in nsN&amp;D.
This is intended to replace the outdated manual pages. also nsN&amp;D shall
be renamed as ns manual.
<p><li>
<b><a href="http://www.isi.edu/~johnh/">[johnh]</a></b> <b>Tue Nov 23 17:31:14
PST 1999</b></li>

<br>Default make and install targets are now recursive (they include the
utility programs).
<p><li>
<b><a href="http://www.isi.edu/yaxu">[yaxu]</a></b> <b>Thu Nov 19 20:11:16
PST 1999</b></li>

<br>Added new trace format to wireless trace. The new trace format is more
expandable. The user still can keep using the old trace format. The new
trace format is enabled by an explicit ns command.
<p><li>
<b><a href="http://www.aciri.org/floyd/">[floyd]</a></b> <b>Thu Nov 18
20:11:16 PST 1999</b></li>

<br>Added configurable parameters for AIMD increase and decrease constants
in TCP, and test suite "test-all-aimd" for illustration and validation.
<p><li>
<b><a href="http://www.isi.edu/~johnh/">[johnh]</a></b> <b>Thu Oct 14 16:51:24
PDT 1999</b></li>

<br>New code in fsm.cc to walk the TCP FSM and compute probabilities.
<p><li>
<b><a href="mail:yuri@isi.edu">[yuri]</a></b> <b>Thu Oct 14 16:41:36 PDT
1999</b></li>

<ul>
<p><li>
Many changes to 802.3 implementations: added retransmissions, jamming signal,
modified internal structure.</li>

<p><li>
Changes to vlan tracing setup: in some traces the order of source and destination
was reversed.</li>

<p><li>
Added enumeration of packet direction (hdr_cmn::direction)</li>
</ul>

<p><li>
<b><a href="http://www.isi.edu/~johnh/">[johnh]</a></b> <b>Wed Oct 13 15:47:23
PDT 1999</b></li>

<br>Three sets of changes: (1) deleteing old dead !CLASSINSTVARS code and
ifdefs. (2) configure changes to support Alpha, debugged with Stefan Dresler's
help. (3) AF_{NONE,INET,ILINK} changed to NS_AF_* to be system independent.
<p><li>
<b><a href="http://www.isi.edu/~haoboy/">[haoboy]</a></b> <b>Wed Oct 6
14:27:47 PDT 1999</b></li>

<ul>
<p><li>
More instrumentation for the media cache stuff.</li>

<p><li>
Fixed numerical instability in media cache and QA code.</li>

<p><li>
Added full test suite for QA and media cache, which were not there due
to instable output across platforms.</li>
</ul>
Thanks to Yuri and John for their invaluable help in tracking down this
bug.
<p><li>
<b><a href="http://www.isi.edu/~yaxu/">[Ya]</a></b> <b>Tues Oct 5, 15:54:45
PDT 1999</b></li>

<br>AODV. Ported from Samir's modification on cmu's original implementation
<p><li>
<b><a href="http://www.isi.edu/~salehi/">[salehi]</a></b> <b>Mon Sep 30
15:54:45 PDT 1999</b></li>

<br>Replaced regular classifier with the hash classifier. This will improve
memory management because node addresses do not necessarily have to be
assigned sequentailly. A regular classifier allocates a static array whose
length is equal to the largest node address, which could cause various
problems, e.g., sparce array, running out of memory. A hash classifier,
on the other hand, allocates as many entries as there are nodes.
<p><li>
<b><a href="http://www.isi.edu/~salehi/">[salehi]</a></b> <b>Mon Sep 27
17:44:04 PDT 1999</b></li>

<br>Detected a bug which could force MCastBSTClassifier::upstream_find
into an infinite loop.
<p><li>
<b><a href="http://www.isi.edu/~haoboy/">[haoboy]</a></b> <b>Fri Sep 24
16:51:04 PDT 1999</b></li>

<ul>
<p><li>
Added new self-similar web traffic module based on Polly's http-mod.tcl.
It eliminates memory leak (undeleted RandomVariable), and slightly saves
runtime.</li>

<p><li>
Updated old example files of web traffic in tcl/ex.</li>

<p><li>
Examples of piping nam traces directly from ns to nam (nam-example.tcl).</li>

<p><li>
Rearranged header files in rap/. Removed macros 'is', 'or', 'and'.</li>
</ul>

<p><li>
<b><a href="http://www.isi.edu/~johnh/">[johnh]</a></b> <b>Fri Sep 24 10:03:08
PDT 1999</b></li>

<br>autoconf changes: many flags are now in autoconf.h rather than on the
command line, string{,s}.h is now autodetected.
<p><li>
<b><a href="http://www.isi.edu/~salehi/">[salehi]</a></b> <b>Mon Sep 20
18:25:20 PDT 1999</b></li>

<br>Modified the BST code in order to allow nodes to re-join a multicast
group.
<p><li>
<b><a href="http://www.isi.edu/~johnh/">[johnh]</a></b> <b>Fri Sep 17 18:27:50
PDT 1999</b></li>

<br>int8_t and friends now checked for by autoconf like they should have
been all along.
<p><li>
<b><a href="http://www.isi.edu/~johnh/">[johnh]</a></b> <b>Thu Sep 16 15:49:15
PDT 1999</b></li>

<br>The nam subdirectory removed from ns (suggestion from Lloyd). Scheduler
error message added (contributed from Pascal Anelli).
<p><li>
<b><a href="http://www.isi.edu/~johnh/">[johnh]</a></b> <b>Mon Sep 13 15:51:51
PDT 1999</b></li>

<br>scheduler declarations moved out to schedule.h (to allow subclassing,
suggested by George Riley).
<p><li>
<b><a href="http://www.isi.edu/~haoboy/">[haoboy]</a></b> <b>Thu Sep 9
10:07:58 PDT 1999</b></li>

<br>Corrected all declarations of AppData* copy() in all derived classes
of AppData. This caused ns to fail to compile under win32.
<p><li>
<b><a href="http://www.isi.edu/~johnh/">[johnh]</a></b> <b>Wed Sep 8 13:52:27
PDT 1999</b></li>

<br>Portability fixes for machines which lack bcopy/bzero, and for platforms
where autoconf doesn't find tclsh with an absolute pathname, and reindenting
of some RNG code.
<p><li>
<b><a href="http://www.aciri.org/floyd/">[floyd]</a></b> <b>Mon Aug 23
22:33:19 PDT 1999</b></li>

<br>Added option control_increase_ to TCP to limit increases to the congestion
window when the congestion window is not fully utilized. Also added changes
to the implementation of QOption_, for an optional method for reducing
the congestion window after an idle period. Code from Jitendra Padhye and
Mark Handley. Validation tests in "tcl/test/test-all-tcp".
<p><li>
<b><a href="http://www.isi.edu/~haoboy">[haoboy]</a></b> <b>Mon Aug 23
21:05:26 PDT 1999</b></li>

<ul>
<p><li>
Changed data_ in class Packet from unsigned char* to AppData*, thus we
are able to avoid marshalling of application-level data. To provide backward
compatibility, PacketData is derived from AppData and is the default packet
data to be created when Packet::allocdata() is called. It provides the
same unsigned char array as before. Thanks to Kevin and John for their
suggestions. All test suites of today's snapshot passed but I was unable
to test ns emulator.</li>

<p><li>
Removed several warnings from miscellaneous wireless codes. Still more
to remove.</li>
</ul>

<p><li>
<b><a href="http://www.aciri.org/floyd/">[floyd]</a></b> <b>Tue Aug 17
17:18:31 PDT 1999</b></li>

<br>Added option QOption_ to TCP for an optional method for reducing the
congestion window after an idle period or after a period where the full
congestion window has not been used. The code for this option is not necessarily
in its final state yet. The code is from Jitendra Padhye, from a collaboration
with Mark Handley.
<p><li>
<b><a href="http://www.aciri.org/floyd/">[floyd]</a></b> <b>Mon Aug 16
21:36:32 PDT 1999</b></li>

<br>Replaced tfrm.cc, tcp-friendly reliable multicast, by its successor,
tfrc.cc, tcp-friendly rate control. The changes are from Jitendra Padhye.
Tfrc.cc does not preserve backwards compatibility with all of the options
that were in tfrm.cc, as the design becomes more stable.
<p><li>
<b><a href="http://www.isi.edu/~johnh/">[johnh]</a></b> <b>Fri Aug 13 17:36:20
PDT 1999</b></li>

<br>Added a warning to scheduler.cc contributed by Pascal Anelli &lt;Pascal.Anelli@lip6.fr>.
<p><li>
<b><a href="http://www.isi.edu/~haldar">[haldar]</a></b> <b>Fri Aug 13
17:24:06 PDT 1999</b> Added ifdef's for a stand-alone (without using tclcl
lib) version of rng. Also revised setdest's Makefile allowing to build
setdest using this stand-alone version of rng.o</li>

<p><li>
<b><a href="http://www.isi.edu/~yaxu">[yaxu]</a></b> <b>Thu Aug 12 16:19:45
PDT 1999 </b>Added TORA/IMEP implementation according to CMU's release</li>

<ul>
<p><li>
ns-2/tora/: tora implementation</li>

<p><li>
ns-2/imep/: imep implementation. according to cmu, tora needs imep support</li>

<p><li>
ns-2/tcl/mobility/tora.tcl: tcl interface for tora</li>

<p><li>
ns-2/tcl/ex/tora-test.tcl, tora-test-simple.tcl 2 examples for tora.</li>
</ul>

<p><li>
<b><a href="http://www.isi.edu/~haldar">[haldar]</a></b> <b>Wed Aug 11
17:50:35 PDT 1999</b> Changed cmu's node-movement and traffic pattern generation
files (setdest.cc and calcdest.cc) to make them more portable.</li>

<p><li>
<b><a href="http://www.isi.edu/~kkumar">[kkumar]</a></b> <b>Thu Jul 29
16:19:45 PDT 1999 </b>Added a simple energy model to keep track of remaining
energy at nodes (methods to log energy currently exist only for wireless
nodes):</li>

<ul>
<p><li>
energy-model.{h,cc}: Defines the new EnergyModel class</li>

<p><li>
node.{h,cc}: Added hooks to attach EnergyModel to nodes</li>

<p><li>
mobilenode.{h,cc}: Added methods to log energy consumption</li>

<p><li>
wireless-phy.{h,cc}: Modified sendUp and sendDown methods to decrease the
node's energy on transmitting/receiving packets. Added reception power
to WirelessPhy object.</li>

<p><li>
tcl/lib/ns-lib.tcl: Added energyModel_ and initialEnergy_ options to the
new node API (new node API currently works only for dsdv). Creates and
attaches the specified energyModel_ to nodes.</li>

<p><li>
tcl/ex/wireless-newnode-energy.tcl: Simple example to show how energy usage
can be logged.</li>
</ul>

<p><li>
<b><a href="http://www.isi.edu/~kkumar">[kkumar]</a></b> <b>Thu Jul 21
17:53 PDT 1999 </b>Added a distributed self-organizing hierarchy construction
protocol based on the landmark hierarchy in the context of an object-tracking
sensor network application.</li>

<ul>
<p><li>
tags.{h,cc}: Create a database of tags; tags are randomly distributed in
a specified geographical region.</li>

<p><li>
landmark.{h,cc}: Self-organizing hierarchy implementation.</li>

<p><li>
sensor-query.{h,cc}: Simple agent that issues queries about tags.</li>

<p><li>
flood-agent.{h,cc}: Simple flooding agent that floods queries about tagged
objects to all sensors and generates responses (if any) back to the querying
node.</li>
</ul>

<p><li>
<b><a href="http://www.isi.edu/~haoboy">[haoboy]</a></b> <b>Fri Jul 9 14:20:23
PDT 1999</b> Changed all strsep() to strtok() and all heapsort() to qsort()
in indep-utils/webtrace-conv/.</li>

<p><li>
<b><a href="http://www.aciri.org/floyd/">[floyd]</a></b> <b>Tue Jul 6 21:19:27
PDT 1999</b></li>

<br>Updated files connected with tfrm.cc and tfrm-sink.cc for tcp-friendly
unicast congestion control. The original code is from Mark Handley, with
structural modifications by Jitendra Padhye. The validation test is "test-all-friendly".
<p><li>
<b><a href="http://www.isi.edu/~haoboy">[haoboy]</a></b> <b>Tue Jul 6 15:50:42
PDT 1999</b></li>

<ul>
<p><li>
rap/rap.cc: initialize logfile_</li>

<p><li>
webcache/tcpapp.{cc,h}: do not allocate anything in CBuf::CBuf() when size_
== 0</li>

<p><li>
webcache/http.cc: use Trace::round() in log() to reduce time print precisions
in log files.</li>

<p><li>
tcl/webcache/http-mcache.tcl: use lsort{} on list produced by PagePool/Client::list-pages{}
so that the results can be duplicated across different runs and platforms.</li>

<p><li>
tcl/test/test-suite-mcache.tcl: removed tests media[3-5]*; they are not
stable across platforms and operating systems because the quality adaptation
code relies on comparison of double precision floating points to decide
when to add/drop layers. Slight difference in these numbers can cause the
output results to be drastically different. Currently these tests can only
be duplicated on Intel platforms (FreeBSD and Linux), however they produced
different results on Solaris and SunOS.</li>
</ul>

<p><li>
<b><a href="http://www.isi.edu/~haoboy">[haoboy]</a></b> <b>Fri Jul 2 14:00:01
PDT 1999</b></li>

<br>Updated various files to work under win32. The most important one is
to update ptypes2tcl.cc to handle long strings using codes borrowed from
~tclcl/tcl2c++.c
<p><li>
<b><a href="http://www.isi.edu/~haoboy">[haoboy]</a></b> <b>Fri Jul 2 10:00:23
PDT 1999</b></li>

<br>Test suite for multimedia cache. CAUTION: this is only intended to
test the basic functionalities of the multimedia cache code residing in
webcache/mcache.{h,cc} and tcl/webcache/http-mcache.tcl; it is absolutely
NOT a test suite for RAP and Quality Adaptation.
<p><li>
<b><a href="http://www.isi.edu/~salehi">[salehi]</a></b> <b>Mon Jun 28
15:35:40 PDT 1999</b></li>

<br>Added support and example script for BiDirectional multicast.
<p><li>
<b><a href="http://www.cs.berkeley.edu/~tomh/">[tomh]</a></b> <b>Fri Jun
25 13:47:05 PDT 1999</b></li>

<br>Added support and example script for unslotted Aloha MAC.
<p><li>
<b><a href="http://www.cs.berkeley.edu/~tomh/">[tomh]</a></b> <b>Mon Jun
21 11:30:50 PDT 1999</b></li>

<br>Added support for geostationary and LEO satellite constellations. This
required minor changes to a number of existing files (Makefile.in, channel.h,
mac.cc, net-interface.cc, node.h, node.cc, object.h, packet.h, phy.h, phy.cc,
route.h, route.cc, trace.h, tcl/lib/ns-lib.tcl, tcl/lib/ns-node.tcl), and
the addition of several new files (net-interface.h, sat.h, sathandoff.h,
sathandoff.cc, satnode.h, satnode.cc, satposition.h, satposition.cc, satroute.h,
satroute.cc, sattrace.h, sattrace.cc, tcl/lib/ns-sat.tcl).
<p><li>
<b><a href="http://www.aciri.org/floyd/">[floyd]</a></b> <b>Fri Jun 11
17:01:50 PDT 1999</b></li>

<br>Added "gentle" option to RED, to increase the packet drop rate slowly
from max_p to 1 as the average queue size ranges from th_max to twice th_max.
<p><li>
<b><a href="http://www.cs.berkeley.edu/~kfall/">[kfall]</a></b> <b>Wed
Jun 9 15:33:49 PDT 1999</b></li>

<br>__RENAMED wasn't defined for me because tclcl.sh wasn't being included.
Why this could be I don't know, but it is now added.
<p><li>
<b><a href="http://www.isi.edu/~johnh/">[johnh]</a></b> <b>Wed Jun 2 20:23:52
PDT 1999</b></li>

<br>Man page now points at Antoine's auto-generated class hierarchy.
<p><li>
<b><a href="http://www.isi.edu/~johnh/">[johnh]</a></b> <b>Mon May 31 13:39:11
PDT 1999</b></li>

<br>Improved fsm print function.
<p><li>
<b><a href="http://www.isi.edu/~haoboy">[haoboy]</a></b> <b>Tue May 25
18:37:42 PDT 1999</b></li>

<br>Checked in support of multimedia web caching based on Rap/QA code.
A test suite will follow shortly.
<p><li>
<b><a href="http://www-scf.usc.edu/~bhuang/">[PH]</a></b> <b>Thu May 13
15:44:54 PDT 1999</b></li>

<br>Checked in the 1st cut implementation of finite state automata TCP
<br>An example can be found: tcl/ex/simple-fsm-tcp.tcl
<p><li>
<b><a href="http://www.aciri.org/floyd/">[floyd]</a></b> <b>Thu May 13
14:34:00 PDT 1999</b></li>

<br>Added a small bug-fix suggested by Philip Liu at phill@ece.ubc.ca,
<br>that resets the RED variables "edv_.count" and "edv_.count_bytes"
<br>after a forced drop.
<br>Also added a parameter "ns1-compat_" (default false) to allow
<br>simulations to run without this bug-fix.
<p><li>
<b><a href="http://www.isi.edu/~haldar">[haldar]</a></b> <b>Tue May 4 17:37:52
PDT 1999</b></li>

<br>Added support for wireless mobileIP which uses CMU's wireless model.
<br>Example script tcl/ex/wireless-mip-test.tcl
<br>major files added/revised : mip.{cc,h}, mip-reg.cc, tcl/lib/ns-mip.tcl,
tcl/lib/ns-wireless-mip.tcl.
<p><li>
<b><a href="http://www.isi.edu/~haldar">[haldar]</a></b> <b>Thurs April
29 11:22:36 PDT 1999</b></li>

<br>Removed bug from u_char* to int conversions; the conversion supplied
by cmu's marshall.h breaks in freeBSD. revised the methods defined in marshall.h
to make it portable for freeBSD, sun/solaris,linux.
<p><li>
<b><a href="http://www.isi.edu/~salehi">[salehi]</a></b> <b>Fri Apr 30
17:50:50 PDT 1999</b></li>

<br>Found a bug in LAN's ARP resolution module. A node in a LAN can have
a macID of 0 while the 'arpresolve' module considered it as invalid.
<p><li>
<b><a href="http://www.isi.edu/~haldar">[haldar]</a></b></li>

<br>Added hierarchical addressing and routing support to mobilenodes.
<br>Added support for having wired and wireless node domains in mixed simulations.
Created base-station nodes that serve as gateways for wired and wireless
domains.
<br>wired and wireless nodes can now exchange traffic
<br>Example script tcl/ex/wired-cum-wireless-sim.tcl;
<br>Major files added/revised are: tcl/mobility/com.tcl,dsdv.tcl,dsr.tcl;
tcl/ex/ns-mobilenode.tcl,ns-bsnode.tcl; address{.cc,.h},mobilenode{.cc,.h},dsr/dsragent{.cc,.h},dsdv/dsdv{.cc,.h}.
<p><li>
<b><a href="http://www-scf.usc.edu/~bhuang">[PH]</a></b> <b>Tue Apr 20
15:56:39 PDT 1999</b></li>

<br>Fixed bugs in the modified HTTP implementation (tcl/http/http-mod.tcl)
<br>Added web traffic examples. One small scale (tcl/ex/web-traffic.tcl);
one very large scale which requires ~800MB memory to complete (tcl/ex/large-scale-web-traffic.tcl)
<br>Added code for trace driven random variable (tcl/lib/ns-random.tcl)
and an example (tcl/lib/ex/trace-driven.tcl)
<p><li>
<b><a href="http://www.isi.edu/~salehi">[salehi]</a></b> <b>Fri Apr 16
15:01:44 PDT 1999</b></li>

<br>The Centralized Multicast module had some bugs for LAN support. These
bugs were removed.
<p><li>
<b><a href="http://www.isi.edu/~salehi">[salehi]</a></b> <b>Mon Apr 12
18:00:13 PDT 1999</b></li>

<br>`NS notes and documents' was added to the release version.
<p><li>
<b><a href="http://www.isi.edu/~haldar/">[haldar]</a></b> <b>Fri Apr 9
15:49:23 PDT 1999</b></li>

<br>The wireless module had several bugs for both DSR and DSDV routing
protocol implementation. These bugs were removed. A scenario file 670x670-600-50-20-0
was added which uses node indexing of 0 instead of 1. A wireless example
file in tcl/ex/wireless-test.tcl was added which simulates with just 3
mobilenodes.
<p><li>
<b><a href="http://www.isi.edu/~haldar/">[haldar]</a></b> <b>Thur Apr 8
10:50:12 PDT 1999</b></li>

<br>An error condition is checked in when route or hier-route is computed
for dis-connected topologies.
<p><li>
<b><a href="http://www.isi.edu/~johnh/">[johnh]</a></b> <b>Wed Apr 7 20:10:45
PDT 1999</b></li>

<br>test-suite-full and tcpf2xgr now pass $TCLSH so that they should be
portable. Future post-processing scripts should be written in Perl, not
tcl.
<p><li>
<b><a href="http://www.isi.edu/~johnh/">[johnh]</a></b> <b>Wed Mar 31 13:51:35
PST 1999</b></li>

<br>Ns now knows where the tclsh is that autoconf finds, just like it knows
about perl.
<p>The proper way to invoke a tclsh program from within ns is { global
TCLSH; exec $TCLSH path/to/script.tcl args; }.
<p>A completely unrelated bugfix: tcp-sink now zeros save_.</ul>

<hr>
<h3>
<a href="http://www-mash.cs.berkeley.edu/dist/vint/ns-src-2.1b5.tar.gz">Release
of ns-2.1b5 on Tue Mar 16 16:50:50 PST 1999</a></h3>

<ul>
<p><li>
<b><a href="http://www.isi.edu/~salehi">[salehi]</a></b> <b>Mon Mar 15
17:10:30 PST 1999</b></li>

<br>The following files/directories were removed since they are either
superseded by other test or no longer supported:
<ol>
<p><li>
tcl/mcast/detailedDM.tcl</li>

<p><li>
tcl/pim</li>

<p><li>
tcl/lan/ns-lan.tcl</li>

<p><li>
tcl/lan/ns-mlink.tcl</li>
</ol>

<p><li>
<b><a href="http://www.isi.edu/~haoboy">[haoboy]</a></b> <b>Sun Mar 14
13:08:12 PST 1999</b></li>

<br>Changed process.{h,cc} to ns-process.{h,cc}, so as to avoid name conflicts
on some OS (e.g. WIN32). Removed indep-utils/cmu-trace/setdest/Makefile.
<p><li>
<b><a href="http://www.isi.edu/~haoboy">[haoboy]</a></b> <b>Fri Mar 12
19:48:42 PST 1999</b></li>

<br>Various cosmetic changes to make it compile on windoze, patches courtesy
of <a href="mailto:c.christian.joensson@telia.com">Christian Joensson</a>.
<p><li>
<b><a href="mailto:yaxu@isi.edu">[yaxu]</a></b> <b>Thu March 9 15:20:00
PDT 1999</b></li>

<br>Re-implement wiredLAN(802.3) by porting cmu's 802.3 module, and make
wiredLAN work again. Highlights:
<pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; (1) All 802.3 features including contention detection
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; are implemented in mac layer. (Old wiredLAN uses
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; channel to detect contention)
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; (2) Channel broadcasts packets to every nodes attached to
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; the wiredLAN except the sender. It is up to mac layer
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; to decide whether it receives or drops the packet
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; according to the destination mac address of the packet.
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; (In old wiredLAN, channel does unicast by default)
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; (3) WiredLAN uses the same structure as wireless LAN (from
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; bottom up, channel, phy, mac, ifq, ll, arp). These modules
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; have the same function definition.
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; (4) csma.cc is fully replaced by mac-802_3.cc
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; (5) The reference output of wiredlan test suite have been
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; changed
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; (6) The nam packet flow of wiredlan test suite does not
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; exactly reflect the packet sequences under ll. It is
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; due to (a) no trace object is inserted below ll; (b) nam
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; is not in the good position so far to animate LAN behavior
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; below ll. We put it into TODO list.</pre>

<p><li>
<b><a href="http://www.isi.edu/~haoboy">[haoboy]</a></b> <b>Mon Mar 8 21:11:47
PST 1999</b></li>

<br>Changed default HTTP invalidation packet size, so that both unicast
and multicast invalidations have the same base size. Also changed the type
of unicast (TCP) invalidation packet types from tcp/ack to httpInval. Updated
affected test suite outputs (those related to multicast invalidations).
<p><li>
<b><a href="http://www.isi.edu/~haoboy">[haoboy]</a></b> <b>Fri Mar 5 18:09:31
PST 1999</b></li>

<br>Previous ErrorModel won't work with ECN turned on if it is situated
after the QUEUE module. It's because ECN doesn't drop the packet, but an
event is scheduled to resume the handler from inside the ErrorModel instead
of from DelayLink. Added a check to avoid this. This will only affect scripts
using SimpleLink::insert-linkloss{} or Simulator::link-lossmodel{}.
<p><li>
<b><a href="http://www-nrg.ee.lbl.gov/floyd/">[floyd]</a></b> <b>Fri Mar
5 10:47:07 PST 1999</b></li>

<br>Modified tcp-sink.cc and tcp-sink.h to fix an ECN bug for TCP with
delayed-ack sinks. In particular, the ECN field was not being handled correctly
for a packet for which the acknowledgement was being delayed. The bug report
and bug fix are both from Mark Allman, mallman@grc.nasa.gov.
<p><li>
<b><a href="http://www.isi.edu/~haoboy">[haoboy]</a></b> <b>Wed Mar 3 18:16:53
PST 1999</b></li>

<br>Added a separate set of error model insertion procedures. Updated SRM's
test suite output (the previous one does not contain packet drop events).
Changed the name of AppConnector to Process, and make it a subclass of
TclObject. Make Application a subclass of Process. Added three new send()
methods to Agent so that it supports sending user-level data.
<p><li>
<b><a href="http://www.isi.edu/~haoboy">[haoboy]</a></b> <b>Tue Mar 2 12:37:37
PST 1999</b></li>

<br>Add a fix to generate nam traces correctly for packets dropped by error
models.
<p><li>
<b><a href="http://www.isi.edu/~johnh/">[johnh]</a></b> <b>Fri Feb 26 14:37:31
PST 1999</b></li>

<br>Applied a memory leak fix to sessin-rtp.cc, fix contributed from Lidia
Yamamoto, Christoph Haenle, and Randa.
<p><li>
<b><a href="http://www.isi.edu/~haoboy">[haoboy]</a></b> <b>Tue Feb 23
17:46:08 PST 1999</b></li>

<br>Added a directory indep-utils/ which contains my proxy trace converteres
and CMU's mobile scenario generator. Replaced the big scenario files under
tcl/mobility with smaller files. If necessary, big scenarios can be generated
using the CMU generator.
<p><li>
<b><a href="mailto:yuri@isi.edu">[YP]</a></b> <b>Fri Feb 19 18:04:57 PST
1999</b></li>

<br>Modified implementation of <tt>PacketQueue</tt>. Method <tt>tail()</tt>
now returns the last packet in the queue; meaning of <tt>PacketQueue::tail_</tt>
is also changed.
<p><li>
<b><a href="mailto:yuri@isi.edu">[YP]</a></b> <b>Wed Feb 17 19:10:00 PST
1999</b></li>

<br>Added enumeration for packet types instead of sequence of <tt>#defines</tt>.
New class <tt>p_info</tt> binds numeric packet types with their string
values.
<p><li>
<b><a href="http://www.isi.edu/~haoboy">[haoboy]</a></b> <b>Mon Feb 8 14:29:43
PST 1999</b></li>

<br>Add a unique type int64_t for 64-bit integers. Now it doesn't check
for quad_t or "long long" in different platforms. Requires new tclcl.
<p><li>
<b><a href="mailto:yaxu@isi.edu">[YX]</a></b> <b>Thu Feb 4 15:20:00 PDT
1999</b></li>

<br>Add mobileIP support (porting from Sun) with an example called miptest.tcl
<p><li>
<b><a href="mailto:yuri@isi.edu">[YP]</a></b> <b>Thu Jan 28 15:20:00 PDT
1999</b></li>

<br>Changed Calendar and Heap schedulers not to re-order simultaneous events.
All three schedulers now produce the same result. Added a simple test test-suite-simultaneous
for checking ordering of simultaneous events. Commented out "use-scheduler"
lines from all test suites which had it so that they all use Calendar as
default. Re-generated failing test-outputs.
<p><li>
<b><a href="http://www.isi.edu/~haoboy">[haoboy]</a></b> <b>Tue Jan 26
10:18:47 PST 1999</b></li>

<ul>
<p><li>
Improvements for webcache: (1) support non-cacheable pages; (2) allow cache
push to be either selective push or always push, adjustable from a tcl
command; (3) new ways to compute staleness time for pages (lower bound
RTT/2)</li>

<p><li>
Added a type 'int' for many register var declarations.</li>

<p><li>
Added 64-bit integer support for FreeBSD (quad_t) and Solaris 2.x (long
long). A ns-specific tcl function <tt>ns-add64</tt> is provided to add/substract
these 64-bit integers.</li>
</ul>

<p><li>
<b><a href="http://www.isi.edu/~johnh/">[johnh]</a></b> <b>Thu Jan 21 18:07:18
PST 1999</b></li>

<br>Changed autoconf handling of perl, added support in tcl to keep track
of the good perl we find and use it in the test suites.
<p>The proper way to invoke a perl program from within ns is { global PERL;
exec $PERL path/to/script.pl args; }. For examples in context, see test-suite-tcp.tcl.
<p><li>
<b><a href="mailto:yuri@isi.edu">[YP]</a></b> <b>Thu Jan 21 15:53:07 PDT
1999</b></li>

<br>Changed ns configure to support tcldebug v1.9. Upgraded NS and NAM
config.guess and config.sub.
<p><li>
<b><a href="http://www.isi.edu/~haldar">[haldar]</a></b> <b>Mon Jan 4 14:20:34
PST 1999</b></li>

<br>Committed changes to integrate the lower layer stacks for cmu and ns
code versions. Changes made : LL, Mac &amp; Channel interfaces and functionalities
changed. added PHY layer; Mac/csma/cd not supported currently.
<p><li>
<b><a href="http://www-scf.usc.edu/~bhuang">[PH]</a></b> <b>Thu Dec 24
14:55:09 PST 1998</b></li>

<br>Moved reference count related code in scheduler.{cc,h} to sessionhelper.cc
<p><li>
<b><a href="http://www.isi.edu/~haoboy">[haoboy]</a></b> <b>Wed Dec 16
13:33:16 PST 1998</b> Bug fix for web cache code, mainly: (1) disconnect{}
between servers and caches; (2) sending 0 bytes in TcpApp Added support
for trace (web server/proxy log) driven web simulation. Added tests to
include that part. Added a simple introductory script tcl/ex/simple-webcache-trace.tcl.
Updated other outputs of webcache test suite after bug fixes.</li>

<p><li>
<b><a href="http://www-scf.usc.edu/~bhuang">[PH]</a></b> <b>Wed Dec 16
12:59:46 PST 1998</b></li>

<br>Integrated recent change on <a href="http://www.cs.vu.nl/~chris/Thesis/mftp/mftp_readme.html">StarBurst
MFTP</a> code from <a href="http://www.cs.vu.nl/~chris/">Christoph Haenle</a>.
<p><li>
<b>Tue Dec 15 09:23:55 PST 1998</b></li>

<br>Added support for Mobile networking in current version of ns; Mostly
cmu's version of mobility implementation -- integrated into ns.
<p><li>
<b><a href="http://www.isi.edu/~johnh/">[johnh]</a></b> <b>Thu Dec 3 14:56:47
PST 1998</b></li>

<br>Re-arranged some of the mftp/StarBurst code.
<p><li>
<b><a href="http://www-scf.usc.edu/~bhuang">[PH]</a></b> <b>Thu Nov 12
15:40:35 PST 1998</b></li>

<br>added mix-mode, algorithmic routing, and virtual classifier test suite
<br>changed McastMonitor structure
<p><li>
<b><a href="http://www-scf.usc.edu/~bhuang">[PH]</a></b> <b>Thu Nov 5 18:37:59
PST 1998</b></li>

<br>added mix-mode (first-cut)
<br>example scripts at tcl/ex/newmcast/mix-mode*.tcl

</ul>

<hr>
<h3>
<a href="http://www-mash.cs.berkeley.edu/dist/vint/ns-src-2.1b4.tar.gz">Release
of ns-2.1b4</a>on Fri Oct 23 09:57:55 PDT 1998</h3>

<ul>
<p><li>
<b><a href="mailto:yuri@isi.edu">[YP]</a></b> <b>Tue Oct 15 13:11:39 PDT
1998</b></li>

<br>Modified and cleaned LAN architecture: tcl/lan/vlan.tcl
<p><li>
<b><a href="http://www-scf.usc.edu/~bhuang">[PH]</a></b> <b>Wed Oct 14
13:24:46 PDT 1998</b></li>

<br>added virtual classifier; example: tcl/ex/virtual-classifier.tcl
<p><li>
<b><a href="http://www.isi.edu/~haldar">[haldar]</a></b> <b>Wed Oct 7 15:35:01
PDT 1998</b></li>

<br>Added counter for routing table size for each node. support for rtg
table size to be used as label for nam visualizations.
<p><li>
<b><a href="http://www-scf.usc.edu/~bhuang">[PH]</a></b> <b>Mon Oct 5 16:43:03
PDT 1998</b></li>

<br>Added algorithmic routing support for detailed simulator: example script:
tcl/ex/newmcast/detailed-algo.tcl
<br>Added Multi-field filter, expanded from single field filter, Filter/Field
<p><li>
<b><a href="http://www.isi.edu/~haldar">[haldar]</a></b> <b>Mon Sep 28
12:29:21 PDT 1998</b></li>

<br>Bug fix that now allows hierarchical routing to be used for single
level of hierarchy.
<p><li>
<b><a href="http://www-scf.usc.edu/~bhuang/">[PH]</a></b> <b>Mon Sep 21
13:53:48 PDT 1998</b></li>

<br>Added algorithmic routing (API: $ns rtproto Algorithmic): a space consumption
O(n) routing mechanism, currently working with SessionSim only
<br>Added Pareto distribution the second kind (aka. Lomax distribution)
into the random distribution collection
<p><li>
<b><a href="http://www.isi.edu/~johnh/">[johnh]</a></b> <b>Mon Sep 14 20:51:55
PDT 1998</b></li>

<br>Re-autoconf'ed; several version numbers bumped (suggested by Lloyd
Wood).
<p><li>
<b><a href="http://www-scf.usc.edu/~bhuang/">[PH]</a></b> <b>Thu Sep 10
15:45:01 PDT 1998</b></li>

<br>changed session test suite output to avoid namtrace-all
<br>re-enabled session suite in the validation test
<p><li>
<b><a href="http://www.isi.edu/~johnh/">[johnh]</a></b> <b>Mon Aug 31 15:26:17
PDT 1998</b></li>

<br>Re-autoconf'ed. Getrusage/sbrk are now detected in autoconf.
<p><li>
<b><a href="http://www-nrg.ee.lbl.gov/floyd/">[SF]</a></b> <b>Sat Aug 29
16:50:06 PDT 1998</b></li>

<br>Included validation test for NewReno: test-all-newreno. This includes
a new option, newreno_changes1_, that forces a slow-start when many packets
are dropped from a window of data.
<p><li>
<b><a href="http://www.cs.berkeley.edu/~padmanab/">[VNP]</a></b> <b>Sat
Aug 22 11:59:47 PDT 1998</b></li>

<ul>
<p><li>
<i>tcp-asym-sink.cc</i>: call to acker_->update() in recv() had incorrectly
been ifdef'd out by someone. Restored the call.</li>

<p><li>
<i>mac.cc, ll.cc</i>: replaced call to offset() with one to bind_offset()</li>

<p><li>
<i>chost.{cc,h}, tcp-session.cc</i>: added disableIntLossRecov_ to selectively
disable integrated loss recovery.</li>
</ul>

<p><li>
<b><a href="mailto:tomh@cs.berkeley.edu">[TH]</a></b> <b>Fri Aug 14 13:30:00
PDT 1998</b></li>

<br>Removed CBR_Agent; use Application/Traffic/CBR over Agent/UDP now.
Packet type for trace file is now settable from application. Source changes:
agent.h, app.h, cbr_traffic.cc, errmodel.cc, expoo.cc, ivs.cc, packet.h,
pareto.cc, rtp.cc, sa.cc,sa.h,scheduler.cc, telnet.cc, telnet.h, trace.cc,
traffictrace.cc, trafgen.cc, udp.h, udp.cc, tcl/lib/ns-default.tcl, tcl/lib/ns-intserv.tcl,
tcl/lib/ns-source.tcl. Removed cbr.h and cbr.cc.
<p><li>
<b><a href="http://www.isi.edu/~johnh/">[johnh]</a></b> <b>Tue Aug 11 13:04:40
PDT 1998</b></li>

<br>Portability fixes for HPUX from Ketil Danielsen <a href="Ketil.Danielsen@hiMolde.no">Ketil.Danielsen@hiMolde.no</a>.
<p><li>
<b><a href="mailto:haldar@isi.edu">[haldar]</a></b> <b>Tue Aug 11 11:31:33
PDT 1998</b> Included validation test-suites for hierarchical routing:
test-suite-hier-routing.tcl- runs 4 tests hier-simple, -cmcast, -deDM and
-session.</li>

<p><li>
<b><a href="mailto:haldar@isi.edu">[haldar]</a></b> <b>Thu Aug 6 11:39:02
PDT 1998</b> Added scenario-generation library (~ns/tcl/scen-generation/
scen-lib) containing 3 congestion control scenario test cases (ref: Mark
Handley's RM congestion control schemes).</li>

<p><li>
<b><a href="http://www.isi.edu/~johnh/">[johnh]</a></b> <b>Tue Aug 4 17:00:54
PDT 1998</b></li>

<br>Re-wrote mem-trace.h to isolate the unportable code. Portions commented
out for Windows platform based on feedback from <a href="mailto:jvicente@comet.columbia.edu">John
Vicente</a>.
<p><li>
<b><a href="mailtohaldar@isi.edu">[haldar]</a></b> <b>Wed Jul 29 17:20:08
PDT 1998</b> Created a holder for all traffic models and added many_tcp
traffic model (~ns/tcl/lib/ns-trafficgen.tcl) as a part of ns/lib</li>

<p><li>
<b><a href="mailto:breslau@parc.xerox.com">[LB]</a></b> <b>Tue Jul 28 16:41:29
PDT 1998</b> Added a validation test for the admission control algorithms
and related intserv functionality.</li>

<p><li>
<b><a href="mailto:breslau@parc.xerox.com">[LB]</a></b> <b>Thu Jul 23 15:50:14
PDT 1998</b> With Haobo Yu, fixed a bug in the Calendar Scheduler which
only appeared to be a problem with very long running simulations.</li>

<p><li>
<b><a href="http://www.isi.edu/~haldar/">[haldar]</a> Fri Jul 17 14:21:25
PDT 1998</b> Added topology semantics for agent distribution to scenario-generator
- allows placement of agents on designated src and dest stub/locations
for transit-stub topologies. Added hierarchical addressing support to topology
generator.</li>

<p><li>
<b><a href="http://www-scf.usc.edu/~bhuang/">[PH] </a>Mon Jul 13 18:23:53
PDT 1998</b></li>

<br>added hierarchical routing support for session sim
<br>example: tcl/ex/newmcast/session-hier.tcl</ul>

<hr>
<h3>
<a href="http://www-mash.cs.berkeley.edu/dist/vint/ns-src-2.1b3.tar.gz">Release
of ns-2.1b3</a> on Sat July 11 15:15:00 PDT 1998</h3>

<ul>
<p><li>
<b><a href="http://catarina.usc.edu/yaxu/">[XY] </a>July 11 15:15:00 PDT
1998</b></li>

<br>ns-2.1b3 Release.
<p><li>
<b><a href="http://www-scf.usc.edu/~bhuang/">[PH]</a></b> <b>Fri Jul 10
17:54:49 PDT 1998</b></li>

<br>added session simulator validation test
<br>tcl/test/test-all-session
<p><li>
<b><a href="http://www.isi.edu/~johnh/">[johnh]</a></b> <b>Thu Jul 9 14:02:19
PDT 1998</b></li>

<br>tclclassinstvars turned on by default.
<p><li>
<b><a href="http://www.isi.edu/~kannan/">[KVa]</a></b> <b>Thu Jul 9 11:33:28
PDT 1998</b></li>

<ul>
<p><li>
Changed Connector instproc-like: dynamic to be isDynamic. This permits
running the topology dynamics code in compatibility mode.</li>
</ul>

<p><li>
<b><a href="http://www-nrg.ee.lbl.gov/floyd/">[SF]</a></b> <b>Thu Jul 9
11:30:54 PDT 1998</b></li>

<br>With Kevin Fall, added validation tests for Tahoe, Reno, NewReno, and
SACK TCP to tcl/test/test-all-tcpVariants.
<p><li>
<b><a href="http://www.cs.berkeley.edu/~tomh">[TH]</a></b> <b>Tue Jul 7
15:50:00 PKT 1998</b></li>

<ul>Added generic CBR traffic generator that can run on top of UDP agent.
Added new API methods to existing CBR_Agent. New file: cbr_traffic.cc</ul>

<p><li>
<b><a href="http://www.isi.edu/~johnh/">[johnh]</a></b> <b>Mon Jul 6 13:44:12
PDT 1998</b></li>

<br>./test-all (and related files) moved to tcl/test/test-all-simple.
<p><li>
<b><a href="http://www.isi.edu/~johnh/">[johnh]</a></b> <b>Mon Jun 29 16:55:51
PDT 1998</b></li>

<br>Manual routing test suite added; many_tcp fixed (due to chane in classifier-hash.cc)
<p><li>
<b><a href="http://www.cs.berkeley.edu/~tomh">[TH, GN]</a></b> <b>Fri Jun
26 18:30:00 PKT 1998</b></li>

<ul>Revised API between Agents and Applications. Added new base class Application
for all Sources and Traffic Generators. Added generic agent callback functions
to base class Application. Added generic "socket-like" functions to base
class Agent.</ul>

<p><li>
<b><a href="http://catarina.usc.edu/ahelmy">[AH]</a></b> <b>Wed Jun 17
19:00:00 PKT 1998</b></li>

<ul>
<p><li>
Checked in the routing generator and the agent generator components of
the scneario generator, at tcl/ex/{route,agent}-gen.tcl. For use, source
these files and type 'routing -h' or 'agents -h' for more help. The agent
generator currently supports TCP and SRM types (and their variants, attached
sources, sinks and traffic models), in addition to a random distribution
of the start/end times of tcp sessions and join/start times of SRM members/sources.</li>

<p><li>
Modified the topology generator to add API that returns the number of nodes
in a topology.</li>

<p><li>
An example script that uses the scenario generator is under tcl/ex/agent-gen-script.tcl.</li>
</ul>

<p><li>
<b><a href="http://www-nrg.ee.lbl.gov/kfall/">[kfall]</a></b> <b>Mon Jun
15 17:58:06 PDT 1998</b></li>

<ul>
<p><li>
change error module so that if markecn_ is turned out, you do not also
drop the packet if drop_ is set</li>

<p><li>
changes to full-tcp (and support in bin directory), adding tracing of the
congestion action bit which is now on all the time, even if ecn is not
turned on</li>

<p><li>
changes to full-tcp so that the slow-start due to long send idle periods
aren't triggered if you are sending just acks</li>

<p><li>
Tahoe and NewReno support for full-tcp (a few days back)</li>
</ul>

<p><li>
<b><a href="http://www.isi.edu/~johnh/">[johnh]</a></b> <b>Wed Jun 10 17:58:06
PDT 1998</b></li>

<ul>
<p><li>
enabled MEMDEBUG_SIMULATIONS by default (in config.h)</li>

<p><li>
added support for delayed binding (see tclcl's CHANGES for details) This
is only enabled if you configure --enable-tclcl-classinstvar. (Only added
support in Agent and NsObject.)</li>

<p><li>
Fixed compiler warnings in cbq.cc, errmodel.cc, queue.h (meet gcc 2.7.2.3).
Queue.h was an actual bug!</li>

<p><li>
re-autoconf'ed</li>

<p><li>
added memory tracing to many_tcp.tcl</li>
</ul>

<p><li>
<b><a href="http://www.isi.edu/~johnh/">[johnh]</a></b> <b>Wed May 27 11:46:01
PDT 1998</b></li>

<br>tcl/ex/many_tcp.tcl demonstrates large numbers of TCP flows using Manual
routing. Run it with the -? option to see a description of its options
and limitations.
<p><li>
<b><a href="http://www-nrg.ee.lbl.gov/floyd/">[floyd]</a></b> <b>Wed May
27 17:28:46 PDT 1998</b></li>

<br>Added test-all-ecn to validate. I also added a "-a" option to bin/raw2xg
for displaying the ECN flags.
<p><li>
<b><a href="http://www-nrg.ee.lbl.gov/kfall">[kfall]</a></b> <b>Wed May
27 13:57:31 PDT 1998</b></li>

<br>Bug-fix to tcp.cc to allow for doing "advance" to a number below curseq_.
Bug-fix to List ErrorModel to fix up handling of "droplist" strings that
contain extraneous spaces and white space.
<p><li>
<b><a href="http://www.isi.edu/~johnh/">[johnh]</a></b> <b>Wed May 27 11:46:01
PDT 1998</b></li>

<ul>
<p><li>
"make tcl/lib/TAGS" now generates {o,}tcl tags.</li>

<p><li>
tcl-expand.tcl now includes tags about what the files are</li>

<p><li>
Simulator::node now generates nodes indirectly through Simulator::node_factory_</li>

<p><li>
Node::mk-default-classifier is new node-specific code to create its classifiers</li>

<p><li>
Manual routing is now possible (new Agent/rtProto/Manual, ManualRtNode)</li>

<p><li>
DestHashClassifier exists</li>

<p><li>
Classifiers can now be resized</li>

<p><li>
more error checking added to classifier's installNext</li>
</ul>

<p><li>
<b><a href="http://catarina.usc.edu/ahelmy">[AH]</a></b> <b>Sat May 23
22:24:00 PDT 1998</b></li>

<ul>
<p><li>
Checked in first cut of the topology generator part of the scenario generator
package. It currently supports random and transit stub topologies generated
by the GATech ITM generator. Check tcl/ex/topo-gen.tcl.</li>

<p><li>
Checked in a topology viewer script, to enable viewing generated topologies
before running the simulations, in tcl/ex/topo-view.tcl.</li>

<p><li>
An example script for using the checked code is in tcl/ex/topo-gen-script.tcl,
and the readme file is tcl/ex/topo-gen.txt.</li>
</ul>

<p><li>
<b><a href="http://www.isi.edu/~johnh/">[johnh]</a></b> <b>Fri May 22 11:17:00
PDT 1998</b></li>

<ul>
<p><li>
Agent/TCP advance/advanceby/done commands are now documented in the man
page.</li>

<p><li>
Hierarchical routing renames: Simulator instproc {hier-,}node, HierNode
instproc {hier-,}enable-mcast</li>

<p><li>
Classifier instproc dump</li>

<p><li>
SessionSim {bw,delay}_parse moved to Simulator</li>

<p><li>
Simulator instproc nodes-to-link and Simulator instproc nodes-to-link?
provide an abstract way to get link_($n1id:$n2id)</li>
</ul>

<p><li>
<b><a href="http://www-nrg.ee.lbl.gov/floyd/">[floyd]</a></b> <b>Wed May
20 17:37:59 PDT 1998</b></li>

<br>Changes to one-way tcp implementations so that the TCP receiver sends
the ECN-Echo packet to the TCP sender on multiple ACK packets. This approach
is described in "http://www-nrg.ee.lbl.gov/floyd/ECN-TCP.txt". The change
includes a new flag in the packet header, "cong_action_", a.k.a. Congestion
Action, for the TCP sender to notify the TCP receiver that it has responded
to congestion.
<p><li>
<b><a href="http://www.cs.berkeley.edu/~aswan">[aswan]</a></b> <b>Mon May
18 15:31:45 PDT 1998</b></li>

<br>Reworked RLM implementation. A single implementation is now shared
between mash and ns. A subclass handles ns-specific RLM operation. See
the documentation for the MMG class in otcldoc for further details.
<p><li>
<b><a href="http://www-nrg.ee.lbl.gov/kfall">[kfall]</a></b> <b>Wed May
13 19:02:31 PDT 1998</b></li>

<br>Many changes to FullTcp, including fixes to timestamps, re- structuring
of dupack actions, fix an off-by-1 problem for window deflation. Also,
changes for ECN [not yet fully tested] and addition of 5 new tests to test-suite-full.tcl.
<p><li>
<b><a href="http://www-nrg.ee.lbl.gov/floyd/">[floyd]</a></b> <b>Wed May
13 18:35:31 PDT 1998</b></li>

<br>Changes to tcp-newreno.cc to make corrections in the interactions between
Fast Retransmit and ECN. I also added a new validation test, "test-all-tcpVariants",
to the ns "validate" test. It tests Tahoe, Reno, NewReno, and Sack TCP
with one, two, three, and four packet drops. The validation test for ECN,
"test-all-ecn", is still in progress.
<p><li>
<b><a href="http://www-nrg.ee.lbl.gov/floyd/">[floyd]</a></b> <b>Mon May
11 19:05:50 PDT 1998</b></li>

<br>Changes to tcp.cc, tcp-reno.cc, tcp-sack1.cc, and tcp.h, to make small
corrections in the interactions between Fast Retransmit and ECN, to avoid
some unnecessary reductions of the congestion window. The ECN validation
test "test-all-ecn" now documents the correct functioning of the Tahoe,
Reno, and Sack1 ECN code. In addition, the Fast Retransmit code has been
restructured, for readability. This is joint work with Kevin Fall.
<p><li>
<b><a href="http://www-nrg.ee.lbl.gov/kfall">[kfall]</a></b> <b>Wed May
6 18:52:37 PDT 1998</b></li>

<br>Changes to tcp.cc for ECN. ErrorModule now has "default" function which
says what to do with packets that shouldn't be handled specially. Classifiers
now have "findslot" fn which tells the slot# an object is in. Periodic
Error Model now has 'burstlen' parameter that provides for bursty periodic
losses, rather than just 1 pkt loss per period.
<p><li>
<b><a href="mailto:breslau@parc.xerox.com">[LB]</a></b> <b>Mon May 4 11:22:02
PDT 1998</b> Added nam trace functionality to admission control modules.</li>

<p><li>
<b><a href="mailto:haldar@isi.edu">[haldar]</a></b> <b>Wed Apr 29 10:25:45
PDT 1998</b></li>

<ul>
<p><li>
Revised the addressing format for ns as follows: Added API's for allocating
bits to address fields. Default value being 8 bits for port (2^8 agents)
and 7 bits for node address (2^7 nodes in a topology and 1 bit for mcast.
The API allows to set address for multilevel hierarchy (for hierarchical
routing), and expand the port bits to allow higher number of agents in
a node. For details see ~ns/tcl/lib/ns-address.tcl</li>

<p><li>
Added support for hierarchical routing.Currently hierarchical routing supports
upto 3 levels of hierarchy. The gt-itm to hierarchical converter - sgb2hierns,
is available from topology generation webpage for ns. Example scripts for
hierarchical routing are available in ~ns/ex/hier-rtg-10.tcl and hier-rtg-100.tcl</li>
</ul>

<p><li>
<b><a href="mailto:bajaj@parc.xerox.com">[SB]</a></b> <b>Tue Apr 28 14:30:08
PDT 1998</b> Added some patches so that ns-compiles with gcc version 2.8.1</li>

<p><li>
<b><a href="http://www-nrg.ee.lbl.gov/floyd/">[floyd]</a></b> <b>Fri Apr
24 21:36:47 PDT 1998</b> Modified the tcp-init-win validation test, and
added tcp-init-win to validate.</li>

<p><li>
<b><a href="mailto:bajaj@parc.xerox.com">[SB]</a></b> <b>Fri Apr 24 17:29:46
PDT 1998</b> Added support for 2 kinds of delay-adaptive receivers</li>

<p><li>
<b><a href="http://www.isi.edu/~johnh/">[johnh]</a></b> <b>Tue Apr 21 09:58:22
PDT 1998</b></li>

<br>README is now up-to-date, html directory gotten rid of (it was quite
old).
<p><li>
<b><a href="http://www-nrg.ee.lbl.gov/kfall">[kfall]</a></b> <b>Thu Apr
20 19:40:37 PDT 1998</b></li>

<br>Re-arrange some of Sally's changes to the various tcp's in support
of initial window investigations. Update to tcl/rtmechanisms/rtm_reclass
so you don't have to specify a topo in order to specify enable/disable.
<p><li>
<b><a href="http://www-nrg.ee.lbl.gov/floyd/">[floyd]</a></b> <b>Wed Apr
20 1998</b></li>

<br>Added TCP variables "syn_", "windowInitOption_", and "tcpip_base_hdr_size_"
for experimenting with the proposal for modified TCP initial windows in
the internet-draft on "Increasing TCP's Initial Window".
<p><li>
<b><a href="http://www.isi.edu/~johnh/">[johnh]</a></b> <b>Thu Apr 16 10:45:37
PDT 1998</b></li>

<br>Configure now finds tcl/tk on Debian Linux (patch submitted by Jeffrey
Austen &lt;jausten@tntech.edu>).
<p><li>
<b><a href="mailto:bajaj@parc.xerox.com">[SB]</a></b> Mon Apr 13 10:52:51
PDT 1998 tcl/lib/ns-random.tcl : Added support to generate a normal distribution.</li>

<p><li>
<b><a href="http://catarina.usc.edu/ahelmy/">[AH]</a> Fri Apr 10 18:40:20
PST 1998</b></li>

<ul>
<p><li>
Added support for trace driven packet loss. Modified errmodel.h,cc to support
TraceErrorModel and MrouteErrorModel.</li>

<p><li>
Added support for exhaustive selective packet loss over lans. Modified
tcl/mcast/ns-mlink.tcl and tcl/mcast/ex/newmcast/loss.tcl,types.awk.</li>

<p><li>
Added an example of selective loss over lan test suite. Added tcl/ex/newmcast/pim-loss.tcl,pim-no-loss.tcl.</li>
</ul>

<p><li>
<b><a href="http://www.cs.berkeley.edu/~amc/">[AMC]</a> Wed Mar 25 20:23:42
GMT 1998</b></li>

<ul>
<p><li>
tcl/lib/ns-random.tcl: Bug fix, and exponential now takes optional argument
mu.</li>

<p><li>
config.h: int8_t would break under Solaris 2.6 (it's still a mess)</li>

<p><li>
Makefile.in: Now tells you if you need to re-run configure.</li>
</ul>

<p><li>
<b><a href="mailto:bajaj@parc.xerox.com">[SB]</a></b> <b>Wed Mar 18 12:03:35
PST 1998</b></li>

<br>Added token bucket filter support
<p><li>
<b><a href="mailto:huang@isi.edu">[PH]</a></b> <b>Fri Feb 25 7:13:54 PST
1998</b></li>

<br>Fixed minor bugs in sessionhelper.cc
<br>Added Packet Reference Count for SessionSim (more than 50% memory save
for sim with large amount of trees, widely spanned trees, and high source
rate.
<p><li>
<b><a href="mailto:bajaj@parc.xerox.com">[SB]</a></b> <b>Fri Feb 20 12:13:58
PST 1998</b></li>

<br>Added support for RLM
<p><li>
<b><a href="http://www.cs.berkeley.edu/~hari/">[hari]</a></b> <b>Mon Feb
16 12:41:50 PST 1998</b></li>

<ul>
<p><li>
Lots of additions and mods for snoop version 2 and Explicit Loss Notifications
(ELN).</li>

<p><li>
Empirical wireless error models from real traces.</li>

<p><li>
Restructured wireless link layer stuff.</li>

<p><li>
Various changes for Win32 (actually checked in a few days ago (in 2.1b3)
but unfortunately forgot to check in CHANGES.html then)</li>
</ul>

<p><li>
<b><a href="http://www.cs.berkeley.edu/~padmanab/">[VNP]</a></b> <b>Wed
Feb 11 19:55:34 PST 1998</b></li>

<ul>
<p><li>
Can invoke "configure" with --libdir=DIR to add to the library search path
(changed Makefile.in).</li>

<p><li>
Bunch of changes to {tcp-session,chost,tcp-int).{cc,h}, including the combination
of fast start and TCP sessions.</li>
</ul>

<p><li>
<b><a href="mailto:bajaj@parc.xerox.com">[SB]</a></b> <b>Mon Feb 9 13:00:14
PST 1998</b></li>

<br>Added support for measurement based admission control for controlled
load service.</ul>

<hr>
<h3>
<a href="http://www-mash.cs.berkeley.edu/dist/vint/ns-src-2.1b2.tar.gz">Release
of ns-2.1b2</a> on Tue Jan 29 15:36:16 PST 1998</h3>
Release to make ns compatible with tcl/tk8.0p2 and to incorporate changes
in nam-1.0a4 (version 1.0a3 was skipped). This release is CVS tagged with
NS_2_1B2
<ul>
<p><li>
<b><a href="http://www.isi.edu/~haldar/">[padma]</a></b> <b>Tue Jan 29
15:33:49 PST 1998</b></li>

<br>ns-2.1b2 release.
<p><li>
<b><a href="http://www.isi.edu/~haldar/">[padma]</a></b> <b>Tue Jan 29
15:33:49 PST 1998</b></li>

<br>The mcast test suite removed from the validation tests for now, to
proceed with the ns release; mcast tests seem to be failing due to change
in the order of the outputs in trace files while the output values by themselves
are valid.
<p><li>
<b><a href="http://www.isi.edu/~johnh/">[johnh]</a></b> <b>Wed Jan 28 16:06:49
PST 1998</b></li>

<br>Configure now looks for tclsh (hopefully fixing the ``Simulator not
found'' bugs which were due to empty gen/ns_tcl.cc files).
<p><li>
<b><a href="http://www.isi.edu/~kannan/">[KVa]</a></b> <b>Wed Jan 28 14:05:09
PST 1998</b></li>

<br>Typo in srm-adaptive.tcl:121, Agent/SRM/Adaptive::recompute-request-params{}
pointed out by <a href="mailto:woja@media.mit.edu">"Roger \"WOJA\" Kermode"
&lt;woja@media.mit.edu></a>
<p><li>
<b><a href="http://www.isi.edu/~johnh/">[johnh]</a></b> <b>Tue Jan 27 10:47:24
PST 1998</b></li>

<br>There were two ``default'' random number streams, one in Random and
one in RNG. They're now unified. Test suites updated accordingly.
<p><li>
<b><a href="http://www.cs.berkeley.edu/~suchi">[SR]</a> Mon Jan 26 16:46:57
PST 1998</b></li>

<ul>
<p><li>
Added srm-topo.cc,h in main directory for large-scale simulations of the
SRM timer algorithm</li>

<p><li>
Also added example tcl scripts tcl/session/scaling-*.tcl.</li>
</ul>

<p><li>
<b><a href="http://www.cs.berkeley.edu/~tecklee">[TLT]</a> Fri Jan 23 11:26:01
PST 1998</b> Fixes some problems with otcl namespaces in tcl 8.</li>

<ul>
<p><li>
proc class defined in ns-compat.tcl not found in global scope. This is
because a procedure defined within an otcl instproc (or proc) becomes a
procedure in ::otcl and NOT ::. The fix is to define the procedure as proc
::class.</li>

<p><li>
info proc SplitObjectCompare not found. The info command finds only procedures
in the *current* namespace. I added a second check for ::SplitObjectCompare
before bailing out.</li>
</ul>

<p><li>
<b><a href="http://www-nrg.ee.lbl.gov/kfall/">[KF]</a></b> <b>Wed Jan 22
23:20:58 PST 1998</b></li>

<br>Fix up test-suite-full.tcl to deal with quiet option. Check in test
output for test-all-full.
<p><li>
<b><a href="http://www-nrg.ee.lbl.gov/kfall/">[KF]</a></b> <b>Wed Jan 21
22:20:58 PST 1998</b></li>

<br>Change to tcp to record time in rtt_ts for rtt_update calls when not
using actual timestamps. A number of changes to tcp-full to make the simul-close
test work (esp. handling of fins and retransmitted fins).
<p><li>
<b><a href="http://www.isi.edu/~johnh/">[johnh]</a></b> and <b><a href="http://www.isi.edu/~visweswa/">[visweswa]</a>Wed
Jan 21 14:37:07 PST 1998</b></li>

<br>tcp-rbp was being too conservative in transmission after pacing ends.
Also, the rbp test suite failed to honor QUIET (although it worked for
the softer quiet). RBP saved tests updated.
<p><li>
<b><a href="http://www.isi.edu/~johnh/">[johnh]</a></b> <b>Wed Jan 21 14:16:12
PST 1998</b></li>

<br>test-suite-vegas-v1.tcl now supports a quiet option; rbp and vegas-v1
re-added to the validate script.
<p><li>
<b><a href="http://www.isi.edu/~johnh/">[johnh]</a></b> <b>Fri Jan 9 13:51:57
PST 1998</b></li>

<br>RBP test suite updated.
<p><li>
<b><a href="http://www-nrg.ee.lbl.gov/kfall/">[KF]</a></b> <b>Tue Jan 5
18:02:59 PST 1998</b></li>

<br>Move emulation related files into emulate subdirectory, fix Makefile.in
<br>Also, mention full-tcp fixes (over last n weeks) here
<p><li>
<b><a href="http://www.isi.edu/~kannan/">[KVa]</a></b> <b>Tue Dec 30 16:55:59
PST 1997</b></li>

<ul>
<p><li>
SRM base class...more functions are now virtual to support cleaner extensions.</li>

<br>Files affected: ~ns/srm.{cc,h}
<p><li>
TTLchecker can be made to decrement ticks other than 1. Also, options to
make it shut up about ttl exceeded.</li>

<br>Files affected: ~ns/ttl.cc
<p><li>
Classifier adjacents return format is now reversed. The key is now the
slot, the value is the object in that slot.</li>

<br>Files affected: ~ns/tcl/lib/ns-lib.tcl
<br><b>NB:</b>This breaks the multipath routing capability available in
dynamic unicast routing. I think I fixed it but I haven't tested it out
yet. If you are using this, drop me a line.
<br>Files affected: ~ns/tcl/lib/ns-node.tcl
<p><li>
Some pretty printing procs, f-time and f-node (*gag*)</li>

<br>Files affected: ~ns/tcl/lib/ns-trace.tcl
<p><li>
The rtglib routines now use their own random number generator sequence.</li>

<br>Files affected: ~ns/tcl/rtglib/route-proto.tcl, ~ns/tcl/rtglib/dynamics.tcl.
<p><li>
The Tcl level random number generator procedures use the defaultRNG directly.</li>

<br>Fiels affected: ~ns/tcl/lib/ns-random.tcl.</ul>

<p><li>
<b><a href="http://www.isi.edu/~johnh/">[johnh]</a></b> <b>Tue Dec 30 12:44:23
PST 1997</b></li>

<br>CBR changes (finish method) reinstalled (they were accidently removed).
<p><li>
<b><a href="http://www.cs.berkeley.edu/~padmanab/">[VNP]</a></b> <b>Thu
Dec 25 13:23:35 PST 1997</b></li>

<ul>
<p><li>
Added the "corrected" timestamp echo algorithm mentioned in TCP/IP Illustrated,
Vol. 2, page 870. This algorithm is enabled only if ts_echo_bugfix_ is
true (it is disabled by default).</li>

<p><li>
Files modified: tcp-sink.{cc,h}, tcp-asym-sink.cc tcl/lib/ns-default.tcl</li>
</ul>

<p><li>
<b><a href="http://www.cs.berkeley.edu/~padmanab/">[VNP]</a></b> <b>Wed
Dec 24 16:59:44 PST 1997</b></li>

<ul>
<p><li>
Added tcp-session.{cc,h} (which implement TcpSessionAgent).</li>

<p><li>
Restructured IntTcpAgent to be a bare-bones TCP that only implements an
ordered data stream abstraction. Congestion control and loss detection/recovery
are done by TcpSessionAgent with the help of CorresHost.</li>

<p><li>
Added some test files for tcp-fs, tcp-asym, tcp-asym-fs and tcp-int to
tcl/ex/tcp-fs. These still need to be cleaned up.</li>
</ul>

<p><li>
<b><a href="http://www.isi.edu/~johnh/">[johnh]</a></b> <b>Fri Dec 19 16:14:20
PST 1997</b></li>

<br>A rate-based pacing test suite.
<p><li>
<b><a href="mailto:bajaj@parc.xerox.com">[SB]</a>Fri Dec 19 12:09:25 PST
1997</b></li>

<ul>
<p><li>
Changed ns-node.tcl and classifier.cc so that the classifier slot-table
can be reused</li>

<p><li>
Added default shift/mask in tcl/lib/ns-default.tcl and config.h which would
make it easier to configure a simulation with a different kind of addressing.</li>

<p><li>
Added ns at-now functionality in ns-lib.tcl</li>

<p><li>
Added a code line to fill up ch->timestamp in the function allocpkt in
agent.cc</li>

<p><li>
Changed declaration of gettimeofday in rng.cc to make it work on Solaris</li>

<p><li>
Added warning messages in timer-handler.cc before abort() in functions
cancel and sched</li>
</ul>

<p><li>
<b><a href="http://www.cs.berkeley.edu/~mccanne">[SM]</a>Sun Aug 10 15:11:27
PDT 1997</b></li>

<ul>
<p><li>
Added doc-hdr.html for otcldoc. This html stub is included at the top of
index.html from the otcldoc output. We still need to create a Makefile
rule for running otcldoc, but in the meantime you can run it manually as
follows:</li>

<pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ../tclcl/otcldoc -h doc-hdr.html tcl/*/*.tcl tcl/*/*/*.tcl</pre>

<p><li>
Fixed up some of the formatting in this change history.</li>
</ul>

<p><li>
<b><a href="http://www.cs.berkeley.edu/~elan">[EA]</a> Fri Nov 28 19:13:31
PST 1997</b></li>

<ul>
<p><li>
Fixed up scuba demos to work with new nam.</li>

<p><li>
Fixed bug in namsupp where queues weren't being outputed.</li>
</ul>

<p><li>
<b><a href="http://www.isi.edu/~johnh/">[johnh]</a> Sun Dec 7 16:44:39
PST 1997</b></li>

<br>A first cut at the Vegas test suite. Tests are very similar to ns-1.4
(after recv_newack_helper breakage was repaired), but are not quite identical
(probably because of retransmit timer changes).
<p><li>
<b><a href="http://www.isi.edu/~johnh/">[johnh]</a> Fri Dec 5 17:41:15
PST 1997</b></li>

<br>CBR advance and advanceby commands and the done method added and documented.
Their usage is analogous to Tcp's.
<p>Also session-rtp.tcl's bw_parse now handles more cases like tclcl's
atof_bw and added a time_parse.
<p><li>
<b><a href="http://www.cs.berkeley.edu/~padmanab/">[VNP]</a></b> <b>Wed
Nov 26 21:57:26 PST 1997</b></li>

<ul>
<p><li>
Added a new member function REDQueue::pickPacketForECN() which is called
when the RED algorithm decides to send an ECN notification. By default,
this function picks the incoming packet.</li>

<p><li>
SemanticREDQueue calls the pickPacketForECN() function defined in SemanticPacketQueue,
which picks a packet uniformly at random.</li>

<p><li>
Replaced the check $type == "RED" in ns-lib.tcl with one that just looks
for the string "RED" in $type. This is to accomodate derived classes of
REDQueue such as SemanticREDQueue.</li>
</ul>

<p><li>
<b><a href="http://www.cs.berkeley.edu/~hari">[hari]</a></b> <b>Tue Nov
18 17:22:12 PST 1997</b></li>

<ul>
<p><li>
Multi-state error models and restructuring of OTcl support code in tcl/ex/ns-errmodel.tcl
(ns-ber.tcl now obsolete).</li>

<p><li>
Some changes to LAN support code; in particular added code to have different
types of LL protocols on the same LAN.</li>
</ul>
Files: errmodel.{cc,h}, ns-errmodel.tcl, ns-lan.tcl, ns-default.tcl, ns-lib.tcl,
snoop.tcl, (removed) ns-ber.tcl</ul>

<hr>
<h3>
<a href="http://www-mash.cs.berkeley.edu/dist/vint/ns-src-2.1b1.tar.gz">ns-2.1b1</a>
November 11, 1997</h3>
Release to incorporate tracing features for nam-1.0a2. This release is
CVS tagged with NS_2_1B1
<ul>
<p><li>
<b><a href="http://www.isi.edu/~kkumar/">[SK]</a></b> <b>Tue Nov 11 18:29:44
PST 1997</b></li>

<br>validate now runs only v2 tests. There's a new script validate-v1 to
run v1 tests.
<p><li>
<b><a href="http://www.isi.edu/~kannan/">[KVa]</a></b> <b>Tue Nov 11 12:40:44
PST 1997</b></li>

<br>Minor updates:
<ul>
<p><li>
Fix Simulator constructor to invoke parent constructor last,</li>

<br>Also invoke use-scheduler instead of creating one directly,
<p><li>
Fix use-scheduler to be more careful about instance variables,</li>

<p><li>
Add scheme for SRM agents to send log-scaled session messages based on
groupsize, rather than fixed periodic messages,</li>

<br>Use by setting ``Agent/SRM set sessionFunction_ "SRM/session/log-scaled"''</ul>

<p><li>
<b><a href="http://www-nrg.ee.lbl.gov/kfall/">[kfall]</a></b> <b>Mon Nov
10 16:54:52 PST 1997</b></li>

<br>Update to ns-lib to have an intf to allocating and attaching flow monitors.
Add this to the red test suite so that it may now re- produce what it did
for ns1.
<br>Finish the v2 CBQ test suite. Validated output is still lacking.
<p><li>
<b><a href="http://www.isi.edu/~johnh/">[johnh]</a></b> <b>Mon Nov 10 15:54:54
PST 1997</b></li>

<br>Configuration for tcl/tk changed to search for tcl/tk-8.0 and fall-back
on 7.6/4.2. The builder is responsible to make sure that the same tcl/tk
is used to build otcl, tclcl, and ns. If you have both versions and want
to force the old one, configure --with-tcl-ver=7.6 and --with-tk-ver=4.2
(or --with-tcl=/full/path/to/tcl7.6 etc.).
<p><li>
<b><a href="http://www.cs.berkeley.edu/~hari">[hari]</a></b> <b>Wed Nov
5 20:44:32 PST 1997</b></li>

<ul>
<p><li>
Massive changes to error model structures and error generation to make
it work correctly. Three kinds of error models -- packet-based, byte-based,
and time-based. Support code is in ns-ber.tcl (some common error models).</li>

<br>Files: errmodel.cc, errmodel.h
<p><li>
Mods to snoop protocol incl. very preliminary first cut at congestion vs.
corruption losses. Updated example script in tcl/ex/snoop.tcl (also uses
util.tcl in the same directory).</li>
</ul>

<p><li>
<b><a href="http://www.isi.edu/~kkumar/">[SK]</a></b> <b>Wed Nov 5 19:07:12
PST 1997</b></li>

<br>Major bug fixes made to detailedDM multicast routing protocol implementation.
Added example scripts and documentation. Files affected: tcl/mcast/{detailedDM.tcl,
timer.tcl} Files added: tcl/ex/newmcast/{detailedDM1.tcl, detailedDM1-nam.tcl,
detailedDM2.tcl, detailedDM2-nam.tcl}
<p><li>
<b><a href="http://www.isi.edu/~johnh/">[johnh]</a></b> <b>Wed Nov 5 19:03:00
PST 1997</b></li>

<br>Validate changed to detect and report failed tests.
<p><li>
<b><a href="http://www.isi.edu/~johnh/">[johnh]</a></b> <b>Wed Nov 5 18:29:13
PST 1997</b></li>

<br>Agent/TCP set restart_bugfix_ is back to true by default (but not in
v1-mode). ./test-all::telnet and ./test-all-red::red_twowaybytes: both
changed (very slightly) and were updated.
<p><li>
<b><a href="mailto:huang@isi.edu">[PH]</a></b> <b>Mon Nov 3 15:59:56 PST
1997</b></li>

<br>Checked in the codes to improve SessionSim scalibility and to enable
multiple loss modules per tree. Files changed: sessionhelper.cc, tcl/session/session.tcl,
tcl/ex/newmcast/session3.tcl
<p><li>
<b><a href="http://www.isi.edu/~kkumar/">[SK]</a></b> <b>Wed Oct 29 23:22:24
PST 1997</b></li>

<br>Checked in new multicast code that adapts to network dynamics and supports
LAN topologies Files added: tcl/mcast/{detailedDM.tcl, timer.tcl} (Copied
tcl/ex/timer.tcl to tcl/mcast/timer.tcl)
<p><li>
<b><a href="http://www.isi.edu/~johnh/">[johnh]</a></b> <b>Tue Oct 28 15:04:32
PST 1997</b></li>

<br>Some test suite work:
<ul>
<p><li>
validate: a new program in the top directory which runs all known test
suites.</li>

<p><li>
bin/fix_flow_id: sets flow-id to source/dest, or min of the two. The program
raw2xg graphs trace output, optionally putting different flows into ``bands''
(when invoked with -s 0.01 -m 90). It wasn't clear what the definition
of a ``flow'' was: was it the flow-id or the source? Kannan changed raw2xg
to use flow-id (the Right Thing---that's why we have flow-id, isn't it?).
This program (fix_flow_id) is the glue needed to map source or destination
into flow id for those scripts that prefer banding based on sources.</li>

<p><li>
test-suite-tcp.tcl was fixed to use fix_flow_id, making it work (it had
been broken since 22-Oct-97).</li>
</ul>

<p><li>
<b><a href="http://www.isi.edu/~johnh/">[johnh]</a></b> <b>Mon Oct 27 18:52:25
PST 1997</b></li>

<br>Agent/TCP set restart_bugfix_ => false (temporarily).
<p><li>
<b><a href="http://www.cs.berkeley.edu/~hari/">[hari]</a></b> <b>Sat Oct
25 23:24:56 PDT 1997</b></li>

<br>Several changes, including some bug fixes:
<ul>
<p><li>
Added a drop-from-front packet-drop policy to the RED and DropTail queue
classes. DropTail now has 2 kinds of dropping policies (drop-tail, of course;
and drop-front_) and RED has 3 (drop-tail_, which is the default; drop-rand_;
and drop-front_).</li>

<br>Files: drop-tail.{cc,h}, red.{cc,h}
<p><li>
TCP updates RTT from an ack only if no_ts_ flags is NOT set in packet header
(it's usually not set, unless there's an ack reconstructor en route, see
below). Also added TCP trace format control from Tcl, and derived TCP classes
can define their own trace function.</li>

<br>Files: tcp.{cc,h}
<p><li>
Added ack-recons.{cc,h} as a TCP ack reconstructor object (first cut).
Sits on other end of constrained reverse link and intersperses (reconstructs)
acks to the TCP source. Typically used in conjunction with schemes like
ack filtering for asymmet ric networks.</li>

<br>Files: ack-recons.{cc,h}, tcl/lib/ns-queue.tcl
<p><li>
Tracing tcp-asym-specific variables; controlling parameters from Tcl, fix
for ACC to work with ECN. Added new test script with many changes from
the previous version.</li>

<br>Files: tcp-asym.cc, tcp-asym-sink.cc, tcl/ex/asym/asym.tcl, tcl/ex/asym/util.tcl
<p><li>
Modified output of telnet test to warn about irreproducibility. Modified
test suite to reflect config changes of RED gateways.</li>

<br>Files: test-all, test-suite.tcl
<p><li>
Some bug fixes and other changes in Mac/Multihop code.</li>

<br>Files: mac-multihop.{cc,h}, tcl/lan/ns-mac.tcl
<p><li>
Semantic packet queues: various bug fixes, memory leak fixes, mods for
ack reconstructors, random drops, other configurational changes (control
from Tcl).</li>

<br>Files: semantic-packetqueue.{cc,h}, queue.cc</ul>

<p><li>
<b><a href="http://www.isi.edu/~kannan/">[KVa]</a></b> <b>Thu Oct 23 13:09:11
PDT 1997</b></li>

<br>SRM fixes, from Christoph Haenle &lt;christoph@starburst.com> and Haobo
Yu &lt;haoboy@isi.edu>.
<p><li>
<b><a href="http://www.isi.edu/~johnh/">[johnh]</a></b> <b>Wed Oct 22 21:20:57
PDT 1997</b></li>

<br>Some ns TcpAgent changes:
<ul>
<p><li>
restart_bugfix_ is on by default (and turned off in ns-compat)</li>

<p><li>
finish_ command is been replaced by the done method (which is now documented
in the man page) This saves 100 bytes of memory per TCP object.</li>

<p><li>
there are now macros T_{RTT,SRTT,RTTVAR}_BITS which symbolically say how
these fixed point values are represented (if someone thinks C++ constants
would be better, I'd love to see them changed) (I only checked tcp.cc for
these magic numbers.)</li>
</ul>

<p><li>
<b><a href="http://www.isi.edu/~johnh/">[johnh]</a></b> <b>Wed Oct 22 21:18:33
PDT 1997</b></li>

<br>tcp-rbp bug fixes for Agent/TCP/Reno/RBP: prevent bursting after pacing,
properly compute pacing interval. New rbp_demo.tcl.
<p><li>
<b><a href="http://www.isi.edu/~kannan/">[KVa]</a></b> <b>Wed Oct 22 13:58:15
PDT 1997</b></li>

<br>Minor cleanup following the crash.
<p><li>
<b><a href="http://www-nrg.ee.lbl.gov/kfall/">[KF]</a></b> <b>Mon Oct 20
19:56:51 PDT 1997</b></li>

<ul>
<p><li>
The tcp-full.cc is updated to incorporate some of (but not yet all of)
the changes from Kathie Nichols/Van.</li>

<p><li>
the test-suite-full.tcl uses misc.tcl and topologies.tcl</li>

<p><li>
test-suite-full.tcl also uses 2 new tcl programs:</li>

<br>bin/tcpfull-summarize.tcl
<br>bin/cplot.tcl
<br>The first file grinds on {for now} full tcp traces and produces generic
output files containing traces of segments, acks w data, pure acks, and
drops.
<br>The cplot.tcl file is more generic, and takes a set of pairs of plot_file_names/labels,
plus a type of graphics program, and a title. It produces graphics using
either gnuplot or xgraph, where this decision is based on the assignment
of the "NSOUT" envariable.
<br>So, if you say "setenv NSOUT xgraph" and run test-all-full (or do some
other invocation of ./ns test-suite-full.tcl xxx), you will get xgraph
windows. If you set NSOUT to gnuplot, you will get x11 gnuplots in front
of you. Eventually I will extend this to produce postscript for inclusion
in documents; as it was sort of put together with extensibility in mind.</ul>

<p><li>
<b><a href="http://www.isi.edu/~kkumar/">[SK]</a></b> <b>Sun Oct 19 23:56:51
PDT 1997</b></li>

<br>Checked in multicast validation tests. Files added: test-all-mcast,
test-all-template-mcast, test-suite-mcast.tcl, test-output-mcast/{CtrMcast1.Z,
DM1.Z, DM2.Z, DM3.Z, DM4.Z}
<p><li>
<b><a href="http://www.isi.edu/~johnh/">[johnh]</a></b> <b>Sat Oct 18 20:28:37
PDT 1997</b></li>

<br>Random number seed starts at 1; RBP now uses srtt rather than rtt;
configure now checks for perl.
<p><li>
<b><a href="http://www-nrg.ee.lbl.gov/floyd/">[SF]</a></b> <b>Sat Oct 18
14:39:35 PDT 1997</b></li>

<ul>
<p><li>
Made a bugfix so that maxburst now works correctly with SACK1 TCP.</li>

<p><li>
Automatic validation tests in tcl/test now include the following: test-all-red,
test-all-sack, test-all-schedule, test-all-tcp, test-all-red-v1, test-all-cbq-v1,
test-all-sack-v1, and test-all-v1.</li>
</ul>

<p><li>
<b><a href="http://www-nrg.ee.lbl.gov/kfall/">[KF]</a></b> <b>Fri Oct 17
11:29:10 PDT 1997</b></li>

<br>First cut at changing the fullTCP test suite over to the "simplified"
version (using tcl/test/misc.tcl).
<p><li>
<b><a href="http://www-nrg.ee.lbl.gov/floyd/">[SF]</a></b> <b>Fri Oct 10
19:29:10 PDT 1997</b></li>

<br>A few more small changes to code for retransmit timers. Added new configuration
variables for setting initial values for retransmit timers. (The CVS log
for these changes and other changes made after Oct. 2 was wiped out in
the disk crash of Oct. 10.)
<p><li>
<b><a href="http://www-nrg.ee.lbl.gov/floyd/">[SF]</a></b> <b>Wed Oct 8
21:16:36 PDT 1997</b></li>

<ul>
<p><li>
Added tracing of number of transmitted and retransmitted packets to TCP,
and added a new variable for window initialization after a timeout, for
research on TCP window initialization, both based on code contributed by
Kathie Nichols and Van Jacobson.</li>

<p><li>
With Kevin Fall, made the following changes to TCP's retransmit timers:
The default is now that average roundtrip times are recomputed once a window,
not once every packet; changed initial values of retransmit timers; brought
the functionality more in line with that of actual implementations.</li>
</ul>

<p><li>
<b><a href="mailto:huang@isi.edu">[PH]</a></b> <b>Wed Oct 8 17:22:44 PDT
1997</b></li>

<br>Added simple queue and ttl checker modules for SessionSim
<p><li>
<b><a href="http://www-nrg.ee.lbl.gov/floyd/">[SF]</a></b> <b>Mon Oct 6
13:48:10 PDT 1997</b></li>

<br>Bug fix for ns-compatibility mode for CBQ. Code contributed by Greg
Minshall, minshall@acm.org.
<p><li>
<b><a href="http://north.east.isi.edu/~mjh/">[mjh]</a></b> <b>Fri Oct 3
12:59:37 EDT 1997</b></li>

<br>Changed nam tracefile code to generate more Tcl-like format
<p><li>
<b><a href="http://www.isi.edu/~johnh/">[johnh]</a></b> <b>Thu Oct 2 13:46:29
PDT 1997</b></li>

<br>Default scheduler changed to List in backwards compatibilty mode.
<p><li>
<b><a href="http://www-nrg.ee.lbl.gov/floyd/">[SF]</a></b> <b>Wed Oct 1
14:41:13 PDT 1997</b></li>

<br>Changed the default RED behavior when queue is full from random-drop
to drop-tail.
<p><li>
<b><a href="http://www-nrg.ee.lbl.gov/floyd/">[SF]</a></b> <b>Mon Sep 29
16:51:33 PDT 1997</b></li>

<br>Added an ECN-Capable flag to the packet header (ecn_capable_), and
modified tcp.cc and red.cc to set and check it.
<p><li>
<a href="mailto:huang@isi.edu">[PH]</a> <b>Fri Sep 19 15:19:08 PDT 1997</b></li>

<ul>
<p><li>
modified SRM example scripts, tcl/ex/srm-*.tcl, to use error model instead
of rtmodel.</li>

<p><li>
added equivalent SRM example scripts using session level simulator. tcl/ex/srm-*-session.tcl</li>

<p><li>
made changes to errmodel.cc to add specific error model for the SRM scripts.</li>

<p><li>
made changes to tcl/session/session.tcl so it parses link bandwidth and
delay in various units.</li>

<p><li>
(previously done)fixed a bug between rtmodel and DM multicast.</li>

<p><li>
(previously done)fixed API in the multicast example scripts.</li>
</ul>
</ul>

<hr>
<h3>
<a href="http://www-mash.cs.berkeley.edu/dist/vint/ns-src-2.0.tar.gz">ns-2.0</a>
Sep 10, 1997</h3>
Release for the SIGCOMM tutorial.
<ul>
<p><li>
<b><a href="http://catarina.usc.edu/~haoboy/">[haoboy]</a></b> <b>Thu Sep
11 18:35:24 PDT 1997</b></li>

<br>Support for Mark's new nam trace file format. All events except routing
are supported. It requires updates of Tcl.cc, which is already checked
in. The document of new trace file format is <a href="http://catarina.usc.edu/~haoboy/trace-format.ps">here</a>.
An example script is at <tt>tcl/ex/nam-example.tcl</tt>
<br>Also minor changes to nam-1 to make down link more visible.
<p><li>
<b><a href="http://www.isi.edu/~johnh/">[johnh]</a> and <a href="http://www.isi.edu/~haoboy/">[haoboy]</a>
Wed Sep 10 22:51:33 PDT 1997</b></li>

<br>2.0 release.
<p><li>
<b><a href="http://www.isi.edu/~kannan/">[KVa]</a> Tue Sep 9 23:48:19 PDT
1997</b></li>

<br>Moved drophead_ to the base simplelink class. Added $link ttl-drop-trace,
linkfail-drop-trace, and transit-drop-trace. usage is as:
<pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; $link ttl-drop-trace [FilePointer]</pre>
If FilePointer is not specified, it defaults to using the drophead_
<p>Also made ttl.cc, delay.cc and dynalink.cc use drop-targets uniformly
<p><li>
<b><a href="http://www.cs.berkeley.edu/~padmanab/">[VNP]</a></b> <b>Wed
Sep 10 00:58:35 PDT 1997</b></li>

<br>tcp-newreno.cc: moved the code in recv() that handles the case of partial
new acks into a separate function called partialnewack_helper(). This allows
derived classes, such as tcp-fs, to do redefine this function to do additional
processing upon receiving a partial new ack. Files affected are tcp-newreno.cc,
tcp-fs.cc and tcp.h.
<p><li>
<b><a href="http://www.isi.edu/~kannan/">[KVa]</a> Tue Sep 9 23:48:19 PDT
1997</b></li>

<br>Minor updates to rtglib, moved things into rightful places. cleanedup
the binaries.
<p><li>
<b><a href="http://www.isi.edu/~johnh/">[johnh]</a> Mon Sep 8 14:54:58
PDT 1997</b></li>

<br>Changed default scheduler from List to Calendar. Many test suites changed
in minor ways due to different scheduling of packets with identical timestamps.
Test outputs updated: bug, delayed, no_bug, phase, phase1, reno2, reno3,
reno5, renoA, stats, tahoe3, tahoe4, telnet, timers.
<p><li>
<b><a href="http://www.isi.edu/~johnh/">[johnh]</a> Mon Sep 8 14:06:47
PDT 1997</b></li>

<br>Changed default random number generator to internal rng (rather than
external srand/random). Updated test-output/{telnet,reno4,reno4a,phase2}.
Random number generation should now be consistent on all platforms.
<p><li>
<a href="mailto:huang@isi.edu">[PH]</a> Mon Sep 8 12:45:09 PDT 1997</li>

<br>Check in the entire automatic loss dependency insertion module. See
tcl/ex/newmcast/session3.tcl for an example. Files changed: tcl/session/session.tcl,
errmodel.cc, tcl/ex/newmast/session3.tcl
<p><li>
<b><a href="http://www.isi.edu/~johnh/">[johnh]</a> Mon Sep 8 11:16:53
PDT 1997</b></li>

<br>Updated test-output/{phase1,reno2,reno3,reno5,timers} wrt Kevin's timeout
change from Monday, August 25.
<p><li>
<a href="mailto:huang@isi.edu">[PH]</a> <b>Fri Sep 5 21:21:11 PDT 1997</b></li>

<ul>
<p><li>
Ported Scalable Session Messages(SRM-SSM) codes from <a href="mailto:puneetsh@catarina.usc.edu">Puneet
Sharam</a></li>

<p><li>
Also ported selective error models for SRM-SSM test scripts. Files changed:
errmodel.[cc,h]</li>

<p><li>
Added helper functions to trace memory consumption in stack and heap area.
Users need to compile ns with -DMEMDEBUG_SIMULATIONS in Makefine DEFINE
field. Example script:tcl/ex/newmcast/cmcast-50.tcl Files added: mem-trace.h.
Files changed: tclAppInit.cc scheduler.cc ns-lib.tcl</li>

<p><li>
Fixed a minor dense mode multicast bug</li>

<p><li>
Changed duplex-link-of-interfaces in tcl/ex/newmcast scripts to duplex-link</li>
</ul>

<p><li>
<b><a href="http://www.isi.edu/~johnh/">[johnh]</a> Fri Sep 5 13:25:45
PDT 1997</b></li>

<br>Converted --with-Tcl to --with-TclCL (<i>incompatible change wtih 2.0b17</i>).
<p><li>
<b><a href="http://www.cs.berkeley.edu/~hari/">[hari]</a></b> <b>Thu Aug
28 11:43:13 PDT 1997</b></li>

<br>Mainly 2 bug fixes:
<br>1. Accounting of ack_count in filteracks
<br>2. Big memory leak because packets weren't being freed correctly in
filter.
<br>Files affected: semantic-packetqueue.{cc,h}</ul>

<ul>
<p><li>
<b><a href="http://www.cs.berkeley.edu/~padmanab/">[VNP]</a></b> <b>Mon
Aug 25 20:52:30 PDT 1997</b></li>

<ul>
<p><li>
Added tcp-fs.cc: TCP enhanced with "fast start" to enable a connection
to quickly resume after an idle period. A more detailed description can
be found in the source file itself.</li>

<p><li>
Added semantic-red.cc: a version of RED that allows certain operations
(at present, pickPacketToDrop()) to be dependent on higher-layer semantics.</li>

<p><li>
tcp{,-fack}.cc: Added a new case ("3") to the switch in closecwnd() that
resets cwnd_ to 1 but leaves ssthresh_ unchanged. This is invoked by the
TCP timeout code if there is no outstanding data and if restart_bugfix_
is set.</li>

<p><li>
tcp.cc: If we are just coming out from an idle period, rtx timer is forced
to be set again in output().</li>

<p><li>
tcp(,-reno,-newreno}.cc: moved code that handles non-rtx timeout events
into a new function timeout_nonrtx(). This enables derived classes to make
additions or modifications to the handling of non-rtx timeouts without
being forced to duplicate the rtx timeout code.</li>

<p><li>
tcp-fack.cc: fack_ is updated in oldack() as well.</li>
</ul>

<p><li>
<b><a href="http://www-nrg.ee.lbl.gov/kfall/">[Kevin Fall]</a> Mon Aug
25 13:27:11 PDT 1997</b></li>

<br>Change timeout initialization in tcp.cc:rtt_timeout(). Old code: ((srtt>>3)+rttvar)*tick
new code ((srtt>>3)+rttvar+1)*tick Fix contributed by Kathie Nichols w/Van.
<p><li>
<b><a href="http://www.cs.berkeley.edu/~hari/">[hari]</a> Sun Aug 24 18:10:50
PDT 1997</b></li>

<br>TCP with integrated congestion control and loss recovery. This helps
to perform congestion control and loss recovery between communicating hosts
on a <i>per-host</i>, rather than <i>per-connection</i>, basis. This is
beneficial for Web-like workloads and in other situations where multiple,
logically different TCP transfers may be in progress between two hosts
simultaneously. With IntTcpAgent, these logically different connections
would share the same cwnd, srtt, etc. for better congestion control; in
addition, data-driven loss recovery is improved as well. Support for "proxy"
hosts, acting on behalf of many users, is also included.
<br>Files: tcp-int.{cc ,h} : Integrated TCP agent.
<br>chost.{cc,h} : Per-host congestion control and loss recovery. The relevant
TCP control block variables are maintained on w.r.t. each "Corresponding
Host".
<br>nilist.{cc,h} : Generic linked list routines.
<p><li>
<b><a href="http://www.isi.edu/~johnh/">[johnh]</a> Tue Aug 19 15:27:11
PDT 1997</b></li>

<br>Initialization bugs in Vegas fixed. Code contributed by <a href="http://www-scf.usc.edu/~larse/">Lars
Eggert</a>.
<p><li>
<b><a href="http://www.isi.edu/~johnh/">[johnh]</a> Tue Aug 19 13:26:32
PDT 1997</b></li>

<br>configure.in.Tcl -> configure.in.TclCL
<p><li>
<b><a href="http://www.isi.edu/~johnh/">[johnh]</a> and <a href="mailto:breslau@parc.xerox.com">[LB]</a>
Fri Aug 15 16:18:39 PDT 1997</b></li>

<br>New random number generator (rng.{cc,h}). Code to use the RNG is in
Random.{cc,h} but currently ifdef'ed out.
<p><li>
<b><a href="http://www.cs.berkeley.edu/~elan">[EA]</a> Thu Aug 14 11:19:36
PDT 1997</b></li>

<br>Added 'flash_annotate t d m' helper function that flashes a session
level message m in the nam window starting at time t for duration d.
<p><li>
<a href="http://www.cs.berkeley.edu/~tomh">[TH]</a> <b>Wed Aug 13 17:20:00
PDT 1997</b></li>

<br>Unified the way that timers are implemented in ns, by using the abstract
timer base class defined in timer-handler.h. This simplifies the Agent
base class by removing the timer methods there. Files affected: agent.h,
agent.cc, tcp.h, tcp.cc, tcp-sink.h, tcp-sink.cc, tcp-sack1.cc, tcp-asym.cc,
tcp-asym-sink.cc, tcp-fack.cc, tcp-vegas.cc, tcp-full.h, tcp-full.cc, cbr.h,
cbr.cc, udp.h, udp.cc, rtcp.cc, rtp.cc.
<p><li>
<b><a href="http://www.isi.edu/~johnh/">[johnh]</a> Tue Aug 12 10:30:26
PDT 1997</b></li>

<br>class Samples now has a newpoint tcl command (code contributed by <a href="http://www.isi.edu/~faber">Ted
Faber<faber@isi.edu></a>)
<p><li>
<b><a href="http://www.isi.edu/~johnh/">[johnh]</a> Tue Aug 12 16:19:51
PDT 1997</b></li>

<br>Links now have a (documented!) trace-callback option to trace to a
callback function.
<p><li>
<b><a href="http://www-nrg.ee.lbl.gov/kfall">[KF]</a>Mon Aug 11 14:00:27
PDT 1997</b></li>

<ul>
<p><li>
Fixed (yet another) problem with sack/tcp-sink where the # of sack blocks
initialized properly. (reported by Venkat Padmanabhan).</li>

<p><li>
Changed CBQ so that maxidle_ can be automatically determined, as in ns-1</li>

<p><li>
Fixed buffer overflow bug in flow monitor, caused by using tcl.resultf("%s",
ptr) instead of tcl.result(ptr), where ptr points to a big string.</li>
</ul>

<p><li>
<b><a href="http://www.cs.berkeley.edu/~mccanne">[SM]</a>Sun Aug 10 15:11:27
PDT 1997</b></li>

<ul>
<p><li>
Fixed up PacketManager initialization code (in ns/lib/ns-packet.tcl) so
that modules that define packet header classes can be safely ommitted from
the build. Previously, an error would occur if the corresponding class
didn't exist. This new structure catches the case where the tcl code is
out of date with respect to a packet header defined in C++. As a result,
two new bugs were found and fixed: the ``aSRM'' and ``Tap'' packet header
classes previously did not have the appropriate initialization code in
ns-packet.tcl.</li>
</ul>

<p><li>
<a href="mailto:ahelmy@usc.edu">[AH]</a> <b>Sun Aug 10 02:05:12 PDT 1997</b></li>

<ul>
<p><li>
Major changes and fixes to the pim-sm code in tcl/pim; pim-init.tcl added
trace functions, pim-messagers.tcl tracing for protocol actions, pim-mrt.tcl
updates, pim-recvr/sender.tcl support for asserts and prune-overrides (for
LAN operation), pim-vifs.tcl added joining source-group pairs for source-specific
trees (leave fix, also).</li>

<p><li>
Added a first test-suite for pim-sm in tcl/ex/newmcast/pim-test-suite-1.tcl.
This covers 6 basic scenarios for the pim protocol behavior to stress pim.
[note: pim1.tcl does not work due to the way CBR source allocates packets,
and interaction with pim encapsulation].</li>

<p><li>
Added functions for clearing mcast forwarding caches in classifier-mcast.cc.</li>

<p><li>
Major change to tcl/mcast/McastProto.tcl to support well-known-groups for
local multicast on LANs. Also changes to ns-mcast.tcl for various fixes
and source-group-joins.</li>
</ul>

<p><li>
<b><a href="http://www.cs.berkeley.edu/~mccanne">[SM]</a></b> <b>Sat Aug
09 11:49:33 PDT 1997</b></li>

<ul>
<p><li>
First cut at port to win32 API (should work under both Windows 95 and NT).</li>

<p><li>
This version still limps ... the new Windows makefile (makefile.vc) needs
much more work.</li>

<p><li>
This rev requires the latest TclCL (new name for libTcl) since several
changes were required by the fact that Windows file names are case insensitive.</li>
</ul>

<p><li>
<a href="mailto:huang@isi.edu">[PH]</a> <b>Thu Aug 7 19:53:17 PDT 1997</b></li>

<ul>
<p><li>
Added delay models for session level packet distribution. Files added:
delaymodel.[cc,h]</li>

<p><li>
Modified structure of 'virtual links'. Loss and delay modules can be inserted
flexibly. Example script to insert loss module: tcl/ex/newmcast/session3.tcl.</li>

<p><li>
Added helper functions to monitor packets in transit. Example script: tcl/ex/newmcast/pktintran.tcl</li>
</ul>

<p><li>
<a href="http://www.cs.berkeley.edu/~tomh">[TH]</a> <b>Thu Aug 7 12:47:34
PDT 1997</b></li>

<br>Redid tcp-full.cc timers to conform to the C++ timers defined in timer-handler.cc.
<p><li>
<a href="mailto:huang@isi.edu">[PH]</a> <b>Mon Aug 4 17:59:32 PDT 1997</b></li>

<ul>
<p><li>
Added session level packet distribution(1st pass). Files added: sessionhelper.cc,
tcl/session/session.tcl, and example scripts tcl/ex/newmcast/session*.tcl.</li>

<p><li>
Modified tcl/ex/mcast.tcl and tcl/ex/newmcast/*.tcl example scripts to
be consistent with the current API.</li>
</ul>

<p><li>
<a href="http://ww-nrg.ee.lbl.gov/kfall">[KF]</a> <b>Thu Jul 31 12:09:34
PDT 1997</b></li>

<ul>
<p><li>
add a max bound on the TCP rto (maxrto_), default is 64 sec (like bsd)</li>

<p><li>
modifications to the compat library to allow constructs of the form "set
ns_foo(bar) 3" to change global defaults.</li>

<p><li>
add a (hacky) way to support the ns-1 style of creating cbq classes (i.e.
"[new class]") which OTcl really doesn't like much.</li>

<p><li>
increase wrk_ array in the flow monitor and check bounds on it</li>
</ul>

<p><li>
<a href="http://ww-nrg.ee.lbl.gov/kfall">[KF]</a> <b>Tue Jul 29 15:56:34
PDT 1997</b></li>

<br>Fixed bug in TCP Sack sink which made the initialization of max_sack_blocks
unpredictable (changed tcp-sink.{cc,h}). Also, removed redundant default
for this variable in ns-default.tcl.
<p><li>
<a href="mailto:breslau@parc.xerox.com">[LB]</a> <b>Tue Jul 29 14:31:34
PDT 1997</b></li>

<br>ported ability to limit the amount of data sent by a CBR source (maxpkts_)
from ns-1 to ns-2. Files changed: cbr.cc, cbr.h.</ul>

<hr>
<h3>
<a href="http://www-mash.cs.berkeley.edu/dist/vint/ns-src-2.0b17.tar.gz">ns-2.0b17</a>
Fri, 25 Jul 1997 22:50:34 -0700</h3>
Release for the ns retreat. This release is CVS-tagged with ``NS_2_0B17''.
<ul>
<p><li>
<b><a href="http://www.isi.edu/~johnh/">[johnh]</a> and <a href="http://www-nrg.ee.lbl.gov/kfall">[KF]</a>
Fri Jul 25 17:29:12 PDT 1997</b></li>

<br>ns-compat now catches access to old default variables (like ns_tcp(window)).
This approach is a stop-gap, eventually we could map the old reads/writes
to the new variables if we think we must.
<p><li>
<b><a href="http://www.isi.edu/~johnh/">[johnh]</a> Fri Jul 25 17:00:00
PDT 1997</b></li>

<br>Configure now checks for libTcl-1.0b2.
<p><li>
<b><a href="http://www.isi.edu/~kkumar/">[SK]</a> Fri Jul 25 12:49:36 PDT
1997</b></li>

<br>Made modifications to remove MultiSim and MultiNode. Files affected:
ns-lib.tcl, ns-node.tcl, ns-mcast.tcl, CtrMcast.tcl
<p><li>
<b><a href="http://www-nrg.ee.lbl.gov:80/floyd/">[SF]</a></b> <b>Fri Jul
25 11:18:16 PDT 1997</b></li>

<ul>
<p><li>
Changed tcp-sack1.cc to correctly use the receiver's advertised window
during Fast Recovery.</li>
</ul>

<p><li>
<b><a href="http://www.cs.berkeley.edu/~padmanab/">[VNP]</a></b> <b>Fri
Jul 25 02:32:43 PDT 1997</b></li>

<ul>
<p><li>
Added semantic-packetqueue.{cc,h}: a derived class of PacketQueue that
understands higher-layer (e.g., TCP) semantics. To enable the creation
and configuration of a PacketQueue/Semantic object in Tcl, PacketQueue
is now derived from TclObject.</li>

<p><li>
tcp*.{cc,h}: Got rid of the return-by-reference functions for the traced
member variables of TcpAgent.</li>
</ul>

<p><li>
<b><a href="mailto:breslau@parc.xerox.com">[LB]</a></b> <b>Thu Jul 24 16:02:27
PDT 1997</b></li>

<br>Ported telnet source from ns-1 to ns-2. new files: telnet.{cc,h}. Changed
files: tcp.{cc,h}, ns-agent.tcl, ns-source.tcl, ns-default.tcl
<p><li>
<b><a href="http://www.cs.berkeley.edu/~padmanab/">[VNP]</a></b> <b>Thu
Jul 24 02:08:31 PDT 1997</b></li>

<ul>
<p><li>
tcp.{cc,h}: Got rid of the old-style tracing and replaced it with Giao's
TracedVar stuff. It is <i>no longer necessary</i> to use the return-by-reference
functions to refer to the traced variables (e.g., cwnd() instead of cwnd_),
but this will still work for now.</li>
</ul>

<p><li>
<b><a href="http://www.cs.berkeley.edu/~padmanab/">[VNP]</a></b> <b>Tue
Jul 22 02:13:12 PDT 1997</b></li>

<ul>
<p><li>
tcp.cc: finish() is called whenever there is no unacknowledged data</li>

<p><li>
tcp{,-reno,-newreno,-fack}.cc:</li>

<ul>
<p><li>
rtx timer is NOT backed off at the time of fast retransmission</li>

<p><li>
during fast recovery mode, we compare new ack with recover_ only if recover_cause_==1</li>
</ul>

<p><li>
tcp-fack.h: separate file for definition of FackTcpAgent to enable derived
classes</li>

<p><li>
tcp-nonfifo.cc: added support for priority drop</li>

<p><li>
red.cc: moved code that picks drop victim into pickPacketToDrop(). This
allows derived classes to use a different algorithm for this.</li>

<p><li>
queue-monitor.{cc,h}: option to exactly trace queue length (rather than
just sample it)</li>
</ul>

<p><li>
<b><a href="http://www.isi.edu/~kannan/">[KVa]</a></b> <b>Thu Jul 17 08:16:16
PDT 1997</b></li>

<br>- srm.cc/srmAgent::recv() did not free packets appropriately, causing
wastage of memory for large simulations. (Noted by <a href="mailto:puneetsh@catarina.usc.edu">Puneet</a>)
<br>- streamlined bin/raw2gp to attempt to unify the raw2* programs.
<p><li>
<b><a href="http://www.isi.edu/~kannan/">[KVa]</a></b> <b>Tue Jul 15 14:44:19
PDT 1997</b></li>

<br>Minor bug fixes in rtglib, and raw2xg.
<p><li>
<b><a href="http://www.cs.berkeley.edu/~tomh">[TH]</a></b> <b>Mon Jul 14
15:05:09 PDT 1997</b></li>

<br>Ported fulltcp.cc, fulltcp.h, and test-suite-fulltcp.tcl. New files:
tcp-full.cc, tcp-full.h, and tcl/test/test-suite-full.tcl. Changed files:
trace.h, trace.cc, tcp.h, ns-compat.tcl, ns-default.tcl, ns-source.tcl.
<p><li>
<b><a href="http://www.isi.edu/~kannan/">[KVa]</a></b> <b>Fri Jul 11 09:53:33
PDT 1997</b></li>

<br>&nbsp;
<p>&nbsp;
<br>&nbsp;
<br>&nbsp;
<br>&nbsp;
<br>&nbsp;
<br>&nbsp;
<br>&nbsp;
<br>&nbsp;
<br>&nbsp;
<br>&nbsp;
<br>&nbsp;
<p>Major Updates: SRM
<ul>
<p><li>
Adaptive Timers as described in <a href="http://ftp.ee.lbl.gov/pub/papers/srm.ps.Z">[Floyd
etal. sigcomm '95]</a></li>

<br>Files Affected: tcl/mcast/srm-adaptive.tcl (<b>new</b>), srm.cc, srm.h,
tcl/ex/srm-adapt-req.tcl (<b>new</b>), tcl/ex/srm-adapt-rep.tcl (<b>new</b>)
<p><li>
Cleanup of the tracing in srm.tcl</li>

<p><li>
Added tcl/mcast/srm-nam.tcl, so that, if sourced, will separate SRM packets
based on the type of packet. Data messages will have flowId_ 0, session,
request and repair messages have flow ids 40, 41, and 42 respectively.
The start number is specified by the global variable, <tt>ctrlFid_</tt>.</li>

<p><li>
Cleanup of the example scripts in tcl/ex. See tcl/mcast/srm.txt for details.</li>
</ul>

<p><li>
<b><a href="http://www.isi.edu/~kannan/">[KVa]</a></b> <b>Fri Jul 11 09:53:33
PDT 1997</b></li>

<br>Minor mods
<ul>
<p><li>
Hooks for DelayLink object to have a drop-target. Currently no OTcl support
yet. Should be there when I get around to it... someday... maybe...</li>

<br>Files Affected: delay.cc, delay.h
<p><li>
Cleanup compile time errors in scheduler.cc, scheduler.h.</li>

<p><li>
The default static routing now takes a cost parameter; it is now possible
to do asymetric paths by configuring link costs appropriately.</li>

<br>Files Affected: route.cc, tcl/lib/ns-lib.tcl
<p><li>
Bug fixes to proc gen-map() in tcl/lib/ns-trace.tcl.</li>

<p><li>
Fix multicast-rtglib interaction API.</li>

<br>Files Affected: tcl/mcast/McastProto.tcl, tcl/mcast/ns-mcast.tcl, tcl/mcast/dynamicDM.tcl,
tcl/rtglib/route-proto.tcl.
<p><li>
Bug fix to proc all-connectors() in rtglib. Routine did not instance the
appropriate variable. Hence, links did not drop packets in flight when
a link fails (hey, this may be a feature... :-)</li>

<br>Files Affected: tcl/rtglib/dynamics.tcl.
<p><li>
<font size=-2>Created a *hacky* loss module to fake periodic loss of packets.
(maybe I can sneak it in if I use real small print, and hope no one notices...).</font></li>
</ul>

<p><li>
<b><a href="http://www.isi.edu/~johnh/">[johnh]</a> Wed Jul 9 15:16:42
PDT 1997</b></li>

<br>RBP updates, including Agent/TCP/Reno/RBP.
<p><li>
<b><a href="mailto:breslau@parc.xerox.com">[LB]</a></b> <b>Thu Jul 3 12:37:09
PDT 1997</b></li>

<br>Created RandomVariable class, a pure virtual class for random variables,
and derived classes for Uniform, Constant, Pareto, Exponential and HyperExponential
distributions. New files: ranvar.{h,cc}, tcl/ex/ranvar.{tcl,txt}. Changed
files: ns-random.tcl, ns-default.tcl.
<p><li>
<b><a href="http://www-nrg.ee.lbl.gov/kfall">[KF]</a> Wed Jul 2 20:37:33
PDT 1997</b></li>

<br>Add the "flowmon" module and update supporting scripts in tcl/rtmechanisms.
This module is able to keep per-flow state. A flow is defined by creating
a classifier (typically of the classifier-hash variety) and giving it to
the flowmon. Examples are to be found in the rtmechanisms directory. Files
affected:
<ul>
<p><li>
flowmon.cc -> new functionality</li>

<p><li>
tcl/lib/ns-default.tcl -> defaults for Flow and Flowmon</li>

<p><li>
tcl/lib/ns-queue.tcl -> rework the way CBQ handles drops</li>

<p><li>
tcl/lib/ns-lib.tcl -> add hack to allow specification of a classifier object
with a CBQ or CBQ/WRR queue type when creating a "simplex-link"</li>

<p><li>
Makefile.in -> include flowmon.o</li>

<p><li>
FILES -> add flowmon.cc + rtm stuff</li>
</ul>

<p><li>
<b><a href="http://www-scf.usc.edu/~bhuang/">[PH]</a> Fri Jun 27 20:13:23
PDT 1997</b></li>

<ul>
<p><li>
Added a general mcast control message agent(a 1st pass) to make tracing
easier: prune.[h, cc]</li>

<p><li>
Fixed minor bugs in dynamicDM and pimDM</li>
</ul>

<p><li>
<b><a href="http://www-scf.usc.edu/~bhuang/">[PH]</a> Wed Jun 25 18:19:07
PDT 1997</b></li>

<ul>
<p><li>
Added dynamic DVMRP and PIM-DM multicast: tcl/mcast/[dynamic, pim]DM.tcl</li>

<p><li>
Cleaned up mulicast API(1st pass): tcl/ex/newmcast/mcast[1,2].tcl</li>
</ul>

<p><li>
<b><a href="http://www.isi.edu/~kkumar/">[SK]</a> Mon Jun 23 13:19:15 PDT
1997</b></li>

<br>Added man page for ns-2.
<p><li>
<b><a href="http://www.isi.edu/~johnh/">[johnh]</a> Thu Jun 19 20:03:35
PDT 1997</b></li>

<br>tcp-rbp and friends added. Rate-based pacing is an experimental addition
to TCP to address the slow-start restart problem. See&nbsp;<http://www.isi.edu/lsam/publications/rate_based_pacing/index.html>for
details.
<p><li>
<b><a href="http://www.isi.edu/~johnh/">[johnh]</a> Thu Jun 19 20:00:51
PDT 1997</b></li>

<br>raw2xg updated with more features (better usage and -qs:m: options).
<p><li>
<b><a href="http://www.isi.edu/~johnh/">[johnh]</a> Thu Jun 19 20:00:28
PDT 1997</b></li>

<br>agent-timer.{h,cc} implements timers for agents with classes (rather
than pending_[] and timer_[]).
<p><li>
<b><a href="http://www.cs.berkeley.edu/~gnguyen">[GN]</a> Thursday, Jun
19 16:03:23 PDT 1997</b></li>

<br>Minor enhancement to scheduler to make debugging easier by using the
uid_ field of each event: positive uid_: inside the scheduling queue negative
uid_: NOT in the scheduling queue
<p><li>
<b><a href="http://www.isi.edu/~johnh/">[johnh]</a> Mon Jun 16 17:18:46
PDT 1997</b></li>

<br>Added TCP Vegas (ported from Ted Kuo's implementation for ns-v1). Changed
TcpAgent::send to TcpAgent::send_much.
<p><li>
<b><a href="http://www.cs.berkeley.edu/~elan">[EA]</a></b> <b>Mon Jun 16
11:15:45 PDT 1997</b></li>

<br>Added simple simulation-level annotation (ns-trace.tcl, trace.cc).
<p><li>
<b><a href="http://www.cs.berkeley.edu/~gnguyen">[GN]</a> Friday, Jun 13
19:03:23 PDT 1997</b></li>

<br><a href="http://daedalus.cs.berkeley.edu">Daedalus Research Group</a>
extensions by: <a href="http://www.cs.berkeley.edu/~gnguyen">Giao Nguyen</a>,
<a href="http://www.cs.berkeley.edu/~hari">Hari
Balakrishnan</a>, <a href="http://www.cs.berkeley.edu/~padmanab">Venkata
Padmanabhan</a>.
<ul>
<p><li>
LAN and wireless networks:</li>

<ul>
<p><li>
Link-layer protocols:</li>

<br>simple stop-and-wait protocol
<br>TCP-aware snoop protocol
<p><li>
Scheduling algorithms at LAN interface queues</li>

<p><li>
MAC protocols:</li>

<br>CSMA/CD (10 Mbps Ethernet)
<br>CSMA/CA (WaveLAN)
<br>IEEE 802.11
<br>Metricom's Ricochet MAC
<p><li>
Shared channel with wireless error models</li>
</ul>

<p><li>
TCP router enhancements for asymmetric networks</li>

<p><li>
Tracing of TCP variables</li>
</ul>

<p><li>
<b><a href="http://www.isi.edu/~johnh/">[johnh]</a> Fri Jun 13 18:06:33
PDT 1997</b></li>

<br>Added slow_start_restart option to TcpAgent.
<p><li>
<b><a href="http://www.cs.berkeley.edu/~elan">[EA]</a></b> <b>Fri Jun 13
17:18:13 PDT 1997</b></li>

<br>Added SCUBA protocol module in tcl/rtp. Added some demos in ex/scuba.
<p><li>
<b><a href="http://www-nrg.ee.lbl.gov/kfall">[KF]</a></b> <b>Thu Jun 12
12:32:31 PDT 1997</b></li>

<br>&nbsp;
<p>&nbsp;
<br>&nbsp;
<br>&nbsp;
<br>&nbsp;
<br>&nbsp;
<br>&nbsp;
<br>&nbsp;
<br>&nbsp;
<br>&nbsp;
<p>Small change to conf/config.head.in to look for socket() rather than
poll() when searching for the -lsocket library. Also a new version of the
configure script based on this.
<p><li>
<b><a href="http://www.cs.berkeley.edu/~mccanne">[SM]</a></b> <b>Wed Jun
11 11:49:28 PDT 1997</b></li>

<br>&nbsp;
<p>&nbsp;
<br>&nbsp;
<br>&nbsp;
<br>&nbsp;
<br>&nbsp;
<br>&nbsp;
<br>&nbsp;
<br>&nbsp;
<br>&nbsp;
<p>Bug fixes to emulation rig. Previous version didn't properly account
for the fact that external events (i.e., packet arrivals) could come before
the next future event. Now, the scheduler sets a tcl timer to advance time
(instead of waiting in a null select) and the tap-agent sync's simulation
time to real time when an external packet arrives.
<p><li>
<b><a href="mailto:huang@isi.edu">[PH]</a></b> <b>Wed Jun 11 09:34:33 PDT
1997</b></li>

<br>Changed centralized mcast test files to use MultiNode expandaddr option,
provided by <a href="mailto:breslau@parc.xerox.com">Lee Breslau</a>. It
solves the limitation that MultiSim only allow 128 unicast nodes. Also,
made minor changes to reduce memory used in simulations File changed: tcl/ex/newmcast/cmcast-[50,100,150,200,250].tcl.
<p><li>
<b><a href="mailto:huang@isi.edu">[PH]</a></b> <b>Mon Jun 9 15:59:01 PDT
1997</b></li>

<br>Bug fix: Changed CtrMcastComp:compute-branch() to work in source =
RP case for RPT. File changed: tcl/ctr-mcast/CtrMcastComp.tcl.
<p><li>
<b><a href="mailto:tomh@cs.berkeley.edu">[TH]</a></b> <b>Mon Jun 9 15:00:34
PDT 1997</b></li>

<br>Bug fix: Changed Newreno::recv() static variables acked, new_ssthresh,
ack2, ack3, and basertt to be class member variables. File changed: tcp-newreno.cc.
<p><li>
<b><a href="mailto:breslau@parc.xerox.com">[LB]</a></b> <b>Sun Jun 8 14:09:16
PDT 1997</b></li>

<br>Provided a fix so that more than 127 nodes can exist in a simulation
that uses both unicast and multicast transport. Also added a proc to allocate
unique multicast addresses. File changed: tcl/mcast/ns-mcast.tcl
<p><li>
<b><a href="mailto:tomh@cs.berkeley.edu">[TH]</a></b> <b>Fri Jun 6 17:30:16
PDT 1997</b></li>

<br>Ported tcp-fack.cc from ns-1 to ns-2. File added: tcp-fack.cc.
<p><li>
<b><a href="http://www.isi.edu/~kannan/">[KVa]</a></b> <b>Thu Jun 5 09:24:50
PDT 1997</b></li>

<br>ktest-all will stored compress files in test-output-raw, to save space.
<br>minor mods to srm test suite, documentation in srm.txt.
<br>minor bug fixes in srm.
<p><li>
<b><a href="http://www.isi.edu/~kannan/">[KVa]</a></b> <b>Tue Jun 3 14:08:45
PDT 1997</b></li>

<br><b>Major mods</b> SRM for <i>ns</i>
<br>Currently, some of the fixed timer functions have been implemented.
The adaptive functions, as well as local recovery mechanisms will be coming
along soon.
<br>An earlier almost entirely C++-based version (ported from the ns-1
implementation) is also checked in, tagged, and overwritten. It can be
accessed by vint members should they want to take a look at it later.
<br>Files affected: new files: srm.cc, srm.h, srm-state.h, tcl/mcast/srm.tcl,
tcl/mcast/srm-debug.tcl, tcl/mcast/srm-debug++.tcl, tcl/ex/simple-srm.tcl,
tcl/ex/srm2.tcl, tcl/ex/srm_star.tcl, tcl/ex/simple-srm-nam.tcl, tcl/ex/srm2-nam.tcl,
tcl/ex/srm_star-nam.tcl. Also modified: Makefile.in, trace.h, tcl/lib/ns-packet.tcl.
<p><li>
<b><a href="http://www.isi.edu/~kannan/">[KVa]</a></b> <b>Tue Jun 3 14:08:45
PDT 1997</b></li>

<br>Bug fixes in rtglib:
<ul>
<p><li>
dynamics.tcl: rtModel/Manual did not work. Fixed, and tested. This code
is now used in tcl/ex/srm2.tcl and tcl/ex/srm_star.tcl to create ``interesting''
single packet drops.</li>

<p><li>
route-proto, RouteLogic::lookup would return OIDs when dynamic routing
is enabled, which breaks the multicast. (It now breaks when equal cost
multipath routing is used, which needs to be fixed, to make multicast happy).</li>

<p><li>
The new interfaces code defines additional instance variables to point
to nodes. Link dynamics wants to reset most everything (except nodes).
Resetting nodes can do bad thigns to agents.</li>
</ul>

<p><li>
<b><a href="http://www.isi.edu/~kannan/">[KVa]</a></b> <b>Tue Jun 3 14:08:45
PDT 1997</b></li>

<br>minor fixes:
<ol>
<p><li>
In C++, Stoustrup [sic] recommands that array storage should be freed as
"<tt>delete[] variable</tt>", instead of simply "<tt>delete variable</tt>".
Changes made to AtHandler::handle(), Scheduler::command(), and RouteLogic::compute_routes().</li>

<p><li>
Fixed annoying compiler warnings when used with -Wall in gcc.</li>

<ul>
<p><li>
"member initializers for &lt;member1> and &lt;member2> will be re-ordered
to march declaration order." warnings fixed in packet.h, classifier-hash.cc,
trace.cc, and queue-monitor.h.</li>

<p><li>
"control reaches end of non-void function" fixed in Replicator::classify(Packet*)
and QueueMonitor::command(int, const char*const*)</li>

<p><li>
"suggest parentheses around assignment used as truth value" fixed in delay.h</li>
</ul>

<p><li>
configure.in.head should not set -O2 if the .devel file is present. Furthermore,
as Johnh noted, -O2 is only relevant for gcc, so we really should fix this
better.</li>

<p><li>
RouteLogic now only works in the context of a Simulator. Fix route-test
to instantiate a dummy Simulator.</li>

<p><li>
Test Suites Modified misc.tcl and topologies.tcl to add hooks for a multicast
test suite.</li>

<br>ns-trace.tcl:gen-map did not show enough information within a node,
for example inside a MultiNode.
<p><li>
Changed simplex-link, duplex-link to directly generate interfaces when
told. Use by</li>

<pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Simulator set NumberInterfaces_ 1</pre>
</ol>

<p><li>
<b><a href="http://www.isi.edu/~johnh/">[johnh]</a> Thu May 30 1997</b></li>

<br>Added support for dmalloc for memory debugging. Configure using <tt>--with-dmalloc</tt>.
<p><li>
<b><a href="http://www.isi.edu/~johnh/">[johnh]</a> Thu May 27 1997</b></li>

<br>Revised configure scripts to eliminiate code duplication.
<p><li>
<b><a href="http://www.cs.berkeley.edu/~tomh">[TH]</a> Tues May 27 19:00:00
PDT 1997</b></li>

<ul>
<p><li>
Renamed test-suite-v2.tcl and test-all-v2 to test-suite.tcl and test-all,
respectively. These files were also aligned with Kannan's tests in the
tcl/test directory.</li>

<p><li>
Moved existing test-suite.tcl to tcl/test, renaming it as test-suite-v1.tcl.
Moved existing test-all to tcl/test/test-all-v1.</li>

<p><li>
Moved test-suite-cbq.tcl, test-suite-red.tcl, and test-suite-sack.tcl to
tcl/test and appended them with "-v1" suffix. Made similar moves for test-all-cbq,
test-all-red, test-sack, and test-all-sack.</li>
</ul>

<p><li>
<b><a href="mailto:tomh@cs.berkeley.edu">[TH]</a></b> <b>Tues May 27 16:45:00
PDT 1997</b></li>

<br>Fixed bug in tcp-newreno.cc which was causing TcpAgent::recv to be
called instead of NewRenoTcpAgent::recv. This bug has been present since
the initial revision of ns-2.
<p><li>
<b><a href="mailto:breslau@parc.xerox.com">[LB]</a></b> <b>Fri May 23 15:46:16
PDT 1997</b></li>

<br>Fixed a bug in CalendarScheduler::cancel() that corrupted the calendar
data structure and caused the simulator to crash. Also improved the efficiency
of that function. File changed: scheduler.cc
<p><li>
<b><a href="http://www-scf.usc.edu/~bhuang">[PH]</a></b> <b>Thu May 22
18:03:36 PDT 1997</b></li>

<ul>
<p><li>
Added larger scale test files. tcl/ex/newmcast/cmcast-[100,150,200,250].tcl,
tcl/ex/newmcast/cmcast-big.txt</li>
</ul>

<p><li>
<b><a href="http://www-scf.usc.edu/~bhuang">[PH]</a></b> <b>Thu May 22
13:33:56 PDT 1997</b></li>

<ul>
<p><li>
Moved agents that handles IP mcast packet encapsulation and decapsulation
to C++.</li>

<p><li>
Added a centralized mcast example that uses only source specific trees.
tcl/ex/newmcast/cmcast-spt.tcl</li>

<p><li>
Added prune propagation for dense mode mcast. Patch provided by <a href="mailto:I.Kouvelas@cs.ucl.ac.uk">Isidor
Kouvelas</a> and <a href="mailto:L.Vicisano@cs.ucl.ac.uk">Lorenzo Vicisano</a>
(actually this change was committed two days ago)</li>

<p><li>
Files added: ctrMcast.cc, ctrMcast.h, tcl/ex/newmcast/cmcast-spt.tcl</li>

<p><li>
Files changed:tcl/ctr-mcast/CtrMcast.tcl, tcl/ctr-mcast/CtrMcastComp.tcl,
tcl/lib/ns-packet.tcl, trace.h tcl/mcast/ns-mcast.tcl, tcl/mcast/DM.tcl,
Makefile.in, FILES, CHANGES.html tcl/ex/newmcast/*.tcl</li>
</ul>

<p><li>
<b><a href="mailto:tomh@cs.berkeley.edu">[TH]</a></b> <b>Wed May 21 18:57:00
PDT 1997</b></li>

<br>Ported bug fixes from ns-1 for tcp.cc, tcp-newreno.cc, tcp-reno.cc.
This also affected ns-default.tcl
<br>Added reset functions to Acker and TcpSink in tcp-sink.cc so that tcp
sinks can be reset and reused in a simulation (Sack sinks also are covered)
<p><li>
<b><a href="mailto:breslau@parc.xerox.com">[LB]</a></b> <b>Wed May 21 17:02:52
PDT 1997</b></li>

<br>Added variable length portion to Packet class to handle non-fixed length
stuff (e.g., data). Changed files: packet.h, agent.h, agent.cc
<p><li>
<b><a href="http://www.isi.edu/~kannan/">[KVa]</a></b> <b>Tue May 13 23:37:08
PDT 1997</b></li>

<br>Added equal cost multi-path routing. Usage is shown in two examples
in tcl/ex/simple-eqp.tcl and simple-eqp1.tcl.
<br>As a side effect, added the instproc-like, <tt>installNext</tt> to
classifier.cc, to install a TclObject in the next available slot. All,
added instprocs install, clear, and installNext to track slots filled.
These are then used by the instproc adjacents, to return information about
adjacent TclObjects in the slot.
<br>Files affected: classifier-mpath.cc (<b>new</b>), tcl/ex/simple-eqp.tcl
(<b>new</b>), tcl/ex/simple-eqp1.tcl (<b>new</b>), tcp/ex/simple-eqp-nam.tcl
(<b>new</b>), tcl/ex/simple-eqp1-nam.tcl (<b>new</b>), tcl/rtglib/route-proto.tcl.
<p><li>
<b><a href="http://www.isi.edu/~kannan/">[KVa]</a></b> <b>Tue May 13 23:37:08
PDT 1997</b></li>

<br>Trace manipulation tools:
<ul>
<p><li>
raw2xg and raw2gp take the -a option, to trace acks as well, if trace information
about them is present.</li>

<p><li>
getrc will extract trace information about a single node or link. Usage
is</li>

<pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; getrc [-o output file] [-b] -s node1 [-d node2] [trace file...]</pre>
Typically, all traffic from node1 is extracted. If -b is specified, then
all information to node1 is extracted as well. If both node1 and node2
are specified, then all traffic on the link between node1 and node2 is
extracted. Specifying the -b option will extract traffic in both directions
on that link.</ul>
See also tcl/test/README for a relatively more comprehensive writeup.
<p><li>
<b><a href="http://www.isi.edu/~kannan/">[KVa]</a></b> <b>Tue May 13 23:37:08
PDT 1997</b></li>

<br>Cleaned up heap.h and dynalink.cc to elide compiler warnings seen with
-Wall.
<p><li>
<b><a href="http://www.isi.edu/~kannan/">[KVa]</a></b> <b>Tue May 13 23:37:08
PDT 1997</b></li>

<br>The route dynamics code si cleaned up. Route Models are only setup
just prior to initiating routing. This eliminiates some unwanted side effects
when initiating tracing on links that are dynamic.
<br>Files affected: tcl/lib/ns-lib.tcl, tcl/lib/ns-link.tcl, tcl/rtglib/dynamics.tcl.
<p><li>
<b><a href="http://www.isi.edu/~kannan/">[KVa]</a></b> <b>Fri May 16 00:48:14
PDT 1997</b></li>

<br>New route model for one shot route dynamics. It should now be possible
to say
<pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; $ns_ rtmodel-at $time $op $node1 [$node2]</pre>
to take $node1 (or the link $node1-$node2) up (or down, as specified by
$op) at a particular time. It is done by creating a one-shot route model,
rtModel/Manual. (It is currently untested, though no problems are anticipated
by this author...hah!)
<p><li>
<b><a href="http://www.cs.berkeley.edu/~mccanne">[SM]</a></b> <b>Tue May
13 17:44:34 PDT 1997</b></li>

<ul>
<p><li>
Made changes to the scheduler (added <i>RealTimeScheduler</i>) to support
real-time simulation for emulated network envinroments. This real-time
extension works just like the normal scheduler but events are delayed until
real-time catches up. In particular, the scheduler "now" method returns
the current simulated time rather than the current real time so any simulation
CPU overhead is not reflected in event timing calculations.</li>

<p><li>
Added objects to interface to external networks. net.h, net.cc, and net-ip.cc
modules came from mash/mbone tools.</li>

<p><li>
Added hook in ns-lib.tcl to create tap header only if real-time scheduler
is specified. This avoids unnecessary waste of memory when not using tap
agents. We assume that taps and real-time schedulers are used in tandem
but haven't added any code to verify this.</li>
</ul>

<p><li>
<b><a href="http://www-scf.usc.edu/~bhuang">[PH]</a></b> <b>Tue May 13
15:30:00 PDT 1997</b></li>

<ul>
<p><li>
Seperated multicast protocol functionalities from MultiNode. Moved original
multicast code tcl/lib/ns-mcast.tcl to tcl/mcast/*.tcl.</li>

<p><li>
Added multi-access link module (tcl/lan/) and interface support (tcl/interface/
and net-interface.cc).</li>

<p><li>
Added detailed PIM code (tcl/pim in progress). The above are codes ported
from <a href="http://www-scf.usc.edu/~ahelmy/">Ahmed A-G Helmy</a>'s development
on top of ns-2.0a3.</li>

<p><li>
Added centralized multicast tree computation modules (tcl/ctr-mcast).</li>
</ul>

<p><li>
<b><a href="mailto:breslau@parc.xerox.com">[LB]</a></b> <b>Fri May 2 15:09:32
PDT 1997</b></li>

<br>Updated the tcl script demonstrating the use of traffic generation
modules. It now includes a simple nam demo. Changed files: tg.tcl, tg.txt.
New files: tg-nam.tcl
<br>&nbsp;
<br>&nbsp;
<p><li>
<b><a href="http://www.cs.berkeley.edu/~mccanne">[SM]</a></b> <b>Fri May
2 12:09:53 PDT 1997</b></li>

<br>Updated FILES. Also, set up a nighly cron job to snapshot the current
cvs snapshot into a publicly accessible "ns-current" release.
<p><li>
<b><a href="http://www.isi.edu/~kannan/">[KVa]</a></b> <b>Mon Apr 28 09:08:26
PDT 1997</b></li>

<br>Moved <tt>up?</tt> and <tt>down?</tt> to base <tt>Class Link</tt>,
instead of being in the derived <tt>Class SimpleLink</tt>. The procedures
work for simple p2p links. Other types of media such as LANs that must
provide similar features may have to redefine them appropriately.
<p><li>
<b><a href="http://www.isi.edu/~kannan/">[KVa]</a></b> <b>Mon Apr 28 09:08:26
PDT 1997</b></li>

<br>Leveraged of the v2 test suites to construct routing test suites. The
list of mods are:
<ol>
<p><li>
A new test-suite driver, called ktest-all is in the bin directory. The
invocation</li>

<pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ktest-all [&lt;suite> [&lt;test> [&lt;topology>]]]</pre>
executes:
<pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ns tcl/test/test-suite-&lt;suite>.tcl &lt;test> &lt;topology></pre>
If no test is specified, it runs all the tests in that suite. If no topology
is specified, it runs the specified test against all topologies defined
in the topologies file.
<p><li>
Any single test-suite file is now in three parts: (1) tcl/test/topologies.tcl
contains a library of topologies, and variants for netowrk dynamics. Currently
four topologies are defined. (2) tcl/test/misc.tcl contains the basic housekeeping
routines, such as openTrace, finish etc. (3) Individual tests are in tcl/test/test-suite-&lt;suite>.tcl
files.</li>

<p><li>
The procedure <tt>finish</tt> in tcl/test/misc.tcl no longer directly invokes
xgraph. Instead, it simply writes out out.tr, closes all trace files, and
exists.</li>

<p><li>
ktest-all will invoke xgraph if the DISPLAY environment is defined; otherwise,
it will save the out.tr file as is in test-output-raw for later comparison;
in the latter case, it will also use gnuplot to generate a postscript file
that is placed in the ps-files directory.</li>

<p><li>
The bin directory also contains raw2xg and raw2gp, two programs to convert
trace files into output for xgraph or gnuplot. Convenient ways of invoking
either are:</li>

<pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; % raw2xg out.tr , xgraph -bb -tk -nl -m -x time -y packets
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; % raw2gp out.tr > out.gp ; gnuplot
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; load "out.gp"
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ...other gnuplot commands ...
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; exit
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; %</pre>
</ol>
There will be additional cleanup as I work on the test-suites some more.
Comments and suggestions are welcome.
<p><li>
<b><a href="http://www.isi.edu/~kannan/">[KVa]</a></b> <b>Mon Apr 28 09:08:26
PDT 1997</b></li>

<br>Makefile (and Makefile.in) for <i>ns.dyn</i> does not include tclAppInit.o.
<p><li>
<b><a href="http://www.isi.edu/~kannan/">[KVa]</a></b> <b>Wed Apr 23 16:50:15
PDT 1997</b></li>

<br>SACK crashes when it is not in fast recovery mode, and receives acks
out of order. For now, we just ignore such acks.
<p><li>
<b><a href="http://www.isi.edu/~kannan/">[KVa]</a></b> <b>Wed Apr 23 16:50:15
PDT 1997</b></li>

<br>tcl/ex/simple-*.tcl examples should close output files before further
processing in order to ensure that all data gets properly flushed.
<br>In addition, added tracing route dynamics events to stdout.
<br>Files affected: tcl/ex/simple-dyn.tcl, tcl/ex/simple-rtg.tcl, tcl/ex/simple-heap.tcl,
<p><li>
<b><a href="http://www.isi.edu/~kannan/">[KVa]</a></b> <b>Wed Apr 23 16:50:15
PDT 1997</b></li>

<br>Bugs in rtglib. delay.cc, delay.h did not calculate packet transmission
time correctly.
<br>Routing code had bugs in how routes were calculated, and route updates
distributed.
<br>Files affected: delay.cc, delay.h, tcl/rtglib/route-proto.tcl, tcl/rtglib/dynamics.tcl
<p><li>
<b><a href="http://www.isi.edu/~kannan/">[KVa]</a></b> <b>Mon Apr 14 12:06:35
PDT 1997</b></li>

<br><tt>abort()</tt>, when called, breaks of the trace abruptly. Trap the
call with cpp hacks, invoke [[Simulator instance] flush-trace] and then
abort.
<br>Files affected: Makefile.in, tclAppInit.cc, tkAppInit.cc
<p><li>
<b><a href="http://www.isi.edu/~kannan/">[KVa]</a></b> <b>Thu Apr 10 16:21:25
PDT 1997</b></li>

<br>Added functions to dump the simulation objects that comprise the topology,
as an aid to debugging. Use by specifying
<pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; [Simulator instance] gen-map</pre>
to see the dump on stderr.
<br>Files affected: tcl/lib/ns-trace.tcl
<p><li>
<b><a href="mailto:breslau@parc.xerox.com">[LB]</a></b> <b>Fri Apr 25 14:26:12
PDT 1997</b></li>

<ul>
<p><li>
Added traffic generation modules to implement on/off sources with exponentially
and pareto distributed on and off times, and a traffic generation module
that is driven by a trace file. New files: trafgen.h, pareto.cc, expoo.cc,
traffictrace.cc, traffictrace.h, udp.cc, udp.h.</li>

<p><li>
To support the pareto on/off source, added the function Random::pareto()
to random.h.</li>
</ul>

<p><li>
<b><a href="http://www-nrg.ee.lbl.gov/kfall">[KF]</a></b> <b>Wed Apr 23
22:00:21 PDT 1997</b></li>

<ul>
<p><li>
CBQ is now part of the simulator</li>

<br>&nbsp;
<p>&nbsp;
<p>Generally works.
<p><li>
ALL default queue sizes are now 50 [per ns-1 defaults]</li>

<p><li>
QueueMonitors now know the difference between</li>

<br>&nbsp;
<p>&nbsp;
<p>drops, arrivals, and departures and can monitor these
<p><li>
new class called 'Samples' which collects samples</li>

<br>&nbsp;
<p>&nbsp;
<p>points of something and can provide a mean and variance of the points
(see integrator.cc)
<p><li>
Queues can be flow controlled</li>

<br>&nbsp;
<p>&nbsp;
<p>by forcing them to be blocked or unblocked as needed. Also it's possible
to make it so that when they send a packet they become blocked rather than
unblocked.
<p><li>
common packet header</li>

<br>&nbsp;
<p>&nbsp;
<p>contains a timestamp field; this is used to compute queueing delay for
individual packets at queues
<p><li>
classifier-hash</li>

<br>&nbsp;
<p>&nbsp;
<p>a classifier to identify 'flows' ... still in development, but presently
used by cbq
<p><li>
bug fixes/mintor changes to red.cc, test-suite-red.tcl</li>

<p><li>
test-suite.tcl updated to ns-1 version (stats test minor change)</li>
</ul>

<p><li>
<b><a href="http://www.parc.xerox.com/csl/members/bajaj">[SB]</a>Thu Apr
17 17:57:53 PDT 1997</b></li>

<br>Fixed tcp-simple.cc and random.cc so that test-suites work for solaris
as well.
<p><li>
<b><a href="http://www.cs.berkeley.edu/~tomh">[TH]</a></b> <b>Wed Apr 9
16:24:25 PDT 1997</b></li>

<br>Fixed busy-wait condition in tcp-sack1.cc that resulted from incorrectly
setting the overhead parameter.
<p><li>
<b><a href="http://www.isi.edu/~kannan/">[KVa]</a></b> <b>Tue Apr 8 16:33:49
PDT 1997</b></li>

<br>Added Distance Vector dynamic routing to <i>ns</i>; As a side effect,
created the C++ random functions in tcl/lib/ns-random.tcl.
<br>At some point, a test-suite-routed.tcl will be provided to show examples
of routing.
<br>Files affected: rtProtoDV.cc (<b>new</b>), rtProtoDV.h (<b>new</b>),
trace.h, tcl/lib/ns-lib.tcl, tcl/lib/ns-random.tcl (<b>new</b>), tcl/rtglib/route-proto.tcl.
<p><li>
<b><a href="http://www.isi.edu/~kannan/">[KVa]</a></b> <b>Tue Apr 8 16:33:49
PDT 1997</b></li>

<br>Created a AgentClass, dervied from TclClass. Removed NullAgentClass,
and moved Agent/Null into tcl/lib/ns-agent.tcl
<br>Files affected: agent.cc, Makefile.in, tcl/lib/ns-lib.tcl, tcl/lib/ns-agent.tcl
(<b>new</b>).
<p><li>
<b><a href="http://www.isi.edu/~kannan/">[KVa]</a></b> <b>Tue Apr 8 16:33:49
PDT 1997</b></li>

<br>Added TCL debugger capabilities to <i>ns</i>.
<br>To use, reconfigure <i>ns</i> with <a href="http://expect.nist.gov/tcl-debug/tcl-debug.tar.gz">tcl-debug
5.20</a>. In your script, add `debug 1' at the location you want to start
debugging.
<br>More details about the Tcl debugger are in <a href="http://expect.nist.gov/doc/tcl-debug.ps.Z">Don
Libes' paper</a>.
<br>Files affected: tclAppInit.cc, configure.in, tcl/lib/ns-lib.tcl, conf/configure.in.tcldebug
(<b>new</b>).
<p><li>
<b><a href="http://www.isi.edu/~kannan/">[KVa]</a></b> <b>Tue Apr 8 16:33:49
PDT 1997</b></li>

<br>Moved class <tt>Delay/Link</tt> to class <tt>DelayLink</tt>.
<br>Files affected: delay.cc, tcl/ex/fq-cbr.tcl, tcl/ex/fq.tcl, tcl/lib/ns-default.tcl,
tcl/lib/ns-link.tcl.
<p><li>
<b><a href="http://www.parc.xerox.com/csl/members/bajaj">[SB]</a>Mon Mar
31 17:46:04 PST 1997</b></li>

<br>Added deficit round robin scheduling (drr.cc)
<p><li>
<b><a href="http://www.cs.berkeley.edu/~mccanne">[SM]</a></b> <b>Fri Mar
28 20:45:40 PST 1997</b></li>

<br>Update
<p><li>
<b><a href="http://www.cs.berkeley.edu/~tomh">[TH]'s</a></b> scoreboard
changes with respect to this afternoon's packet format changes.</li>

<p><li>
<b><a href="http://www.cs.berkeley.edu/~mccanne">[SM]</a></b> <b>Fri Mar
28 20:32:24 PST 1997</b></li>

<br>First cut at integration of nam into ns code base. Basically just ported
the pieces verbatim so that nam can now be run as a script interpreted
by nsx. In this crude initial version, you can run "../nsx srm-demo-nam.tcl
-name nam" from the nam directory.
<p><li>
<b><a href="http://www.cs.berkeley.edu/~tomh">[TH]</a></b> <b>Fri Mar 28
18:45:00 PST 1997</b></li>

<br>Brought scoreboard.cc and scoreboard.h up to date with the latest versions
that were in ns-1 (9/96 PSC version: UpdateScoreBoard, CheckSndNxt, MarkRetran
modified for fack). Now most of test-suite-sack test cases work correctly.
<p><li>
<b><a href="http://www.cs.berkeley.edu/~mccanne">[SM]</a></b> <b>Fri Mar
28 17:33:43 PST 1997</b></li>

<br>A number of additional changes to the packet format. Eliminated the
"Header" classes altogether. Now we have a simple template header-class
template that just defines the header size. Most of the packet-manager
functionality moved into ns-packet.tcl. Factored the flags field out of
ip6 into a separate hdr_flags struct. Eliminated old commented-out code
in a number of places. Created a "common" header (hdr_cmn) and moved the
size field from the ip header to the new common header. Also put the uid
here. Changed hdr_ipv6 to hdr_ip for consistency.
<p><li>
<b><a href="http://www-nrg.ee.lbl.gov/kfall">[KF]</a></b> <b>Fri Mar 28
13:36:58 PST 1997</b></li>

<br>Updates to make RED gateways work. Includes mods to red.cc and RED's
default parameter names, some additions to the compat library, and a change
so that when the simulator begins all queues have a "reset" method called
(previously, only nodes and agents had this done to them, but RED and probably
some other queue types need to be reset to compute functions of their Otcl-linked
variables before the sim starts).
<p><li>
<b><a href="http://www.cs.berkeley.edu/~tomh">[TH]</a></b> <b>Fri Mar 28
12:50:02 PST 1997</b></li>

<br>Added test-suite-v2.tcl to the repository (port of "test-suite.tcl").
Added two new instprocs to ns-lib.tcl which help to set up tcp connections.
Moved the "Agent instproc dst-port" from ns-compat.tcl to ns-lib.tcl since
it can also be used in ns-2.
<p><li>
<b><a href="http://www.cs.berkeley.edu/~mccanne">[SM]</a></b> <b>Fri Mar
28 12:23:58 PST 1997</b></li>

<br>Another cut at packet format reorg. Eliminated the need for static
variables. Moved the accessor methods from the "Header" classes into the
"hdr" structs. This rearrangement allowed us to alter a minimal amount
of code in each module that ref'd a packet header (i.e., only needed to
change the pointer type of the variable that pointed at the packet header.)</ul>

<hr>
<h3>
<a href="http://www-mash.cs.berkeley.edu/dist/ns-src-2.0a16.tar.gz">ns-2.0a16</a>
Fri Mar 28 00:56:48 PST 1997</h3>

<ul>
<p><li>
<b><a href="http://www.cs.berkeley.edu/~mccanne">[SM]</a></b> <b>Thu Mar
27 23:49:57 PST 1997</b></li>

<br>Added some new modules in tcl/ex for CS268 homework 3.
<p><li>
<b><a href="http://www.cs.berkeley.edu/~mccanne">[SM]</a></b> <b>Thu Mar
27 23:49:57 PST 1997</b></li>

<br>Put back seqno's in cbr agents.
<p><li>
<b><a href="http://www.cs.berkeley.edu/~mccanne">[SM]</a></b> <b>Thu Mar
27 17:19:42 PST 1997</b></li>

<br>Added a simple fair queuing module that uses flow id's (aka classes)
to differentiate flows. Added an example script: tcl/ex/fq.tcl. Some of
the code in fq.tcl should migrate into the built-in library.
<p><li>
<b><a href="http://www.cs.berkeley.edu/~mccanne">[SM]</a></b> <b>Thu Mar
27 00:11:31 PST 1997</b></li>

<br>Added a make rule for "nsx", which is just like ns but is a wish interpreter
instead of a tclsh. Retired ns_tclsh.cc and replaced with tclAppInit.cc
and tkAppInit.cc. Also added -ldl for bsdi-3.
<p><li>
<b><a href="http://www.cs.berkeley.edu/~elan">[EA]</a></b> <b>Wed Mar 26
22:49:30 PST 1997</b></li>

<br>Fixed up Session/RTP to work with latest version. Added a <i>rate_change()</i>
method to RTPAgent to allow correct behavior when changing transmission
rates. See code in&nbsp;<t>rtp.cc</t> for details.
<p><li>
<b><a href="http://www-nrg.ee.lbl.gov/kfall">[KF]</a></b> <b>Wed Mar 26
17:11:17 PST 1997</b></li>

<br>Replace test-suite.tcl with test-suite.tcl from ns-1.
<p><li>
<b><a href="http://www.isi.edu/~kannan/">[KVa]</a></b> <b>Wed Mar 26 15:24:24
PST 1997</b></li>

<br>The test suites break with the dynamics, because they want to acquire
an instance of the Simulator. However, the test-suites operate in compatibility
mode, and hence only create an instance of OldSim, a subclass of Simulator.
So, wrote a `Simulator instance' procedure that returns the current instance
of the simulator.
<br>Files affected: tcl/lib/ns-lib.tcl, tcl/lib/ns-trace.tcl, tcl/rtglib/dynamics.tcl,
tcl/rtglib/route-proto.tcl</ul>

<hr>
<h3>
<a href="http://www-mash.cs.berkeley.edu/dist/ns-src-2.0a15.tar.gz">ns-2.0a15</a><b>Tue
Mar 25 14:56:39 PST 1997</b></h3>

<ul>
<p><li>
<b><a href="http://www.cs.berkeley.edu/~mccanne">[SM]</a></b> Added trace.h
to FILES.</li>
</ul>

<hr>
<h3>
<a href="http://www-mash.cs.berkeley.edu/dist/ns-src-2.0a14.tar.gz">ns-2.0a14</a><b>Tue
Mar 25 14:00:35 PST 1997</b></h3>
<i>Snapshot for alpha testers.</i>
<ul>
<p><li>
<b><a href="http://www.isi.edu/~kannan/">[KVa]</a></b> <b>Tue Mar 25 09:16:33
PST 1997</b></li>

<br>Fix auto configuration so that libotcl.a is found when the directory
is explicitly specified using --with-otcl.
<br>Files affected: conf/configure.in.otcl, configure
<p><li>
<b><a href="http://www.isi.edu/~kannan/">[KVa]</a></b> <b>Tue Mar 25 09:16:33
PST 1997</b></li>

<br>Change Tracing so that trace elements can be created and used entirely
via OTcl if the tracing is unrelated to packet activity.
<br>See rtModel::init, rtModel::trace, and rtModel::log-dynamic in tcl/rtglib/dynamics.tcl
for how to use.
<br>Files affected: Makefile.in, trace.cc, tcl/lib/ns-lib.tcl, tcl/lib/ns-trace.tcl
(<b>new</b>)
<p><li>
<b><a href="http://www.isi.edu/~kannan/">[KVa]</a></b> <b>Tue Mar 25 09:16:33
PST 1997</b></li>

<br>Add dynamics to links and nodes so that portions of the topology can
be made to fail and recover. The failure and recovery can be controlled
through distributions.
<br>Usage:
<pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; set ns [new Simulator]
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; $ns rtmodel &lt;Distribution> {&lt;up-time> &lt;down-time>} &lt;node1> [&lt;node2>]</pre>
A distribution (Distribution) can be specified either to a single node
(node1) or to a single link (between node1 and node2). The up-time (down-time)
is a parameter for the distribution to specify how long the specified node/link
will be up (down) before changing state to being down (up).
<br>Files affected: Makefile.in, connector.cc, delay.cc, dynalink.cc (<b>new</b>),
queue.cc, queue.h, tcl/lib/ns-lib.tcl, tcl/lib/ns-node.tcl, tcl/rtglib/dynamics.tcl
(<b>new</b>), tcl/ex/simple-dyn.tcl (<b>new</b>), tcl/ex/dynamic-nam.tcl(<b>new</b>),
tcl/nam-demo/nstonam.awk.
<p><li>
<b><a href="http://www.isi.edu/~kannan/">[KVa]</a></b> <b>Tue Mar 25 09:16:33
PST 1997</b></li>

<br>Add dynamic routing to deal with topology changes (<i>work in progress</i>).
Currently, the basic all-pairs-spf routing has been modified to fit a more
uniform API. Also complete is a session-level routing, (<i>i.e.</i>, the
all-pairs-spf static routing used to precompute routes prior to starting
the simulation, and run everytime the topology changes).
<br>Usage:
<pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; set ns [new Simulator]
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; $ns run [Static|Session]</pre>
Note: Additional more detailed configuration hooks will soon become available,
as well as other routing protocols.
<br>Files affected: Makefile.in, tcl/lib/ns-lib.tcl, tcl/rtglib/route-proto.tcl
(<b>new</b>), tcl/ex/simple-rtg.tcl (<b>new</b>).
<p><li>
<b><a href="http://www.cs.berkeley.edu/~mccanne">[SM]</a></b> Added heap.h
to FILES.</li>
</ul>

<hr>
<h3>
<a href="http://www-mash.cs.berkeley.edu/dist/ns-src-2.0a13.tar.gz">ns-2.0a13</a><b>Fri
Mar 21 09:08:05 PST 1997</b></h3>
<i>Snapshot for alpha testers.</i>
<ul>
<p><li>
<b><a href="http://www.cs.berkeley.edu/~mccanne">[SM]</a></b> <b>Tue Mar
18 15:32:01 PST 1997</b></li>

<br>Integrated <a href="http://tns-www.lcs.mit.edu/people/djw/bio.html">David
Wetherall's</a> calendar queue. Use as:
<pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; set ns [new Simulator]
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; $ns use-scheduler Calendar</pre>

<p><li>
<b><a href="http://www.cs.berkeley.edu/~mccanne">[SM]</a></b> <b>Tue Mar
18 15:32:01 PST 1997</b></li>

<br>Added a simple, completely contrived script to generate SRM-like sample
paths to illustrate SRM in EECS colloquium (see tcl/ex/srm-demo.tcl).
<p><li>
<b><a href="http://www.cs.berkeley.edu/~mccanne">[SM]</a></b> <b>Tue Mar
18 15:32:01 PST 1997</b></li>

<br>Fixed bug in Packet::copy. "*p = *this" was bogus because bits are
now allocated in a separate buffer and this was smashing the current packet's
bits buffer to point to the old one, which was both leaking memory and
causing unwanted sharing of private buffers.
<p><li>
<b><a href="http://www.cs.berkeley.edu/~mccanne">[SM]</a></b> First cut
at agent detaching code. Suggested by <a href="http://www-video.eecs.berkeley.edu/~emile/">Emile
Sahouria</a>.</li>

<p><li>
<b><a href="http://www.cs.berkeley.edu/~mccanne">[SM]</a></b> Fixed bug
pointed out by <a href="http://www-video.eecs.berkeley.edu/~emile/">Emile
Sahouria</a>, <a href="http://www.cs.berkeley.edu/~gnguyen">Giao Nguyen</a>,
and <a href="http://www.cs.berkeley.edu/~tomh">Tom Henderson</a>, where
node port demuxer was created in wrong place. Moved this code from compute-routes
to Node::attach (i.e., should install locate route to port demuxer first
time the demuxer is created, not when compute-routes is run, becase in
latter case port demuxer might not yet exist).</li>

<p><li>
<b><a href="http://www-nrg.ee.lbl.gov/kfall">[KF]</a></b> Arrange for dynamic
linking to be the default instead of static. Static linking is performed
if '.devel' exists in the build directory.</li>

<p><li>
<b><a href="http://www.cs.berkeley.edu/~mccanne">[SM]</a></b> Fix up tcl/ex/simple.tcl
for v2.</li>

<p><li>
<b><a href="http://www.cs.berkeley.edu/~mccanne">[SM]</a></b> Set flow-id
in tcp ack agent just as we used to set the class-id.</li>

<p><li>
<b><a href="http://www.cs.berkeley.edu/~mccanne">[SM]</a></b> Arrange for
tcl variable "class_" to be bound to flow-id field so that scripts impacted
by Kevin's recent packet header changes continue to work.</li>

<p><li>
<b><a href="http://www.cs.berkeley.edu/~mccanne">[SM]</a></b> Added a new
TCPSimple that does minimal Go-back-N (no slow-start, no fast restransmit,
etc) for a CS268 homework.</li>

<p><li>
<b><a href="http://www-nrg.ee.lbl.gov/kfall">[KF]</a></b> Change to ns-source.tcl
to incorporate Source/FTP "produce" function, needed by some of the ns-1
conformance tests. Added "agent" instproc to node to return the agent with
the specified port ID. Fixed up some typedef and other type conflicts in
packet.h and with respect to srandom() and gettimeofday() on suns.</li>

<p><li>
<b><a href="http://www-nrg.ee.lbl.gov/kfall">[KF]</a></b> Support for new
packet format. Fix bug relating to header double-word alignment, happens
on suns.</li>

<p><li>
<b><a href="http://www.isi.edu/~kannan/">[KVa]</a></b> Add support for
heap schedulers. Use as:</li>

<pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; set ns [new Simulator]
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; $ns use-scheduler Heap</pre>
</ul>

<hr>
<h3>
<a href="http://www-mash.cs.berkeley.edu/dist/ns-src-2.0a12.tar.gz">ns-2.0a12</a><b>Sat
Feb 22 22:09:51 PST 1997</b></h3>
<i>Snapshot to <a href="http://netweb.usc.edu/vint/">VINT</a> collaborators
and <a href="http://www-mash.cs.berkeley.edu/cs268/">CS268 students.</a></i>
<ul>
<p><li>
<b><a href="http://www.cs.berkeley.edu/~mccanne">[SM]</a></b> Bug fix from
<a href="mailto:mjh@isi.edu">Mark
Handley</a>. Reno tcp agent had wrong prototype for recv method and thus
was not overriding the default virtual.</li>

<p><li>
<b><a href="http://www.cs.berkeley.edu/~mccanne">[SM]</a></b> Added
<a href="http://www.brookfield.ans.net/ans/nanog/ns-hacks.html">several
changes</a> from <a href="mailto:curtis@ans.net">Curtis Villamizar</a>,
including a simple stochastic fair queuing module and a simple change to
the tcp agent to emulate persistent connections.</li>

<p><li>
<b><a href="http://www.cs.berkeley.edu/~mccanne">[SM]</a></b> Regenerated
configure using <a href="http://www-nrg.ee.lbl.gov/kfall">Kevin Fall's</a>
latest fixes to our conf module.</li>

<p><li>
<b><a href="http://www.cs.berkeley.edu/~mccanne">[SM]</a></b> Changed drop-trace
method to drop-target. This should only affect the internal APIs and shouldn't
break any scripts.</li>

<p><li>
<b><a href="http://www.cs.berkeley.edu/~mccanne">[SM]</a></b> Bumped size
of max message in packet structure to 80 bytes. This limit eventually must
be removed.</li>

<p><li>
<b><a href="http://www.cs.berkeley.edu/~mccanne">[SM]</a></b> Eliminated
C++ statically defined default drop-target and changed link building code
to point a queue's drop-target to a null-agent.</li>

<p><li>
<b><a href="http://www.cs.berkeley.edu/~mccanne">[SM]</a></b> Added first
cut for queue-size monitoring agents (add integrator.cc). Cleaned up approach
for splicing objects into Link pipeline. Added ttl field to packets and
TTLChecker object to update ttl and throw out ttl-expired packets (and
ttl.cc).</li>

<p><li>
<b><a href="http://www.cs.berkeley.edu/~mccanne">[SM]</a></b> Fixed long-standing
bug in static routing code; problem found by, and fix supplied by, <a href="http://www.cs.berkeley.edu/~aswan/">Andrew
Swan</a>. Went undetected for so long because bug occurs only for simplex
links.</li>
</ul>

<hr>
<h3>
<a href="http://www-mash.cs.berkeley.edu/dist/ns-src-2.0a11.tar.gz">ns-2.0a11</a><b>Thu
Feb 13 11:28:35 PST 1997</b></h3>
<i>Snapshot to <a href="http://netweb.usc.edu/vint/">VINT</a> collaborators
and <a href="http://www-mash.cs.berkeley.edu/cs268/">CS268 students.</a></i>
<ul>
<p><li>
<b><a href="http://www.cs.berkeley.edu/~mccanne">[SM]</a></b> Fixed bug
in ftp source compat code introduced by last rev. Prevented test suite
from running.</li>
</ul>

<hr>
<h3>
<a href="http://www-mash.cs.berkeley.edu/dist/ns-src-2.0a10.tar.gz">ns-2.0a10</a><b>Mon
Feb 3 13:14:48 PST 1997</b></h3>
<i>Snapshot to <a href="http://netweb.usc.edu/vint/">VINT</a> collaborators
and <a href="http://www-mash.cs.berkeley.edu/cs268/">CS268 students.</a></i>
<ul>
<p><li>
<b><a href="http://www.cs.berkeley.edu/~mccanne">[SM]</a></b> Made a number
of small changes to help out with <a href="http://www-mash.cs.berkeley.edu/cs268/hw1.html">homework
1</a> for <a href="http://www-mash.cs.berkeley.edu/cs268/">CS268</a>.</li>

<p><li>
<b><a href="http://www.cs.berkeley.edu/~mccanne">[SM]</a></b> Fixed missing-return
bug introduced in last rev. Thanks to <a href="http://www.isi.edu/~wlee/">WeeSan
Lee</a>.</li>

<p><li>
<b><a href="http://www.cs.berkeley.edu/~mccanne">[SM]</a></b> Changed
<i>Agent/Message</i>
callback name from <i>handle</i> to <i>recv</i>.</li>
</ul>

<hr>
<h3>
<a href="http://www-mash.cs.berkeley.edu/dist/ns-src-2.0a9.tar.gz">ns-2.0a9</a><b>Thu
Jan 30 21:11:34 PST 1997</b></h3>
<i>Snapshot to <a href="http://netweb.usc.edu/vint/">VINT</a> collaborators
and <a href="http://www-mash.cs.berkeley.edu/cs268/">CS268 students.</a></i>
<ul>
<p><li>
<b><a href="http://www.cs.berkeley.edu/~mccanne">[SM]</a></b> Fixed inconsistent
declaration of random() and problem with binding of "maxSackBlocks_". Reported
by <a href="http://www.isi.edu/~wlee/">WeeSan Lee</a>.</li>

<p><li>
<b><a href="http://www.cs.berkeley.edu/~mccanne">[SM]</a></b> Restructured
the way agents are reset. Moved from node "attach time" to simulation "run
time". Otherwise, state variables that change between attach and run-time
aren't consistent with the reset operation. This fix prompted by <a href="http://www.cs.berkeley.edu/~tomh">Tom
Henderson</a>, who noticed that delayed-ACK TCP output was inconsistent
with that of ns-1.</li>
</ul>

<hr>
<h3>
<a href="http://www-mash.cs.berkeley.edu/dist/ns-src-2.0a8.tar.gz">ns-2.0a8</a><b>Mon
Jan 27 19:26:17 PST 1997</b></h3>
<i>Snapshot to <a href="http://netweb.usc.edu/vint/">VINT</a> collaborators
and <a href="http://www-mash.cs.berkeley.edu/cs268/">CS268 students.</a></i>
<ul>
<p><li>
<b><a href="http://www.cs.berkeley.edu/~mccanne">[SM]</a></b> Omitted connector.cc
and connector.h from distribution; now added. Reported by
<a href="http://www.isi.edu/~wlee/">WeeSan
Lee</a>.</li>
</ul>

<hr>
<h3>
<a href="http://www-mash.cs.berkeley.edu/dist/ns-src-2.0a7.tar.gz">ns-2.0a7</a><b>Mon
Jan 27 18:09:02 PST 1997</b></h3>
<i>Snapshot to <a href="http://netweb.usc.edu/vint/">VINT</a> collaborators
and <a href="http://www-mash.cs.berkeley.edu/cs268/">CS268 students.</a></i>
<ul>
<p><li>
<b><a href="http://www.cs.berkeley.edu/~mccanne">[SM]</a></b> Added
<a href="mailto:dante@valhalla.internet-cafe.com">Dante
De Lucia's</a> generic, reusable logging module. (See log.cc.) But have
not compiled it in yet because of xmalloc references.</li>

<p><li>
<b><a href="http://www.cs.berkeley.edu/~mccanne">[SM]</a></b> Fixed bugs
in compat code that prevented SACK code from being properly configured.
Reported by <a href="http://www.cs.berkeley.edu/~tomh">Tom Henderson</a>.</li>

<p><li>
<b><a href="http://www.cs.berkeley.edu/~mccanne">[SM]</a></b> Changed instance
variable naming conventions to append underscore to all names, e.g., Agent::dst
is now Agent::dst_.</li>

<p><li>
<b><a href="http://www.cs.berkeley.edu/~mccanne">[SM]</a></b> Changed class
naming conventions to use consistent mixed case, e.g., Agent/TCP instead
of agent/tcp.</li>

<p><li>
<b><a href="http://www.cs.berkeley.edu/~mccanne">[SM]</a></b> Eliminated
Node class since splitting NsObject and Node into no longer makes any sense.
Also, "Node" was a bad name because it implies something about topology
and at this level it is toplogically independent.</li>
</ul>

<hr>
<h3>
<a href="http://www-mash.cs.berkeley.edu/dist/ns-src-2.0a6.tar.gz">ns-2.0a6</a><b>Tue
Dec 31 18:55:39 PST 1996</b></h3>
<i>Snapshot to <a href="http://netweb.usc.edu/vint/">VINT</a> collaborators.</i>
<ul>
<p><li>
<b><a href="http://www.cs.berkeley.edu/~elan">[EA]</a></b> Fixed up RTCP
Timer bug. Added srctab and srcids to RTP Sessions.</li>

<p><li>
<b><a href="http://www.cs.berkeley.edu/~elan">[EA]</a></b> Added very first
rough draft of NamSimulator that produces a nam_config for automatic layout.</li>

<p><li>
<b><a href="http://www.cs.berkeley.edu/~elan">[EA]</a></b> Added RTP Session
class along with RTP and RTCP agents.</li>
</ul>

<hr>
<h3>
<a href="http://www-mash.cs.berkeley.edu/dist/ns-src-2.0a4.tar.gz">ns-2.0a4</a><b>Sun
Nov 10 11:06:46 PST 1996</b></h3>
<i>Snapshot to <a href="http://netweb.usc.edu/vint/">VINT</a> collaborators.</i>
<ul>
<p><li>
<b><a href="http://www.cs.berkeley.edu/~mccanne">[SM]</a></b> Removed re-parenting
hooks from <i>ns-lib.tcl</i> since TclClass now automatically makes all
the classes in a class path name.</li>

<p><li>
<b><a href="http://www.cs.berkeley.edu/~mccanne">[SM]</a></b> Ported partially
completed <i>ivs</i> module from ns-1.</li>

<p><li>
<b><a href="http://www.cs.berkeley.edu/~mccanne">[SM]</a></b> Fix from
<a href="http://www-scf.usc.edu/~ahelmy/">Ahmed
A-G Helmy</a> to omit unecessary code in <i>MultiNode::init</i>.</li>

<p><li>
<b><a href="http://www.cs.berkeley.edu/~mccanne">[SM]</a></b> Coalesce
multiple sources into a single graft message to avoid dropped grafts with
a large number of messages would otherwise blast into the first hop and
overflow the queue (grafts are not yet sent reliably).</li>
</ul>

<hr>
<h3>
<a href="http://www-mash.cs.berkeley.edu/dist/ns-src-2.0a3.tar.gz">ns-2.0a3</a><b>Sun
Nov 10 11:06:46 PST 1996</b></h3>
<i>Snapshot to <a href="http://netweb.usc.edu/vint/">VINT</a> collaborators.</i>
<ul>
<p><li>
<b><a href="http://www.cs.berkeley.edu/~mccanne">[SM]</a></b> Implemented
simple RPF style flood and prune multicast (see <i>tcl/lib/ns-mcast.tcl</i>).
Multicast routing object is build from a number of classifier objects (e.g.,
the primary classifier routes the packet either to a multicast or to a
unicast classifier based on the multicast bit in the in the destination
address). Multicast routes are computed statically from unicast routes.
Prune timers are not yet implemented and grafts are currently sent unreliably.</li>

<p><li>
<b><a href="http://www.cs.berkeley.edu/~mccanne">[SM]</a></b> Created
<i>Node</i>
and <i>Link</i> classes to clean up <i>Simulator</i> class and allow these
objects to be more easily abstracted into composite object. E.g., a multicast-node
is composed of a number of sub-objects.</li>

<p><li>
<b><a href="http://www.cs.berkeley.edu/~mccanne">[SM]</a></b> Use re-parenting
trick across a lot more classes in <i>ns-lib.tcl</i>. Created <i>source</i>
base class for <i>source/ftp</i>, <i>source/telnet</i>, etc.</li>

<p><li>
<b><a href="http://www.cs.berkeley.edu/~mccanne">[SM]</a></b> Modified
tcp-sink module to avoid virtual multiple inheritance (this causes too
many problems with non-compliant C++ compilers). Created Acker and Sacker
classes that are instanced in the sink classes.</li>

<p><li>
<b><a href="http://www.cs.berkeley.edu/~mccanne">[SM]</a></b> Type-cast
bug fixes from <a href="http://www-scf.usc.edu/~ahelmy/">Ahmed A-G Helmy</a>.</li>
</ul>

<hr>
<h3>
<a href="http://www-mash.cs.berkeley.edu/dist/ns-src-2.0a2.tar.gz">ns-2.0a2</a><i>Thu
Nov 7 1996</i></h3>
<i>Snapshot to <a href="http://netweb.usc.edu/vint/">VINT</a> collaborators.</i>
<ul>
<p><li>
<b><a href="http://www.cs.berkeley.edu/~mccanne">[SM]</a></b> First cut
at multicast router from fine-grained objects.</li>

<p><li>
<b><a href="http://www.cs.berkeley.edu/~mccanne">[SM]</a></b> Add missing
files to FILES.</li>

<p><li>
<b><a href="http://www.cs.berkeley.edu/~mccanne">[SM]</a></b> Implemented
<i>replicator</i>
and <i>classifier/mcast</i> objects as first step toward supporting multicast
routers and broadcast LANs.</li>

<p><li>
<b><a href="http://www.cs.berkeley.edu/~mccanne">[SM]</a></b> Clean up
class interface. Created <i>Simulator</i> OTcl class as uniform API for
manipulating simulator. Moved almost all of the ns-1 backward compatability
code into a new class called <i>OldSim</i>.</li>
</ul>

<hr>
<h3>
<a href="http://www-mash.cs.berkeley.edu/dist/vint/ns-src-2.0a1.tar.gz">ns-2.0a1</a><b>Wed
Nov 6 13:57:31 PST 1996</b></h3>
<i>Pre-release to <a href="http://netweb.usc.edu/vint/">VINT</a> collaborators.</i>
<ul>
<p><li>
<b><a href="http://www.cs.berkeley.edu/~mccanne">[SM]</a></b> Major architectural
changes. Object are now finer grained. We have developed a more cleanly
defined Tcl API so that developers can change the back-end while more easily
maintaining backward compatibility. The simulator is now based entirely
MIT's <a href="ftp://ftp.tns.lcs.mit.edu/pub/otcl/README.html">Object Tcl</a>.
The TclClass C++ base class replaces the old Matcher class. An OTcl class
is created in C++ by statically declaring a derived subclass of TclClass.
OTcl makes it easy to extend a class with new methods either on the C++
side or the Tcl side.</li>
</ul>

<hr>
<h3>
v1.0 Tue Jul 23 11:27:17 PDT 1996</h3>

<ul>
<p><li>
Added a hook to dump a stack trace and exit when a background error is
encounter (i.e., an error in a proc scheduled with ns-at). This makes it
MUCH easier to debug simulator scripts that have syntax erros and what
not in scheduled tcl stubs.</li>

<p><li>
Removed sack-tcp.cc from distribution. This leaves tcp-sack1.cc as the
only SACK TCP implementation distributed with ns.</li>

<p><li>
Put back hook to source "~/.ns.tcl" since people rely on this. Fix provided
by <a href="mailto:jtw@mercury.lcs.mit.edu">John Wroclawski</a>.</li>
</ul>

<hr>
<h3>
v1.0b4 Mon May 6 22:22:31 PDT 1996</h3>

<ul>
<p><li>
Corrected fix to TCP's window decrease algorithm in v1.0b2. Now, after
a Reno Fast Retransmit, the window decreases to min(cwnd_, wnd_)/2, not
to cwnd_/2 (before v1.0b2) or to min(cwnd_ + dupwnd_, wnd_)/2 (as in v1.0b2,3).</li>

<p><li>
Corrected calculation of congestion window for NewReno TCP for the case
when multiple packets are dropped from a single window of data.</li>

<p><li>
Fixed bug in tcp-sink.cc that allowed an infinite loop under some circumstances
when the number of outstanding packets in TCP was exactly MWS-1. Also added
a note to the man page about MWS and other constants in ns. Thanks to <a href="mailto:suter@big.att.com">Bernhard
Suter</a> for the bug report and fix.</li>

<p><li>
In TCP, changed the constant TCP_TICK to the variable tcp_tick_, with the
default set in ns_default.tcl.</li>
</ul>

<hr>
<h3>
v1.0b3 Mon Apr 29 19:10:33 PDT 1996</h3>

<ul>
<p><li>
Ported to Tcl v7.5. Changed trace objects to use new Tcl_Channel abstraction
(for O/S indepedence). <i>ns</i> will NOT compile with earlier versions
of Tcl.</li>

<p><li>
Added the parameter "maxcwnd", for the maximum congestion window, and corrected
the use of "window", the receiver's advertised window, in the reno and
sack implementations of TCP.</li>

<p><li>
Changed some of the *.tcl scripts to take into account the corrected use
of the receiver's advertised window, and to use "maxcwnd".</li>
</ul>

<hr>
<h3>
v1.0b2 Fri Mar 29 16:40:25 PST 1996</h3>

<ul>
<p><li>
Changed interpreter to not source ".ns.tcl" since tcl no longer uses the
tcl_RcFileName C variable.</li>

<p><li>
Fixed a couple more SunPro C++ compiler problems. Patcjes from <a href="mailto:earce@ukraine.corp.mot.comf">Michael
Pearce</a>.</li>

<p><li>
Corrected TCP's window decrease algorithm from "cwnd_ /= 2;" to "cwnd_
= window() / 2;". Thanks to <a href="mailto:tzieg@cosy.sbg.ac.at">Thomas
Ziegler</a> for the bug report.</li>
</ul>

<hr>
<h3>
v1.0b1 Sun Mar 3 1996</h3>

<ul>
<p><li>
Fixed bug in tcp.cc that caused the retransmit timeout backoff behavior
never to reset. Thanks to <a href="mailto:mahdavi@psc.edu">Jamshid Mahdavi</a>
for reporting both the bug and the fix.</li>

<p><li>
Fixed bug in tcplib telnet module. Random number generator was being seeded
on each call (from the system clock) rather than once at start-up. Replaced
calls to random number routines with calls to Random::uniform. Thanks to
<a href="mailto:vogels@CS.Cornell.EDU">Werner
Vogels</a> for reporting this bug.</li>

<p><li>
Added local explicit-join notification for experimentation with RLM.</li>

<p><li>
Added a "message" agent that allows abibtrary message packets to be sent
and received using tcl.</li>

<p><li>
Moved type-specific packet fields into a "body" union. Eliminated "reason"
field (rather than move it to tcp body) since we should have just used
the "flags" field to begin with.</li>

<p><li>
Added tracing functionality to loss-monitor agents (e.g., so we can compute
sliding window loss statistics using an external tool).</li>

<p><li>
Changed ns-now to use 17 digits of precision. Otherwise, truncation could
cause certain algorithms (e.g., RLM) to try to schedule events into the
past.</li>

<p><li>
Added "random" attribute to cbr sources to cause them to generate a Poisson
rather than fixed-rate packet stream.</li>

<p><li>
Fixed bug in RED initialization that could cause (almost-) infinite loop
at start up.</li>

<p><li>
Incorporated patches from <a href="mailto:pearce@ukraine.corp.mot.com">Michael
Pearce</a> to compile with SunPro C++ v3.0.1.</li>

<p><li>
Fixed bug that caused memory corruption when using class ID's larger than
10.</li>
</ul>

<hr>
<h3>
v1.0a17 Thu Dec 27 1995</h3>

<ul>
<p><li>
Finished port of "tcp-sack1" and "sack1-tcp-sink", a second format for
selective acks.</li>

<p><li>
Added "bursty" source for tcp connections.</li>

<p><li>
Added new loss policies for drop-tail links, "lossy-uniform" and "lossy-det".
[Kevin Fall].</li>

<p><li>
Added more test files to the distribution: test-all-cbq, test-all-red,
test-all-sack, and test-sack, in addition to test-all.</li>
</ul>

<hr>
<h3>
v1.0a16 Tue Dec 12 19:05:56 PST 1995</h3>

<ul>
<p><li>
Added source code for sack-tcp.cc.</li>
</ul>

<hr>
<h3>
v1.0a15 Tue Dec 12 17:52:32 PST 1995</h3>

<ul>
<p><li>
First cut at adding code for "tcp-sack1" and "sack1-tcp-sink", from Matt
Mathis (mathis@zippy.psc.edu) and Jamshid Mahdavi (mahdavi@psc.edu).</li>

<p><li>
Changed format of window and RTT reports sent from tcp.cc to the trace
file.</li>

<p><li>
Added "maxpkts" for ftp and telnet sources.</li>
</ul>

<hr>
<h3>
v1.0a14 Fri Dec 1 10:35:30 PST 1995</h3>

<ul>
<p><li>
Finished port of TCP with selective acks, along with SACK acceptance tests
in "test-sack".</li>

<p><li>
Added a modified version of Reno TCP, tcp-newreno.cc, for research purposes.</li>

<p><li>
Have not yet added tcp-sack or tcp-newreno to the man page.</li>
</ul>

<hr>
<h3>
v1.0a13 Wed Nov 22 15:14:50 PST 1995</h3>

<ul>
<p><li>
Finished port of cbq code from tcpsim (with contributions from Michael
Speer), and added cbq simulator tests.</li>

<p><li>
Added unique ID to each event in scheduler queue and added hook to lookup
an event by using this ID.</li>

<p><li>
Added hook for deleting <i>at</i> callbacks.</li>

<p><li>
Fixed bugs in multicast delivery where agent could modify routing desstructors
during the callback.</li>

<p><li>
First cut at port of TCP with selective acks.</li>
</ul>

<hr>
<h3>
v1.0a12 Sun Nov 5 21:19</h3>

<ul>
<p><li>
Added config.h and loss-monitor.cc to FILES so they get included in tar.</li>
</ul>

<hr>
<h3>
v1.0a11 Sun Nov 5 21:19</h3>

<ul>
<p><li>
Added loss-monitor agent, which is the same as a null-sink but calls a
tcl proc whenever there is a gap in the received sequence space. Will expand
functionality as necessary for MMG experiments.</li>

<p><li>
Integrated more mature tcl/c++ architecture from vic/vat. This has a major
impact on the way ns objects are created and deleted, but we maintain backward
compatibility with previous versions. The "ns" command is no longer implemented
in C++, but rather as a library function (in ns_default.tcl) that provides
glue between the old commands and the new "new/delete" interface.</li>

<p><li>
First cut at port of cbq code from tcpsim.</li>
</ul>

<hr>
<h3>
v1.0a10 Fri Oct 27 17:44:39 PDT 1995</h3>

<ul>
<p><li>
Added "flush" method to trace objects so that output can be flushed before
exiting.</li>

<p><li>
Added link-level src/dst fields to Packet class so node can tell which
"interface" a packet arrived on.</li>

<p><li>
Added support for dense-mode PIM style flooding with prune/graft machinery.</li>
</ul>

<hr>
<h3>
v1.0a10 Fri Oct 27 17:44:39 PDT 1995</h3>

<ul>
<p><li>
Fixed test-suite.tcl so that old awk works. Problem reported by <a href="mailto:kannan@catarina.usc.edu">Kannan
Varadhan</a>.</li>

<p><li>
Fixed Makefile.in to use V_LIB_TCL, as intended. Fix supplied by <a href="mailto:kannan@catarina.usc.edu">Kannan
Varadhan</a>.</li>
</ul>

<hr>
<h3>
v1.0a9 Wed Oct 11 16:58:00 PDT 1995</h3>

<ul>
<p><li>
Fixed solaris compilation problems.</li>

<p><li>
Changed configure to use "-mv8 -msupersparc" only for gcc.</li>
</ul>

<hr>
<h3>
v1.0a8 Fri Sep 29 15:11:04 PDT 1995</h3>

<ul>
<p><li>
Fixed more for-stmt scope bugs.</li>

<p><li>
Fixed compilation problems with Sun and DEC compilers. Problem reported
by <a href="mailto:turletti@cayenne.lcs.mit.edu">Thierry Turletti</a>.</li>
</ul>

<hr>
<h3>
v1.0a7 Wed Sep 27 19:55:23 PDT 1995</h3>

<ul>
<p><li>
First public (alpha) release.</li>

<p><li>
Included man page to FILES so it goes in tar.</li>

<p><li>
Updated README.</li>
</ul>

<hr>
<h3>
v1.0a6 Sep 21 09:24 PDT 1995</h3>

<ul>
<p><li>
Added "bug-fix" hook to tcp reno.</li>

<p><li>
Ported to tcl-7.4.</li>

<p><li>
Include <a href="mailto:mathis@psc.edu">Matt Mathis'</a> test-all script.</li>

<p><li>
Changed "for" statement conventions to adhere to the proposed
<a href="http://www.cygnus.com/~mrs/wp-draft/stmt.html#stmt.for">ANSI
standard change</a> which re-defines the lexical scope semantics of the
initializer statement. In order to be compatible with both the old and
new semantics, we have changed all instances of</li>

<ul>
<p><li>
for (int i = ... ) ...</li>

<p><li>
use(i);</li>
</ul>
to
<ul>
<p><li>
int i;</li>

<p><li>
for (i = ... ) ...</li>

<p><li>
use(i);</li>
</ul>
</ul>

<hr>
<h3>
v1.0a4</h3>

<ul>
<p><li>
Fixed bug in xgraph output: new version of xgraph doesn't understand FileorDev
because it now uses the PRINTER environment variable. Bug fix from Matt
Mathis (mathis@psc.edu).</li>

<p><li>
Added a 'test-all' sh script to distribution, which runs whole suite of
regression tests and compares them against a reference output. Thanks to
Matt Mathis (mathis@psc.edu).</li>

<p><li>
Don't include tk.h from Tcl.cc.</li>
</ul>

<hr>
<h3>
v1.0a1 Mon Jul 31 16:05:08 PDT 1995</h3>

<ul>
<p><li>
Changed all references to random() to use Random class so we can easily
change our pseudo-random number generator.</li>

<p><li>
Added convention to object names so we can derive their type from their
name.</li>

<p><li>
Changed nodes to be first class objects like rest of objects.</li>

<p><li>
Changed trace syntax to use tcl files rather than it's own open/close.
For example,</li>

<ul>
<p><li>
set f1 [open out.hop w]</li>

<p><li>
$trace attach $f1</li>
</ul>

<p><li>
Changed '-' and 'd' trace records to have same format as '+' and 'h' trace
records.</li>

<p><li>
Incoporate vic's "matcher" abstraction into agent and link models.</li>

<p><li>
Major hacking to port tcpsim to tcl framework.</li>
</ul>

</body>
</html>
