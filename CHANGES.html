<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
<HEAD>
   <TITLE>ns Change Log</TITLE>
<!-- Changed by: Sandeep Bajaj, 24-Apr-1998 -->
   <META NAME="GENERATOR" CONTENT="Mozilla/3.01Gold (X11; U; SunOS 4.1.3_U1 sun4m) [Netscape]">
</HEAD>
<BODY>

<P><!-- @(#) $Header: /home/smtatapudi/Thesis/nsnam/nsnam/ns-2/CHANGES.html,v 1.389 2000/04/14 18:28:19 heideman Exp $--><!-- Changed by: Sandeep Bajaj, 31-Mar-1997 --></P>

<H1>ns: Change History</H1>

<P><!--
 This ChangeLog is updated in the reverse order
  with the most recent changes coming first.
  --></P>

<hr>
<H3><A HREF="http://www-mash.cs.berkeley.edu/dist/vint/ns-src-2.1b7.tar.gz">
	Release of ns-2.1b7</a> [PENDING]</h3>
<ul>
	<p>
	<LI><B><A HREF="http://www.aciri.org/floyd/">[floyd]</A></B>
	<b>Mon Apr 10 16:55:44 PDT 2000</b><br>
	Smaller initial rate for Agent/TFRC, to correct overly-aggressive 
	behavior with very low bandwidth paths.  Fix from Jitendra
	Padhye.

	     <p>
	<li><b><a href="http://www.isi.edu/~haoboy/">[haoboy]</a>
	Fri Mar 24 11:36:59 PST 2000</b><br>
	<ul>
	<li> NsObject::debug(), a generic way to write verbose debug
	messages.
	<li> <a href="mailto:Richard.Mortier@cl.cam.ac.uk">Richard
	Mortier's</a> fix for TcpFull::gensack().
	</ul>

	<p>
        <LI><B><A HREF="http://netweb.usc.edu/yaxu/">[Ya]</A></B>
        <b>Thu Mar  9 17:07:08 PST 2000</b><br>
	(1) New energy model to support idle time energy dissipation
	(2) BECA and AFECA algorithms used in the paper "Adaptive
	Energy-Conserving Routing protocols for multihop ad hoc wireless network",
        submitted to mobicom2000
	(3) Pending commit: examples and validation test suite.
 	    

	<p>
	<LI><B><A HREF="http://netweb.usc.edu/huang/">[PH]</A></B>
	<b>Mon Feb 14 17:48:06 CET 2000</b><br>
	Bug fix for DV (Dynamic Distance Vector) Routing<br>
        Update test output for example3 (using DV) in test-suite-greis.tcl<br>
	Bug report and fix from Guo Liang guol@cs.bu.edu and patches from 
        Cheng Tak Cheung tccheng@csis.hku.hk

	<p>
	<LI><B><A HREF="http://www.aciri.org/floyd/">[floyd]</A></B>
	<b>Fri Jan 14 16:16:15 PST 2000</b><br>
	Bug fix for rare, inappropriate cancelling of the TCP retransmit timer.
	Bug report and fix from Mark Allman, mallman@grc.nasa.gov.
	
	<p>
	<LI><B><A HREF="http://www.isi.edu/~kclan/">[kclan]</A></B>
	<b>Fri Jan 9 20:00:15 PST 2000</b><br>
	Add an API to support visualization of energy depletion of
	wireless node in nam .<br>  
	SYNTAX:  $ns_ energy-color-change [level1] [level2]
	<p>

	     </ul>

<hr>
<H3><A HREF="http://www-mash.cs.berkeley.edu/dist/vint/ns-src-2.1b6.tar.gz">
	Release of ns-2.1b6</a> on Tue Jan 18 14:58 PST 2000</h3>


<ul>
	<p>
      <li><b><a href="http://www.isi.edu/~salehi">[salehi]</a></b>
	<b>Thu Jan 10 14:05:03 PST 2000</b><br>
	Modified the real-time scheduler, thanks to <a
	  href="mailto:weiye@usc.edu">Wei Ye</a>.

	The original real-time scheduler zeros the real-time clock
	when doing "new RealTimeScheduler". The patch makes it zero
	the clock when doing "$ns run", which is synchronized with the
	virtual-time clock when simulation starts.

  <LI><B><A HREF="http://www.aciri.org/floyd/">[floyd]</A></B>
	<b>Sat Jan  8 20:01:51 PST 2000</b><br>
	When resetting a sack TCP connection, the scoreboard was
	not cleared.  Added a reset procedure to Sack1TcpAgent.
	Bug report and fix from Mark Allman, mallman@grc.nasa.gov.

       <p>
  <LI><B><A HREF="http://www.isi.edu/~johnh/">[johnh]</A></B>
       <b>Tue Jan  4 14:17:02 PST 2000</b><br>
       Delay binding for TCP TraceVar instance variables now works.
       (Requries an updated tclcl.)
       Code is under ifdef TCP_DELAY_BIND_ALL.
       Old TCP_DELAY_BIND ifdef's removed.

    <p>
  <LI><B><A HREF="http://www.isi.edu/~kkumar/">[kkumar]</A></B>
       <b>Tue Dec 14 16:53:45 PST 1999 </b><br>
       Updated code for the landmark hierarchy construction protocol, a
       simple flood agent, tags database and the associated tag query
       agent. Added code to enable tag mobility. agent-list.{h,cc}
       provides a list of routing agents that is used for tag mobility.
       Affected files:
         Under ns-2/sensor-nets/ :
             landmark.h landmark.cc flood-agent.h flood-agent.cc
	     tags.h tags.cc sensor-query.h sensor-query.cc 
	     agent-list.h agent-list.cc
	 Under ns-2/tcl/mobility/ :
	     landmark.tcl,flood.tcl
	 Example script in ns-2/tcl/ex/wireless-landmark.tcl

       <p>
  <LI><B><A HREF="http://www.isi.edu/~johnh/">[johnh]</A></B>
       <b>Fri Dec 10 11:58:57 PST 1999</b><br>
       Hyun-ah implemented code to move TCP to delayed binding.
       This commit enables part of that code.
       Delay binding for things of type TracedVar needs
       additional tclcl support and will follow.

  <p> <li><b><a href="http://www.aciri.org/floyd/">[floyd]</a></b>
  <b>Sat Dec  4 16:01:34 PST 1999</b><br>
  Added RFC 793 TCP implementation, with some add-ons for
  educational purposes, contributed by Fernando Cela Diaz,
  <fcela@ce.chalmers.se>.  The exercises can be run with the
  command "./test-all-rfc793edu" in "tcl/test".  The examples are 
  described at "http://www.ce.chalmers.se/~fcela/rfc793edu.html", on
  "Teaching TCP Congestion Control and Avoidance with the ns Network
  Simulator".

  <p> <li><b><a href="http://www.isi.edu/haldar">[haldar]</a></b>
  <b>Wed Nov 24 12:34:48 PST 1999  </b><br>
  Added "section: Commands at a glance" to all chapters in nsN&D. This
is intended to replace the outdated manual pages. also nsN&D shall be
renamed as ns manual.


  <p>
  <LI><B><A HREF="http://www.isi.edu/~johnh/">[johnh]</A></B>
       <b>Tue Nov 23 17:31:14 PST 1999</b><br>
       Default make and install targets are now recursive
       (they include the utility programs).
       
  <p>
  <li><b><a href="http://www.isi.edu/yaxu">[yaxu]</a></b>
  <b>Thu Nov 19 20:11:16 PST 1999</b><br>
   Added new trace format to wireless trace. The new trace format
   is more expandable. The user still can keep using the old trace
   format. The new trace format is enabled by an explicit ns command.


  <p>
  <li><b><a href="http://www.aciri.org/floyd/">[floyd]</a></b>
  <b>Thu Nov 18 20:11:16 PST 1999</b><br>
  Added configurable parameters for AIMD increase and decrease
  constants in TCP, and test suite "test-all-aimd" for illustration
  and validation. 

  <p>
  <LI><B><A HREF="http://www.isi.edu/~johnh/">[johnh]</A></B>
       <b>Thu Oct 14 16:51:24 PDT 1999</b><br>
       New code in fsm.cc to walk the TCP FSM and compute probabilities.
       
  <p>
  <LI><B><A HREF="mail:yuri@isi.edu">[yuri]</A></B>
       <b>Thu Oct 14 16:41:36 PDT 1999</b><br>
       <ul>
       <li> Many changes to 802.3 implementations: added retransmissions,
       jamming signal, modified internal structure.
       <li> Changes to vlan tracing setup: in some traces the order of
       source and destination was reversed.
       <li> Added enumeration of packet direction (hdr_cmn::direction)
       </ul>

       <p>
  <LI><B><A HREF="http://www.isi.edu/~johnh/">[johnh]</A></B>
       <b>Wed Oct 13 15:47:23 PDT 1999</b><br>
       Three sets of changes: (1) deleteing old dead !CLASSINSTVARS code and ifdefs.
       (2) configure changes to support Alpha, debugged with
       Stefan Dresler's help.
       (3) AF_{NONE,INET,ILINK} changed to NS_AF_*
       to be system independent.
       
  <p>
  <li><b><a href="http://www.isi.edu/~haoboy/">[haoboy]</a></b>
	<b>Wed Oct  6 14:27:47 PDT 1999</b><br>
	<ul>
	<li> More instrumentation for the media cache stuff.
	<li> Fixed numerical instability in media cache and QA code.
	<li> Added full test suite for QA and media cache, which were not there due
	to instable output across platforms.
	</ul>
	Thanks to Yuri and John for their invaluable help in tracking down this bug.

  <li><b><a href="http://www.isi.edu/~yaxu/">[Ya]</a></b>
        <b>Tues Oct 5, 15:54:45 PDT 1999</b><br>
	AODV. Ported from Samir's modification on cmu's original
	implementation

  <p>
  <li><b><a href="http://www.isi.edu/~salehi/">[salehi]</a></b>
	<b>Mon Sep 30 15:54:45 PDT 1999</b><br>
	Replaced regular classifier with the hash classifier.  This
	will improve memory management because node addresses do not
	necessarily have to be assigned sequentailly.  A regular
	classifier allocates a static array whose length is equal to
	the largest node address, which could cause various problems,
	e.g., sparce array, running out of memory.  A hash classifier, 
	on the other hand, allocates as many entries as there are
	nodes.

  <p>
  <li><B><a href="http://www.isi.edu/~salehi/">[salehi]</a></b>
        <b>Mon Sep 27 17:44:04 PDT 1999</b><br>
	Detected a bug which could force MCastBSTClassifier::upstream_find
	into an infinite loop.
  <p>
  <li><B><a href="http://www.isi.edu/~haoboy/">[haoboy]</a></b>
        <b>Fri Sep 24 16:51:04 PDT 1999</b><br>
	<ul>
	<li> Added new self-similar web traffic module based on Polly's http-mod.tcl.
	    It eliminates memory leak (undeleted RandomVariable), and slightly saves
	    runtime.  
	<li> Updated old example files of web traffic in tcl/ex.
	<li> Examples of piping nam traces directly from ns to nam (nam-example.tcl).
	<li> Rearranged header files in rap/. Removed macros 'is', 'or', 'and'. 
	</ul>

  <p>
  <LI><B><A HREF="http://www.isi.edu/~johnh/">[johnh]</A></B>
       <b>Fri Sep 24 10:03:08 PDT 1999</b><br>
       autoconf changes: many flags are now in autoconf.h rather
       than on the command line, string{,s}.h is now autodetected.

  <p>
  <LI><B><A HREF="http://www.isi.edu/~salehi/">[salehi]</A></B>
       <b>Mon Sep 20 18:25:20 PDT 1999</b><br>
       Modified the BST code in order to allow nodes to re-join a
       multicast group.  

  <p>
  <LI><B><A HREF="http://www.isi.edu/~johnh/">[johnh]</A></B>
       <b>Fri Sep 17 18:27:50 PDT 1999</b><br>
       int8_t and friends now checked for by autoconf
       like they should have been all along.

  <p>
  <LI><B><A HREF="http://www.isi.edu/~johnh/">[johnh]</A></B>
       <b>Thu Sep 16 15:49:15 PDT 1999</b><br>
       The nam subdirectory removed from ns (suggestion from Lloyd).
       Scheduler error message added (contributed from Pascal Anelli).

  <p>
  <LI><B><A HREF="http://www.isi.edu/~johnh/">[johnh]</A></B>
       <b>Mon Sep 13 15:51:51 PDT 1999</b><br>
       scheduler declarations moved out to schedule.h
       (to allow subclassing, suggested by George Riley).

  <p>
  <li><b><a href="http://www.isi.edu/~haoboy/">[haoboy]</a></b>
      <b>Thu Sep  9 10:07:58 PDT 1999</b><br>
      Corrected all declarations of AppData* copy() in all derived
      classes of AppData. This caused ns to fail to compile under win32.

  <p>
  <LI><B><A HREF="http://www.isi.edu/~johnh/">[johnh]</A></B>
       <b>Wed Sep  8 13:52:27 PDT 1999</b><br>
       Portability fixes for machines which lack bcopy/bzero,
       and for platforms where autoconf doesn't find tclsh
       with an absolute pathname, and reindenting of some RNG code.

       <p>
        <li><b><a href="http://www.aciri.org/floyd/">[floyd]</a></b>
        <b>Mon Aug 23 22:33:19 PDT 1999</b><br>
        Added option control_increase_ to TCP to limit increases
        to the congestion window when the congestion window is not
        fully utilized.  Also added changes to the implementation
        of QOption_, for an optional method for
        reducing the congestion window after an idle period.
        Code from Jitendra Padhye and Mark Handley.  Validation
        tests in "tcl/test/test-all-tcp".

	<p>
	<li><b><a href="http://www.isi.edu/~haoboy">[haoboy]</a></b>
	<b>Mon Aug 23 21:05:26 PDT 1999</b><br>
	<ul>
	<li> Changed data_ in class Packet from unsigned char* to AppData*,
	thus we are able to avoid marshalling of application-level
	data. To provide backward compatibility, PacketData is derived
	from AppData and is the default packet data to be created when
	Packet::allocdata() is called. It provides the same unsigned
	char array as before. Thanks to Kevin and John for their
	suggestions. All test suites of today's snapshot passed but I
	was unable to test ns emulator. 
	<li> Removed several warnings from miscellaneous wireless
	codes. Still more to remove. 
	</ul>

	<p>
	<li><b><a href="http://www.aciri.org/floyd/">[floyd]</a></b>
	<b>Tue Aug 17 17:18:31 PDT 1999</b><br>
	Added option QOption_ to TCP for an optional method for
	reducing the congestion window after an idle period or after
	a period where the full congestion window has not been used.
	The code for this option is not necessarily in its final state yet.
	The code is from Jitendra Padhye, from a collaboration with
	Mark Handley.
        
        <p>
	<li><b><a href="http://www.aciri.org/floyd/">[floyd]</a></b>
	<b>Mon Aug 16 21:36:32 PDT 1999</b><br>
	Replaced tfrm.cc, tcp-friendly reliable multicast, by its
	successor, tfrc.cc, tcp-friendly rate control.  The changes
	are from Jitendra Padhye.  Tfrc.cc does not preserve backwards
	compatibility with all of the options that were in tfrm.cc,
	as the design becomes more stable.

  <p>
  <LI><B><A HREF="http://www.isi.edu/~johnh/">[johnh]</A></B>
           <b>Fri Aug 13 17:36:20 PDT 1999</b><br>
	 Added a warning to scheduler.cc
	 contributed by Pascal Anelli &lt;Pascal.Anelli@lip6.fr&gt;.

	 <p>
	<li><b><a href="http://www.isi.edu/~haldar">[haldar]</a></b>
	<b>Fri Aug 13 17:24:06 PDT 1999</B>
	Added ifdef's for a stand-alone (without using tclcl lib) version
	of rng. Also revised setdest's Makefile allowing to build setdest
	using this stand-alone version of rng.o

  <p>
	<li><b><a href="http://www.isi.edu/~yaxu">[yaxu]</a></b>
        <b> Thu Aug 12 16:19:45 PDT 1999 </b>
        Added TORA/IMEP implementation according to CMU's release
        <ul>
        <li> ns-2/tora/: tora implementation
        <li> ns-2/imep/: imep implementation. according to cmu, tora
	     needs imep support
        <li> ns-2/tcl/mobility/tora.tcl: tcl interface for tora
        <li> ns-2/tcl/ex/tora-test.tcl, tora-test-simple.tcl
	     2 examples for tora.
        </ul>
	
  <p>
	<li><b><a href="http://www.isi.edu/~haldar">[haldar]</a></b>
	<b>Wed Aug 11 17:50:35 PDT 1999</b>
	Changed cmu's node-movement and traffic pattern
	generation files (setdest.cc and calcdest.cc) to make them more
	portable.

  <p>
	<li><b><a href="http://www.isi.edu/~kkumar">[kkumar]</a></b>
	<b> Thu Jul 29 16:19:45 PDT 1999 </b>
	Added a simple energy model to keep track of remaining energy
	at nodes (methods to log energy currently exist only for
	wireless nodes): 
	<ul>
	<li> energy-model.{h,cc}: Defines the new EnergyModel class
	<li> node.{h,cc}: Added hooks to attach EnergyModel to nodes
	<li> mobilenode.{h,cc}: Added methods to log energy consumption
	<li> wireless-phy.{h,cc}: Modified sendUp and sendDown methods
	     to decrease the node's energy on transmitting/receiving
	     packets. Added reception power to WirelessPhy object.
	<li> tcl/lib/ns-lib.tcl: Added energyModel_ and initialEnergy_ options
	     to the new node API (new node API currently works only
	     for dsdv). Creates and attaches the specified
	     energyModel_ to nodes.
	<li> tcl/ex/wireless-newnode-energy.tcl: Simple example to
             show how energy usage can be logged.
	</ul>

  <p>
	<li><b><a href="http://www.isi.edu/~kkumar">[kkumar]</a></b>
	<b> Thu Jul 21 17:53 PDT 1999 </b>
	Added a distributed self-organizing hierarchy construction
	protocol based on the landmark hierarchy in the context of
	an object-tracking sensor network application.
	<ul>
	<li> tags.{h,cc}: Create a database of tags; tags are randomly
		distributed in a specified geographical region.
	<li> landmark.{h,cc}: Self-organizing hierarchy implementation.
	<li> sensor-query.{h,cc}: Simple agent that issues queries
		about tags.
	<li> flood-agent.{h,cc}: Simple flooding agent that floods
		queries about tagged objects to all sensors and
		generates responses (if any) back to the querying node.
	</ul>

  <p>
	<li><b><a href="http://www.isi.edu/~haoboy">[haoboy]</a></b>
	<b>Fri Jul  9 14:20:23 PDT 1999</b>
	Changed all strsep() to strtok() and all heapsort() to qsort()
	in indep-utils/webtrace-conv/.

  <p>
        <li><b><a href="http://www.aciri.org/floyd/">[floyd]</a></b>
        <b>Tue Jul  6 21:19:27 PDT 1999</b><br>
        Updated files connected with tfrm.cc and tfrm-sink.cc for
        tcp-friendly unicast congestion control.  The original code
        is from Mark Handley, with structural modifications by
        Jitendra Padhye.  The validation test is "test-all-friendly".

  <p>
	<li><b><a href="http://www.isi.edu/~haoboy">[haoboy]</a></b>
	<b>Tue Jul  6 15:50:42 PDT 1999</b><br>
	<ul>
	<li>rap/rap.cc: initialize logfile_
	<li>webcache/tcpapp.{cc,h}: do not allocate anything in
	CBuf::CBuf() when size_ == 0
	<li>webcache/http.cc: use Trace::round() in log() to reduce
	time print precisions in log files. 
	<li>tcl/webcache/http-mcache.tcl: use lsort{} on list produced
	by PagePool/Client::list-pages{} so that the results can be
	duplicated across different runs and platforms.
	<li>tcl/test/test-suite-mcache.tcl: removed tests
	media[3-5]*; they are not stable across platforms and
	operating systems because the quality adaptation code relies
	on comparison of double precision floating points to decide
	when to add/drop layers. Slight difference in these numbers
	can cause the output results to be drastically
	different. Currently these tests can only be duplicated on
	Intel platforms (FreeBSD and Linux), however they produced
	different results on Solaris and SunOS. 
	</ul>

  <p>
	<li><b><a href="http://www.isi.edu/~haoboy">[haoboy]</a></b>
	<b>Fri Jul  2 14:00:01 PDT 1999</b><br>
	Updated various files to work under win32. The most important one
	is to update ptypes2tcl.cc to handle long strings using codes borrowed
	from ~tclcl/tcl2c++.c

  <p>
	<li><b><a href="http://www.isi.edu/~haoboy">[haoboy]</a></b>
	<b>Fri Jul  2 10:00:23 PDT 1999</b><br>
	Test suite for multimedia cache. CAUTION: this is only intended
	to test the basic functionalities of the multimedia cache code
	residing in webcache/mcache.{h,cc} and
	tcl/webcache/http-mcache.tcl; it is absolutely NOT
	a test suite for RAP and Quality Adaptation.

  <p>
        <LI><B><A HREF="http://www.isi.edu/~salehi">[salehi]</A></B>
	<b>Mon Jun 28 15:35:40 PDT 1999</b><br>
	Added support and example script for BiDirectional multicast.

  <p>
	<LI><B><A HREF="http://www.cs.berkeley.edu/~tomh/">[tomh]</A></B>
	  <b>Fri Jun 25 13:47:05 PDT 1999</b><br>
	  Added support and example script for unslotted Aloha MAC.

  <p>
	<LI><B><A HREF="http://www.cs.berkeley.edu/~tomh/">[tomh]</A></B>
	  <b>Mon Jun 21 11:30:50 PDT 1999</b><br>
	  Added support for geostationary and LEO satellite constellations.
          This required minor changes to a number of existing files 
	  (Makefile.in, channel.h, mac.cc, net-interface.cc, node.h, node.cc, 
	  object.h, packet.h, phy.h, phy.cc, route.h, route.cc, trace.h,
	  tcl/lib/ns-lib.tcl, tcl/lib/ns-node.tcl), and the addition of
	  several new files (net-interface.h, sat.h, sathandoff.h, 
	  sathandoff.cc, satnode.h, satnode.cc, satposition.h, 
	  satposition.cc, satroute.h, satroute.cc, sattrace.h, sattrace.cc, 
	  tcl/lib/ns-sat.tcl).

  	 <p>
	<LI><B><A HREF="http://www.aciri.org/floyd/">[floyd]</A></B>
	  <b>Fri Jun 11 17:01:50 PDT 1999</b><br>
          Added "gentle" option to RED, to increase the packet drop rate
          slowly from max_p to 1 as the average queue size ranges from
	  th_max to twice th_max.

  	 <p>
    <LI><B><A HREF="http://www.cs.berkeley.edu/~kfall/">[kfall]</A></B>
           <b>Wed Jun  9 15:33:49 PDT 1999</b><br>
	__RENAMED wasn't defined for me because tclcl.sh wasn't being
	included.  Why this could be I don't know, but it is now added.

  	 <p>
    <LI><B><A HREF="http://www.isi.edu/~johnh/">[johnh]</A></B>
           <b>Wed Jun  2 20:23:52 PDT 1999</b><br>
	 Man page now points at Antoine's auto-generated class hierarchy.

  	 <p>
    <LI><B><A HREF="http://www.isi.edu/~johnh/">[johnh]</A></B>
           <b>Mon May 31 13:39:11 PDT 1999</b><br>
	 Improved fsm print function.

<p>
  <LI><B><a href="http://www.isi.edu/~haoboy">[haoboy]</a></B>
    <b>Tue May 25 18:37:42 PDT 1999</b><br>
    Checked in support of multimedia web caching based on Rap/QA code.
    A test suite will follow shortly. 
    <P>

    <LI><B><a href="http://www-scf.usc.edu/~bhuang/">[PH]</a></B>
    <b>Thu May 13 15:44:54 PDT 1999</b>
    <br> Checked in the 1st cut implementation of finite state automata TCP
    <br> An example can be found: tcl/ex/simple-fsm-tcp.tcl

    <LI><B><a href="http://www.aciri.org/floyd/">[floyd]</a></B>
    <b>Thu May 13 14:34:00 PDT 1999</b>
    <br> Added a small bug-fix suggested by Philip Liu at phill@ece.ubc.ca,
    <br> that resets the RED variables "edv_.count" and "edv_.count_bytes"
    <br> after a forced drop. 
    <br> Also added a parameter "ns1-compat_" (default false) to allow 
    <br> simulations to run without this bug-fix.

    <LI><B><a href="http://www.isi.edu/~haldar">[haldar]</a></B>
    <b>Tue May  4 17:37:52 PDT 1999</b>
    <br> Added support for wireless mobileIP which uses CMU's wireless model.
    <br> Example script tcl/ex/wireless-mip-test.tcl
    <br> major files added/revised : mip.{cc,h}, mip-reg.cc, tcl/lib/ns-mip.tcl, tcl/lib/ns-wireless-mip.tcl.

    <LI><B><a href="http://www.isi.edu/~haldar">[haldar]</a></B>
    <b>Thurs April 29 11:22:36 PDT 1999</b>
    <br> Removed bug from u_char* to int conversions; the conversion
    supplied by cmu's marshall.h breaks in freeBSD. revised the methods defined in marshall.h to make it portable for freeBSD, sun/solaris,linux.

    <LI><B><a href="http://www.isi.edu/~salehi">[salehi]</a></B>
    <b>Fri Apr 30 17:50:50 PDT 1999</b>
    <br>Found a bug in LAN's ARP resolution module.  A node in a LAN
	can have a macID of 0 while the 'arpresolve' module considered 
	it as invalid.

    <LI><B><a href="http://www.isi.edu/~haldar">[haldar]</a></B>
    <br>Added hierarchical addressing and routing support to mobilenodes.
    <br>Added support for having wired and wireless node domains in mixed simulations. Created base-station nodes that serve as gateways
    for wired and wireless domains.
    <br> wired and wireless nodes can now exchange traffic
    <br> Example script tcl/ex/wired-cum-wireless-sim.tcl; 
    <br> Major files added/revised are: tcl/mobility/com.tcl,dsdv.tcl,dsr.tcl; tcl/ex/ns-mobilenode.tcl,ns-bsnode.tcl; address{.cc,.h},mobilenode{.cc,.h},dsr/dsragent{.cc,.h},dsdv/dsdv{.cc,.h}.

    <LI><B><a href="http://www-scf.usc.edu/~bhuang">[PH]</a></B>
    <b>Tue Apr 20 15:56:39 PDT 1999</b>
    <br>Fixed bugs in the modified HTTP implementation (tcl/http/http-mod.tcl)
    <br>Added web traffic examples. One small scale (tcl/ex/web-traffic.tcl);
    one very large scale which requires ~800MB memory to complete
    (tcl/ex/large-scale-web-traffic.tcl)
    <br>Added code for trace driven random variable (tcl/lib/ns-random.tcl) 
    and an example (tcl/lib/ex/trace-driven.tcl)

    <LI><B><a href="http://www.isi.edu/~salehi">[salehi]</a></B>
    <b>Fri Apr 16 15:01:44 PDT 1999</b>
    <br>The Centralized Multicast module had some bugs for LAN
    support.  These bugs were removed.

    <LI><B><a href="http://www.isi.edu/~salehi">[salehi]</a></B>
    <b>Mon Apr 12 18:00:13 PDT 1999</b>
    <br> `NS notes and documents' was added to the release
    version.

    <LI><B><A HREF="http://www.isi.edu/~haldar/">[haldar]</A></B>
    <B>Fri Apr  9 15:49:23 PDT 1999</B>
    <BR> The wireless module had several bugs for both DSR and DSDV 
    routing protocol implementation. These bugs were removed. 
    A scenario file 670x670-600-50-20-0 was added which uses node 
    indexing of 0 instead of 1.
    A wireless example file in tcl/ex/wireless-test.tcl was added
    which simulates with just 3 mobilenodes.

    <LI><B><A HREF="http://www.isi.edu/~haldar/">[haldar]</A></B>
    <B>Thur Apr  8 10:50:12 PDT 1999</B>
    <BR> An error condition is checked in when route or hier-route is 
    computed for dis-connected topologies.


	 <p>
    <LI><B><A HREF="http://www.isi.edu/~johnh/">[johnh]</A></B>
           <b>Wed Apr  7 20:10:45 PDT 1999</b><br>
	 test-suite-full and tcpf2xgr now pass $TCLSH
	 so that they should be portable.
	 Future post-processing scripts should be written in Perl,
	 not tcl.

    <LI><B><A HREF="http://www.isi.edu/~johnh/">[johnh]</A></B>
           <b>Wed Mar 31 13:51:35 PST 1999</b><br>
	 Ns now knows where the tclsh is that autoconf finds,
	 just like it knows about perl.
	 <p>
	 The proper way to invoke a tclsh program from within ns
	 is { global TCLSH; exec $TCLSH path/to/script.tcl args; }.
	 <p>
	 A completely unrelated bugfix: tcp-sink now zeros save_.
</ul>


<H3><A HREF="http://www-mash.cs.berkeley.edu/dist/vint/ns-src-2.1b5.tar.gz">
Release of ns-2.1b5<a> on Tue Mar 16 16:50:50 PST 1999</a></h3>
<UL>  

    <li> <b><a href="http://www.isi.edu/~salehi">[salehi]</a></b>

	<b>Mon Mar 15 17:10:30 PST 1999</b><br>
	The following files/directories were removed since they are
	either superseded by other test or no longer supported:
	<ol>
	  <li>tcl/mcast/detailedDM.tcl
	  <li>tcl/pim
	  <li>tcl/lan/ns-lan.tcl
	  <li>tcl/lan/ns-mlink.tcl
	</ol>
	
    <li> <b><a href="http://www.isi.edu/~haoboy">[haoboy]</a></b>
        <b>Sun Mar 14 13:08:12 PST 1999</b><br>
	Changed process.{h,cc} to ns-process.{h,cc}, so as to avoid
        name conflicts on some OS (e.g. WIN32). Removed
        indep-utils/cmu-trace/setdest/Makefile.

    <li> <b><a href="http://www.isi.edu/~haoboy">[haoboy]</a></b>
        <b>Fri Mar 12 19:48:42 PST 1999</b><br>
	Various cosmetic changes to make it compile on windoze,
        patches courtesy of 
	<a href="mailto:c.christian.joensson@telia.com">
	Christian Joensson</a>.

    <LI> <B><A href="mailto:yaxu@isi.edu">[yaxu]</A></B>
	<b>Thu March 9 15:20:00 PDT 1999</b><br>	
	Re-implement wiredLAN(802.3) by porting cmu's 802.3 module,
	and make wiredLAN work again. Highlights:<br>
	<pre>
	(1) All 802.3 features including contention detection
	    are implemented in mac layer. (Old wiredLAN uses
	    channel to detect contention)
	(2) Channel broadcasts packets to every nodes attached to
	    the wiredLAN except the sender. It is up to mac layer
	    to decide whether it receives or drops the packet
	    according to the destination mac address of the packet.
	    (In old wiredLAN, channel does unicast by default)
	(3) WiredLAN uses the same structure as wireless LAN (from
	    bottom up, channel, phy, mac, ifq, ll, arp). These modules
	    have the same function definition.
	(4) csma.cc is fully replaced by mac-802_3.cc
	(5) The reference output of wiredlan test suite have been
	    changed
	(6) The nam packet flow of wiredlan test suite does not
	    exactly reflect the packet sequences under ll. It is
	    due to (a) no trace object is inserted below ll; (b) nam
	    is not in the good position so far to animate LAN behavior
	    below ll. We put it into TODO list.
	  
	</pre>
        </br>

    <li> <b><a href="http://www.isi.edu/~haoboy">[haoboy]</a></b>
        <b>Mon Mar  8 21:11:47 PST 1999</b><br>
	Changed default HTTP invalidation packet size, so that both
        unicast and multicast invalidations have the same
        base size. Also changed the type of unicast (TCP) invalidation
        packet types from tcp/ack to httpInval. 
	Updated affected test suite outputs (those related
        to multicast invalidations). 

    <li> <b><a href="http://www.isi.edu/~haoboy">[haoboy]</a></b>
        <b>Fri Mar  5 18:09:31 PST 1999</b><br>
	Previous ErrorModel won't work with ECN turned on if it is
        situated after the QUEUE module. It's because ECN doesn't drop
        the packet, but an event is scheduled to resume the handler
        from inside the ErrorModel instead of from DelayLink. Added a
        check to avoid this. 
	This will only affect scripts using
        SimpleLink::insert-linkloss{} or Simulator::link-lossmodel{}. 

    <li> <b><a href="http://www-nrg.ee.lbl.gov/floyd/">[floyd]</a></b>
	<b>Fri Mar  5 10:47:07 PST 1999</b><br>
	Modified tcp-sink.cc and tcp-sink.h to fix an ECN bug for
	TCP with delayed-ack sinks.  In particular, the ECN field was
	not being handled correctly for a packet for which the 
	acknowledgement was being delayed.  The bug report and bug fix
	are both from Mark Allman, mallman@grc.nasa.gov.

    <li> <b><a href="http://www.isi.edu/~haoboy">[haoboy]</a></b>
         <b>Wed Mar  3 18:16:53 PST 1999</b><br>
	 Added a separate set of error model insertion
         procedures. Updated SRM's test suite output (the previous one
         does not contain packet drop events). Changed the name of
         AppConnector to Process, and make it a subclass of
         TclObject. Make Application a subclass of Process. Added
         three new send() methods to Agent so that it supports sending
         user-level data. 

    <li> <b><a href="http://www.isi.edu/~haoboy">[haoboy]</a></b>
         <b>Tue Mar  2 12:37:37 PST 1999</b><br>
	 Add a fix to generate nam traces correctly for packets
         dropped by error models. 

    <LI><B><A HREF="http://www.isi.edu/~johnh/">[johnh]</A></B>
           <b>Fri Feb 26 14:37:31 PST 1999</b><br>
	 Applied a memory leak fix to sessin-rtp.cc, fix contributed
	 from Lidia Yamamoto, Christoph Haenle, and Randa.

    <li> <b><a href="http://www.isi.edu/~haoboy">[haoboy]</a></b>
    	 <b>Tue Feb 23 17:46:08 PST 1999</b><br>
	 Added a directory indep-utils/ which contains my proxy trace
    	 converteres and CMU's mobile scenario generator. Replaced 
    	 the big scenario files under tcl/mobility with smaller
    	 files. If necessary, big scenarios can be generated using the
    	 CMU generator.

    <LI> <B><A href="mailto:yuri@isi.edu">[YP]</A></B>
           <b>Fri Feb 19 18:04:57 PST 1999</b><br>
	   Modified implementation of
           <tt>PacketQueue</tt>. Method <code>tail()</code>
	    now returns the last packet in the queue; meaning of
           <code>PacketQueue::tail_</code> is also changed.

    <LI> <B><A href="mailto:yuri@isi.edu">[YP]</A></B>
           <b>Wed Feb 17 19:10:00  PST 1999</b><br>
	   Added enumeration for packet types instead of sequence of
           <tt>#defines</tt>.  New class <tt>p_info</tt> binds numeric 
	   packet types with their string values. <br>

    <li> <b><a href="http://www.isi.edu/~haoboy">[haoboy]</a></b>
         <b>Mon Feb  8 14:29:43 PST 1999</b><br>
	 Add a unique type int64_t for 64-bit integers. Now it doesn't
         check for quad_t or "long long" in different platforms. 
	 Requires new tclcl.
	 <br>

    <LI> <B><A href="mailto:yaxu@isi.edu">[YX]</A></B>
	<b>Thu Feb 4 15:20:00 PDT 1999</b><br>	
		Add mobileIP support (porting from Sun) with
		an example called miptest.tcl</br>

    <LI> <B><A href="mailto:yuri@isi.edu">[YP]</A></B>
           <b>Thu Jan 28 15:20:00 PDT 1999</b><br>
	      Changed Calendar and Heap schedulers not to re-order
	      simultaneous events.  All three schedulers now
	      produce the same result.  Added a simple test
	      test-suite-simultaneous for checking ordering of
	      simultaneous events.  Commented out "use-scheduler"
	      lines from all test suites which had it so that they all 
	      use Calendar as default.  Re-generated failing test-outputs.
	      <br>
	      
    <li> <B><a href="http://www.isi.edu/~haoboy">[haoboy]</a></b>
         <b>Tue Jan 26 10:18:47 PST 1999</b>
	 <ul>
	 <li>Improvements for webcache: (1) support non-cacheable
	 pages; (2) allow cache push to be either selective push or
	 always push, adjustable from a tcl command; (3) new ways to
	 compute staleness time for pages (lower bound RTT/2) <br>
	 <li>Added a type 'int' for many register var declarations.<br>
	 <li>Added 64-bit integer support for FreeBSD (quad_t) and
	 Solaris 2.x (long long). A ns-specific tcl function
	 <code>ns-add64</code> is provided to add/substract these
	 64-bit integers.
	 </ul>
	 <br>

    <LI><B><A HREF="http://www.isi.edu/~johnh/">[johnh]</A></B>
           <b>Thu Jan 21 18:07:18 PST 1999</b><br>
	 Changed autoconf handling of perl,
	 added support in tcl to keep track of the good perl
	 we find
	 and use it in the test suites.
	 <p>
	 The proper way to invoke a perl program from within ns
	 is { global PERL; exec $PERL path/to/script.pl args; }.
	 For examples in context, see test-suite-tcp.tcl.
    <LI> <B><A href="mailto:yuri@isi.edu">[YP]</A></B>
           <b>Thu Jan 21 15:53:07 PDT 1999</b><br>
	   Changed ns configure to support tcldebug v1.9.  Upgraded NS
	    and NAM config.guess and config.sub.<br>

    <LI> <B><A href="http://www.isi.edu/~haldar">[haldar]</a></b>
    <b>Mon Jan  4 14:20:34 PST 1999</b><br>
    Committed changes to integrate the lower layer stacks for cmu and ns
    code versions. Changes made : LL, Mac & Channel interfaces and
    functionalities changed. added PHY layer;
    Mac/csma/cd not supported currently. 
  
    <LI> <B><A href="http://www-scf.usc.edu/~bhuang">[PH]</A></B>
           <b>Thu Dec 24 14:55:09 PST 1998</b><br>
	   Moved reference count related code in scheduler.{cc,h} to 
	   sessionhelper.cc

    <li> <B><a href="http://www.isi.edu/~haoboy">[haoboy]</a></b>
         <b>Wed Dec 16 13:33:16 PST 1998</b>
	 Bug fix for web cache code, mainly: (1) disconnect{} between servers
	 and caches; (2) sending 0 bytes in TcpApp
	 Added support for trace (web server/proxy log) driven web
	 simulation. Added tests to include that part. Added a simple
	 introductory script tcl/ex/simple-webcache-trace.tcl. Updated
	 other outputs of webcache test suite after bug fixes.<br>

    <LI> <B><A href="http://www-scf.usc.edu/~bhuang">[PH]</A></B>
           <b>Wed Dec 16 12:59:46 PST 1998</b><br>
	   Integrated recent change on 
	   <A HREF="http://www.cs.vu.nl/~chris/Thesis/mftp/mftp_readme.html">
	   StarBurst MFTP</A> code from 
	   <A HREF="http://www.cs.vu.nl/~chris/">Christoph Haenle</A>. <br>
	   <LI><b><a href="http://www.isi.edu/~haldar"></a></b>
	   <b>Tue Dec 15 09:23:55 PST 1998</b><br>
	   Added support for Mobile networking in current version of ns;
	   Mostly cmu's version of mobility implementation -- integrated
	   into ns.

    <LI><B><A HREF="http://www.isi.edu/~johnh/">[johnh]</A></B>
           <b>Thu Dec  3 14:56:47 PST 1998</b><br>
	   Re-arranged some of the mftp/StarBurst code. <br>

    <LI> <B><A href="http://www-scf.usc.edu/~bhuang">[PH]</A></B>
           <b>Thu Nov 12 15:40:35 PST 1998</b><br>
	   added mix-mode, algorithmic routing, and virtual classifier test suite<br>
	   changed McastMonitor structure
    <LI> <B><A href="http://www-scf.usc.edu/~bhuang">[PH]</A></B>
           <b>Thu Nov  5 18:37:59 PST 1998</b><br>
	   added mix-mode (first-cut)<br>
	   example scripts at tcl/ex/newmcast/mix-mode*.tcl
    </UL>

    <H3><A HREF="http://www-mash.cs.berkeley.edu/dist/vint/ns-src-2.1b4.tar.gz">
    Release of ns-2.1b4</a>on Fri Oct 23 09:57:55 PDT 1998</h3>
    <p>
    <UL>    

    <LI> <B><A href="mailto:yuri@isi.edu">[YP]</A></B>
           <b>Tue Oct 15 13:11:39 PDT 1998</b><br>
	      Modified and cleaned LAN architecture: tcl/lan/vlan.tcl

    <LI> <B><A href="http://www-scf.usc.edu/~bhuang">[PH]</A></B>
           <b>Wed Oct 14 13:24:46 PDT 1998</b><br>
	   added virtual classifier; example: tcl/ex/virtual-classifier.tcl
	      
    <LI><b><A href="http://www.isi.edu/~haldar">[haldar]</A></B>
    <b>Wed Oct  7 15:35:01 PDT 1998</b><br>
    Added counter for routing table size for each node. support for 
    rtg table size to be used as label for nam visualizations. 


    <LI> <B><A href="http://www-scf.usc.edu/~bhuang">[PH]</A></B>
           <b>Mon Oct  5 16:43:03 PDT 1998</b><br>
	   Added algorithmic routing support for detailed simulator:
	   example script: tcl/ex/newmcast/detailed-algo.tcl<br>
	   Added Multi-field filter, expanded from single field filter,
	   Filter/Field<br>

    <LI> <B><A href="http://www.isi.edu/~haldar">[haldar]</A></B>
           <b> Mon Sep 28 12:29:21 PDT 1998</b><br>
	   Bug fix that now allows hierarchical routing to be used for single 
	   level of hierarchy.

    <LI><B><A HREF="http://www-scf.usc.edu/~bhuang/">[PH]</A></B>
           <b>Mon Sep 21 13:53:48 PDT 1998</b><br>
	   Added algorithmic routing (API: $ns rtproto Algorithmic): 
	   a space consumption O(n) routing mechanism, currently 
	   working with SessionSim only<br>
	   Added Pareto distribution the second kind (aka. Lomax distribution)
	   into the random distribution collection

    <LI><B><A HREF="http://www.isi.edu/~johnh/">[johnh]</A></B>
           <b>Mon Sep 14 20:51:55 PDT 1998</b><br>
	  Re-autoconf'ed; several version numbers bumped
	  (suggested by Lloyd Wood).

    <LI><B><A HREF="http://www-scf.usc.edu/~bhuang/">[PH]</A></B>
           <b>Thu Sep 10 15:45:01 PDT 1998</b><br>
	   changed session test suite output to avoid namtrace-all<br>
	   re-enabled session suite in the validation test

    <LI><B><A HREF="http://www.isi.edu/~johnh/">[johnh]</A></B>
           <b>Mon Aug 31 15:26:17 PDT 1998</b><br>
	  Re-autoconf'ed.
	  Getrusage/sbrk are now detected in autoconf.

     <li><b><a href="http://www-nrg.ee.lbl.gov/floyd/">[SF]</a></b>
    <b>Sat Aug 29 16:50:06 PDT 1998</b><br>
    Included validation test for NewReno: test-all-newreno.
    This includes a new option, newreno_changes1_, that forces a
    slow-start when many packets are dropped from a window of data.

	<LI><B><A HREF="http://www.cs.berkeley.edu/~padmanab/">[VNP]</A></B> <B>Sat Aug 22 11:59:47 PDT 1998</B><BR>
	<ul>
	<li> <i>tcp-asym-sink.cc</i>: call to acker_->update() in recv() had 
	incorrectly been ifdef'd out by someone. Restored the call.
	<li> <i>mac.cc, ll.cc</i>: replaced call to offset() with one to
	bind_offset()
	<li> <i>chost.{cc,h}, tcp-session.cc</i>: added disableIntLossRecov_ to
	selectively disable integrated loss recovery.
	</ul>
  <LI><B><A HREF="mailto:tomh@cs.berkeley.edu">[TH]</A></B>
        <b>Fri Aug 14 13:30:00 PDT 1998</b><br>
	Removed CBR_Agent; use Application/Traffic/CBR over Agent/UDP now. 
	Packet type for trace file is now settable from application.  
	Source changes: agent.h, app.h, cbr_traffic.cc, errmodel.cc, expoo.cc, 
	ivs.cc, packet.h, pareto.cc, rtp.cc, sa.cc,sa.h,scheduler.cc, telnet.cc,
	telnet.h, trace.cc, traffictrace.cc, trafgen.cc, udp.h, udp.cc,
	tcl/lib/ns-default.tcl, tcl/lib/ns-intserv.tcl, tcl/lib/ns-source.tcl.  
	Removed cbr.h and cbr.cc. 

     <LI><B><A HREF="http://www.isi.edu/~johnh/">[johnh]</A></B>
           <b>Tue Aug 11 13:04:40 PDT 1998</b><br>
	  Portability fixes for HPUX from 
	  Ketil Danielsen <a href="Ketil.Danielsen@hiMolde.no">Ketil.Danielsen@hiMolde.no</a>.
	  
    <li><b><a href="mailto:haldar@isi.edu">[haldar]</a></b>
    <b>Tue Aug 11 11:31:33 PDT 1998</b>
    Included validation test-suites for hierarchical routing:
    test-suite-hier-routing.tcl- runs 4 tests
    hier-simple, -cmcast, -deDM and -session.
    
     <li><b><a href="mailto:haldar@isi.edu">[haldar]</a></b>
        <b>Thu Aug  6 11:39:02 PDT 1998</b>
	Added scenario-generation library (~ns/tcl/scen-generation/
	scen-lib) containing 3 congestion control scenario test cases
	(ref: Mark Handley's RM congestion control schemes).
	
     <LI><B><A HREF="http://www.isi.edu/~johnh/">[johnh]</A></B>
           <b>Tue Aug  4 17:00:54 PDT 1998</b><br>
	 Re-wrote mem-trace.h to isolate the unportable code.
	 Portions commented out for Windows platform based on
	 feedback from <a href="mailto:jvicente@comet.columbia.edu">John Vicente</a>.

      <li><b><a href="mailtohaldar@isi.edu">[haldar]</a></b>
	<b>Wed Jul 29 17:20:08 PDT 1998</b>
	Created a holder for all traffic models and added 
	many_tcp traffic model (~ns/tcl/lib/ns-trafficgen.tcl) as a 
	part of ns/lib

    <li><b><a href="mailto:breslau@parc.xerox.com">[LB]</A></B>
        <b>Tue Jul 28 16:41:29 PDT 1998</b>
	Added a validation test for the admission control algorithms
	and related intserv functionality.


    <li><b><a href="mailto:breslau@parc.xerox.com">[LB]</A></B>
        <b>Thu Jul 23 15:50:14 PDT 1998</b>
	With Haobo Yu, fixed a bug in the Calendar Scheduler which 
	only appeared to be a problem with very long running simulations.


      <LI><b><A HREF="http://www.isi.edu/~haldar/">[haldar]</A> 
	  Fri Jul 17 14:21:25 PDT 1998</b>
	Added topology semantics for agent distribution to 
	scenario-generator -
	allows placement of agents on designated src and dest
	stub/locations for transit-stub topologies.
	Added hierarchical addressing support to topology generator.

    <LI><B><A HREF="http://www-scf.usc.edu/~bhuang/">[PH] </A></B>
    <b> Mon Jul 13 18:23:53 PDT 1998 </b><br>
	added hierarchical routing support for session sim<br>
	example: tcl/ex/newmcast/session-hier.tcl
</UL>
    <p>
    <H3><A
	HREF="http://www-mash.cs.berkeley.edu/dist/vint/ns-src-2.1b3.tar.gz">Release of ns-2.1b3</A> on Sat July 11 15:15:00 PDT 1998
</H3>
<UL>


    <LI><B><A HREF="http://catarina.usc.edu/yaxu/">[XY] </A></B>
    <b> July 11 15:15:00 PDT 1998 </b><br>
    ns-2.1b3 Release.<br>

    <LI><B><A HREF="http://www-scf.usc.edu/~bhuang/">[PH]</A></B>
       <b>Fri Jul  10 17:54:49 PDT 1998</b><br>
	added session simulator validation test<br>
	tcl/test/test-all-session<br>

    <LI><B><A HREF="http://www.isi.edu/~johnh/">[johnh]</A></B>
       <b>Thu Jul  9 14:02:19 PDT 1998</b><br>
	 tclclassinstvars turned on by default.

  <LI><B><A HREF="http://www.isi.edu/~kannan/">[KVa]</A></B>
	<b>
	Thu Jul  9 11:33:28 PDT 1998
	</b><br>
	<ul>
	<li>Changed Connector instproc-like: dynamic to be isDynamic.
		This permits running the topology dynamics code in
		compatibility mode.
	</ul>

  <LI><B><A HREF="http://www-nrg.ee.lbl.gov/floyd/">[SF]</A></B>
	<b>Thu Jul  9 11:30:54 PDT 1998</b><br>
        With Kevin Fall, added validation tests for Tahoe, Reno, NewReno, 
	and SACK TCP to tcl/test/test-all-tcpVariants.
  <LI><B><A HREF="http://www.cs.berkeley.edu/~tomh">[TH]</A></B>
	<b>Tue Jul 7 15:50:00 PKT 1998</b><br>
	<ul>
	Added generic CBR traffic generator that can run on top of UDP agent.  
Added new API methods to existing CBR_Agent.  New file: cbr_traffic.cc 
	</ul>

    <LI><B><A HREF="http://www.isi.edu/~johnh/">[johnh]</A></B>
       <b>Mon Jul  6 13:44:12 PDT 1998</b><br>
	 ./test-all (and related files) moved to tcl/test/test-all-simple.

    <LI><B><A HREF="http://www.isi.edu/~johnh/">[johnh]</A></B>
       <b>Mon Jun 29 16:55:51 PDT 1998</b><br>
	 Manual routing test suite added; many_tcp fixed (due to chane in classifier-hash.cc)

  <LI><B><A HREF="http://www.cs.berkeley.edu/~tomh">[TH, GN]</A></B>
	<b>Fri Jun 26 18:30:00 PKT 1998</b><br>
	<ul>
	Revised API between Agents and Applications.  Added new base class 
Application for all Sources and Traffic Generators.  Added generic agent
callback functions to base class Application.  Added generic "socket-like"
functions to base class Agent.  
	</ul>
    <LI><B><A HREF="http://catarina.usc.edu/ahelmy">[AH]</A></B>
	<b>Wed Jun 17 19:00:00 PKT 1998</b><br>
	<ul>
	<li> Checked in the routing generator and the agent 
generator components of the scneario generator, at 
tcl/ex/{route,agent}-gen.tcl. For use, source these files and type 
'routing -h' or 'agents -h' for more help.
The agent generator currently supports TCP and SRM types (and their 
variants, attached sources, sinks and traffic models), in addition 
to a random distribution of the start/end times of tcp sessions and 
join/start times of SRM members/sources.
	<li>Modified the topology generator to add API that returns 
the number of nodes in a topology.
	<li>An example script that uses the scenario generator is 
under tcl/ex/agent-gen-script.tcl.
	</ul>
    <LI><B><A HREF="http://www-nrg.ee.lbl.gov/kfall/">[kfall]</A></B>
       <b>Mon Jun 15 17:58:06 PDT 1998</b><br>
       <ul>
	<li> change error module so that if markecn_ is turned out, you
		do not also drop the packet if drop_ is set
	<li> changes to full-tcp (and support in bin directory), adding 
		tracing of the congestion action bit which is now on all
		the time, even if ecn is not turned on
	<li> changes to full-tcp so that the slow-start due to long send idle
		periods aren't triggered if you are sending just acks
	<li> Tahoe and NewReno support for full-tcp (a few days back)
	</ul>
  
    <LI><B><A HREF="http://www.isi.edu/~johnh/">[johnh]</A></B>
       <b>Wed Jun 10 17:58:06 PDT 1998</b><br>
	 <ul>
	   <li> enabled MEMDEBUG_SIMULATIONS by default (in config.h)
	   <li> added support for delayed binding (see tclcl's CHANGES for details)
		This is only enabled if you configure --enable-tclcl-classinstvar.
		(Only added support in Agent and NsObject.)
	   <li> Fixed compiler warnings in cbq.cc, errmodel.cc, queue.h (meet gcc 2.7.2.3).  Queue.h was an actual bug!
	   <li> re-autoconf'ed
	   <li> added memory tracing to many_tcp.tcl
	 </ul>

    <LI><B><A HREF="http://www.isi.edu/~johnh/">[johnh]</A></B>
       <b>Wed May 27 11:46:01 PDT 1998</b><br>
	 tcl/ex/many_tcp.tcl demonstrates large numbers of TCP flows
	 using Manual routing.
	 Run it with the -? option to see a description of its options
	 and limitations.
	   
   <li><b><a href="http://www-nrg.ee.lbl.gov/floyd/">[floyd]</A></B>
      <b>Wed May 27 17:28:46 PDT 1998</b><br>
        Added test-all-ecn to validate.  I also added a "-a" option
        to bin/raw2xg for displaying the ECN flags.

    <LI><B><A HREF="http://www-nrg.ee.lbl.gov/kfall">[kfall]</A></B>
       <b>Wed May 27 13:57:31 PDT 1998</b><br>
	 Bug-fix to tcp.cc to allow for doing "advance" to a number
	 below curseq_.  Bug-fix to List ErrorModel to fix up handling
	 of "droplist" strings that contain extraneous spaces and
	 white space.

    <LI><B><A HREF="http://www.isi.edu/~johnh/">[johnh]</A></B>
       <b>Wed May 27 11:46:01 PDT 1998</b><br>
	 <ul>
	   <li> "make tcl/lib/TAGS" now generates {o,}tcl tags.
	   <li> tcl-expand.tcl now includes tags about what the files are
	   <li> Simulator::node now generates nodes indirectly through
		Simulator::node_factory_
	   <li> Node::mk-default-classifier is new node-specific code
		to create its classifiers
	   <li> Manual routing is now possible (new Agent/rtProto/Manual, ManualRtNode)
	   <li> DestHashClassifier exists
	   <li> Classifiers can now be resized
	   <li> more error checking added to classifier's installNext
	 </ul>
	 
    <LI><B><A HREF="http://catarina.usc.edu/ahelmy">[AH]</A></B>
	<b>Sat May 23 22:24:00 PDT 1998</b><br>
	  <ul>
	    <li>Checked in first cut of the topology generator part of
		the scenario generator package. It currently supports
		random and transit stub topologies generated by the GATech
		ITM generator. Check tcl/ex/topo-gen.tcl.
	    <li>Checked in a topology viewer script, to enable viewing 
		generated topologies before running the simulations, in
		tcl/ex/topo-view.tcl.
	    <li>An example script for using the checked code is in
		tcl/ex/topo-gen-script.tcl, and the readme file is 
		tcl/ex/topo-gen.txt.
	    </ul>

    <LI><B><A HREF="http://www.isi.edu/~johnh/">[johnh]</A></B>
       <b>Fri May 22 11:17:00 PDT 1998</b><br>
	 <ul>
	   <li> Agent/TCP advance/advanceby/done commands are now documented
		in the man page.
	   <li> Hierarchical routing renames:
		Simulator instproc {hier-,}node,
		HierNode instproc {hier-,}enable-mcast
	   <li> Classifier instproc dump
	   <li> SessionSim {bw,delay}_parse moved to Simulator
	   <li> Simulator instproc nodes-to-link
		and Simulator instproc nodes-to-link?
		provide an abstract way to get link_($n1id:$n2id)
	 </ul>

    <li><b><a href="http://www-nrg.ee.lbl.gov/floyd/">[floyd]</A></B>
       <b>Wed May 20 17:37:59 PDT 1998</b><br>
	 Changes to one-way tcp implementations so that the TCP
	 receiver sends the ECN-Echo packet to the TCP sender on
	 multiple ACK packets.  This approach is described in
	 "http://www-nrg.ee.lbl.gov/floyd/ECN-TCP.txt".  The
	 change includes a new flag in the packet header,
	 "cong_action_", a.k.a. Congestion Action, for the TCP
	 sender to notify the TCP receiver that it has responded to
	 congestion.

    <li><b><a href=http://www.cs.berkeley.edu/~aswan>[aswan]</a></b>
       <b>Mon May 18 15:31:45 PDT 1998</b><br>
	 Reworked RLM implementation.  A single implementation
	 is now shared between mash and ns.  A subclass handles
	 ns-specific RLM operation.  See the documentation for
	 the MMG class in otcldoc for further details.

    <LI><B><A HREF="http://www-nrg.ee.lbl.gov/kfall">[kfall]</A></B>
       <b>Wed May 13 19:02:31 PDT 1998</b><br>
	 Many changes to FullTcp, including fixes to timestamps, re-
	 structuring of dupack actions, fix an off-by-1 problem for
	 window deflation.  Also, changes for ECN [not yet
	 fully tested] and addition of 5 new tests to test-suite-full.tcl.

    <LI><B><A HREF="http://www-nrg.ee.lbl.gov/floyd/">[floyd]</A></B>
       <b>Wed May 13 18:35:31 PDT 1998</b><br>
	 Changes to tcp-newreno.cc to make corrections in the
	 interactions between Fast Retransmit and ECN.  I also
	 added a new validation test, "test-all-tcpVariants", to
	 the ns "validate" test.  It tests Tahoe, Reno, NewReno,
	 and Sack TCP with one, two, three, and four packet drops.
	 The validation test for ECN, "test-all-ecn", is still in
	 progress.

    <LI><B><A HREF="http://www-nrg.ee.lbl.gov/floyd/">[floyd]</A></B>
       <b>Mon May 11 19:05:50 PDT 1998</b><br>
	 Changes to tcp.cc, tcp-reno.cc, tcp-sack1.cc, and tcp.h,
	 to make small corrections in the interactions between
	 Fast Retransmit and ECN, to avoid some unnecessary reductions
	 of the congestion window.  The ECN validation test
	 "test-all-ecn" now documents the correct functioning
	 of the Tahoe, Reno, and Sack1 ECN code.  In addition, the
	 Fast Retransmit code has been restructured, for readability.
	 This is joint work with Kevin Fall.

    <LI><B><A HREF="http://www-nrg.ee.lbl.gov/kfall">[kfall]</A></B>
       <b>Wed May 6 18:52:37 PDT 1998</b><br>
	 Changes to tcp.cc for ECN.  ErrorModule now has "default"
	 function which says what to do with packets that shouldn't
	 be handled specially.  Classifiers now have "findslot" fn
	 which tells the slot# an object is in.  Periodic Error Model
	 now has 'burstlen' parameter that provides for bursty
	 periodic losses, rather than just 1 pkt loss per period.

    <li><b><a href="mailto:breslau@parc.xerox.com">[LB]</A></B>
        <b>Mon May  4 11:22:02 PDT 1998</b>
	Added nam trace functionality to admission control modules.

    <li><b><a href="mailto:haldar@isi.edu">[haldar]</a></b>
        <b>Wed Apr 29 10:25:45 PDT 1998</b>
        <ul>
        <li> Revised the addressing format for ns as follows:
        Added API's for allocating bits to address fields. Default
value being 8 bits for port (2^8 agents) and 7 bits for node address
(2^7 nodes in a topology and 1 bit for mcast.
The API allows to set address for multilevel hierarchy (for
hierarchical routing), and expand the port bits to allow higher number
of agents in a node. For details see ~ns/tcl/lib/ns-address.tcl

         <li> Added support for hierarchical routing.Currently
hierarchical routing supports upto 3 levels of hierarchy. 
The gt-itm to hierarchical converter - sgb2hierns, is available from
topology generation webpage for ns. Example scripts for hierarchical
routing are available in ~ns/ex/hier-rtg-10.tcl and hier-rtg-100.tcl
</ul>


    <li><b><a href="mailto:bajaj@parc.xerox.com">[SB]</A></B>
        <b>Tue Apr 28 14:30:08 PDT 1998</b>
	Added some patches so that ns-compiles with gcc version 2.8.1

    <li><b><a href="http://www-nrg.ee.lbl.gov/floyd/">[floyd]</A></B>
	 <b>Fri Apr 24 21:36:47 PDT 1998</b>
	  Modified the tcp-init-win validation test, and added
	  tcp-init-win to validate.
    
    <li><b><a href="mailto:bajaj@parc.xerox.com">[SB]</A></B>
         <b>Fri Apr 24 17:29:46 PDT 1998</b>
	  Added support for 2 kinds of delay-adaptive receivers

    <LI><B><A HREF="http://www.isi.edu/~johnh/">[johnh]</A></B>
       <b>Tue Apr 21 09:58:22 PDT 1998</b><br>
	 README is now up-to-date, html directory gotten rid of
	 (it was quite old).

    <LI><B><A HREF="http://www-nrg.ee.lbl.gov/kfall">[kfall]</A></B>
       <b>Thu Apr 20 19:40:37 PDT 1998</b><br>
	 Re-arrange some of Sally's changes to the various tcp's in
	 support of initial window investigations.
	 Update to tcl/rtmechanisms/rtm_reclass so you don't
	 have to specify a topo in order to specify enable/disable.

    <LI><B><A HREF="http://www-nrg.ee.lbl.gov/floyd/">[floyd]</A></B>
       <b> Wed Apr 20 1998</b><br>
	 Added TCP variables "syn_", "windowInitOption_", and
	 "tcpip_base_hdr_size_" for experimenting with the
	 proposal for modified TCP initial windows in the 
	 internet-draft on "Increasing TCP's Initial Window".

    <LI><B><A HREF="http://www.isi.edu/~johnh/">[johnh]</A></B>
       <b>Thu Apr 16 10:45:37 PDT 1998</b><br>
	 Configure now finds tcl/tk on Debian Linux
	 (patch submitted by Jeffrey Austen &lt;jausten@tntech.edu&gt;).

    <li><b><a href="mailto:bajaj@parc.xerox.com">[SB]</A></B>
          Mon Apr 13 10:52:51 PDT 1998
	  tcl/lib/ns-random.tcl : Added support to generate a normal 
          distribution.

      <li><b><a href="http://catarina.usc.edu/ahelmy/">[AH]</a>
	  Fri Apr 10 18:40:20 PST 1998</b>
	  <ul>
	  <li>Added support for trace driven packet loss. Modified errmodel.h,cc
	  to support TraceErrorModel and MrouteErrorModel.
	  <li>Added support for exhaustive selective packet loss over lans.
	  Modified tcl/mcast/ns-mlink.tcl and 
	  tcl/mcast/ex/newmcast/loss.tcl,types.awk.
	  <li>Added an example of selective loss over lan test suite. Added
	  tcl/ex/newmcast/pim-loss.tcl,pim-no-loss.tcl.
	  </ul>
      <li><b><a href="http://www.cs.berkeley.edu/~amc/">[AMC]</a>
          Wed Mar 25 20:23:42 GMT 1998</b>
          <ul>
          <li>tcl/lib/ns-random.tcl: Bug fix, and exponential now takes
              optional argument mu.
          <li>config.h: int8_t would break under Solaris 2.6 (it's still
              a mess)
          <li>Makefile.in: Now tells you if you need to re-run configure.
          </ul>
      <LI><B><A Href="mailto:bajaj@parc.xerox.com">[SB]</A></B>
        <b> Wed Mar 18 12:03:35 PST 1998 </b> <br>
        Added token bucket filter support

	<LI><B><A Href="mailto:huang@isi.edu">[PH]</A></B>
	<b>Fri Feb 25 7:13:54 PST 1998</b><br>
	Fixed minor bugs in sessionhelper.cc<br>
	Added Packet Reference Count for SessionSim (more than 50% memory save 
for sim with large amount of trees, widely spanned trees, and high source 
rate.<br> 
      <LI><B><A Href="mailto:bajaj@parc.xerox.com">[SB]</A></B>
       <b>Fri Feb 20 12:13:58 PST 1998</b><br>
        Added support for RLM
	<LI><B><A HREF="http://www.cs.berkeley.edu/~hari/">[hari]</A></B> <B>Mon Feb 16 12:41:50 PST 1998</B><BR>
	<UL>
		<LI> Lots of additions and mods for snoop version 2
		and Explicit Loss Notifications (ELN).
		<LI> Empirical wireless error models from real traces.
		<LI> Restructured wireless link layer stuff.
		<LI> Various changes for Win32 (actually checked in a few days
		ago (in 2.1b3) but unfortunately forgot to check in 
		CHANGES.html then)
	</UL>
	<LI><B><A HREF="http://www.cs.berkeley.edu/~padmanab/">[VNP]</A></B> <B>Wed Feb 11 19:55:34 PST 1998</B><BR>
	<UL>
		<LI> Can invoke "configure" with --libdir=DIR to add to the
		     library search path (changed Makefile.in).
		<LI> Bunch of changes to {tcp-session,chost,tcp-int).{cc,h},
		     including the combination of fast start and TCP sessions.
	</UL>
      <LI><B><A Href="mailto:bajaj@parc.xerox.com">[SB]</A></B>
      <b>Mon Feb 9 13:00:14 PST 1998</b><br>
       Added support for measurement based admission control for controlled load
      service.
</ul>




    <hr>
    <H3><A
	HREF="http://www-mash.cs.berkeley.edu/dist/vint/ns-src-2.1b2.tar.gz">Release of ns-2.1b2</A> 
      on Tue Jan 29 15:36:16 PST 1998
    </H3>
    <P> Release to make ns compatible with tcl/tk8.0p2 and to
      incorporate changes in nam-1.0a4 (version 1.0a3 was skipped). This release is CVS tagged with NS_2_1B2 </P>
    <UL>
      
      <LI><B><A HREF="http://www.isi.edu/~haldar/">[padma]</A></B>
	<b>Tue Jan 29 15:33:49 PST 1998</b><br>
	   ns-2.1b2 release.

      <LI><B><A HREF="http://www.isi.edu/~haldar/">[padma]</A></B>
	<b>Tue Jan 29 15:33:49 PST 1998</b><br>
	The mcast test suite removed from the validation tests for
	now, to proceed with the ns release; mcast tests seem to be
	failing due to change in the order of the outputs in trace
	files while the output values by themselves are valid.


  <LI><B><A HREF="http://www.isi.edu/~johnh/">[johnh]</A></B>
       <b>Wed Jan 28 16:06:49 PST 1998</b><br>
       Configure now looks for tclsh
       (hopefully fixing the ``Simulator not found'' bugs
       which were due to empty gen/ns_tcl.cc files). 

  <LI><B><A HREF="http://www.isi.edu/~kannan/">[KVa]</A></B>
	<b>
	Wed Jan 28 14:05:09 PST 1998
	</b><br>
	Typo in srm-adaptive.tcl:121, 
	Agent/SRM/Adaptive::recompute-request-params{}
	pointed out by 
	<a href="mailto:woja@media.mit.edu">
	"Roger \"WOJA\" Kermode" &lt;woja@media.mit.edu&gt;
	</a>

  <LI><B><A HREF="http://www.isi.edu/~johnh/">[johnh]</A></B>
       <b>Tue Jan 27 10:47:24 PST 1998</b><br>
       There were two ``default'' random number streams, one in
       Random and one in RNG.  They're now unified.
       Test suites updated accordingly.

  <li><b><a href="http://www.cs.berkeley.edu/~suchi">[SR]</a>
  Mon Jan 26 16:46:57 PST 1998</b>
        <ul>
	<LI> Added srm-topo.cc,h in main directory for large-scale
	simulations of the SRM timer algorithm
	<LI> Also added example tcl scripts tcl/session/scaling-*.tcl.
        </ul>

  <li><b><a href="http://www.cs.berkeley.edu/~tecklee">[TLT]</a>
  Fri Jan 23 11:26:01 PST 1998</b>
        Fixes some problems with otcl namespaces in tcl 8.
        <ul>
        <li> proc class defined in ns-compat.tcl not found in global scope.
        This is because a procedure defined within an otcl instproc (or proc)
        becomes a procedure in ::otcl and NOT ::. The fix is to define
        the procedure as proc ::class.
        <li> info proc SplitObjectCompare not found. The info command finds 
        only procedures in the *current* namespace. I added a second check 
        for ::SplitObjectCompare before bailing out.
        </ul>

  <LI><B><A HREF="http://www-nrg.ee.lbl.gov/kfall/">[KF]</A></B>
	<b>
        Wed Jan 22 23:20:58 PST 1998
	</b><br>
	Fix up test-suite-full.tcl to deal with quiet option.
	Check in test output for test-all-full.<br>

  <LI><B><A HREF="http://www-nrg.ee.lbl.gov/kfall/">[KF]</A></B>
	<b>
        Wed Jan 21 22:20:58 PST 1998
	</b><br>
	Change to tcp to record time in rtt_ts for rtt_update calls
	when not using actual timestamps.
	A number of changes to tcp-full to make the simul-close test
	work (esp. handling of fins and retransmitted fins).<br>

  <LI><B><A HREF="http://www.isi.edu/~johnh/">[johnh]</A></B>
       and <B><A HREF="http://www.isi.edu/~visweswa/">[visweswa]</A></B>
       <b>Wed Jan 21 14:37:07 PST 1998</b><br>
       tcp-rbp was being too conservative in transmission after pacing ends.
       Also, the rbp test suite failed to honor QUIET (although it worked
       for the softer quiet).  RBP saved tests updated.

  <LI><B><A HREF="http://www.isi.edu/~johnh/">[johnh]</A></B>
       <b>Wed Jan 21 14:16:12 PST 1998</b><br>
       test-suite-vegas-v1.tcl now supports a quiet option;
       rbp and vegas-v1 re-added to the validate script.

  <LI><B><A HREF="http://www.isi.edu/~johnh/">[johnh]</A></B>
       <b>Fri Jan  9 13:51:57 PST 1998</b><br>
       RBP test suite updated.

  <LI><B><A HREF="http://www-nrg.ee.lbl.gov/kfall/">[KF]</A></B>
	<b>
	Tue Jan 5 18:02:59 PST 1998
	</b><br>
	Move emulation related files into emulate subdirectory, fix Makefile.in<br>
	Also, mention full-tcp fixes (over last n weeks) here<br>
  <LI><B><A HREF="http://www.isi.edu/~kannan/">[KVa]</A></B>
	<b>
	Tue Dec 30 16:55:59 PST 1997
	</b><br>
	<ul>
	<li>SRM base class...more functions are now virtual to support
		cleaner extensions.<br>
		Files affected: ~ns/srm.{cc,h}
	<li>TTLchecker can be made to decrement ticks other than 1.  Also,
		options to make it shut up about ttl exceeded.<br>
		Files affected: ~ns/ttl.cc
	<li>Classifier adjacents return format is now reversed.
		The key is now the slot, the value is the object 
		in that slot. <br>
		Files affected: ~ns/tcl/lib/ns-lib.tcl<br>
		<b>NB:</b>This breaks the multipath routing capability
		available in dynamic unicast routing.  I think I fixed it
		but I haven't tested it out yet.  If you are using this,
		drop me a line.<br>
		Files affected: ~ns/tcl/lib/ns-node.tcl<br>
	<li>Some pretty printing procs, f-time and f-node (*gag*)<br>
		Files affected: ~ns/tcl/lib/ns-trace.tcl
	<li>The rtglib routines now use their own random number generator
		sequence.<br>
		Files affected: ~ns/tcl/rtglib/route-proto.tcl,
				~ns/tcl/rtglib/dynamics.tcl.
	<li>The Tcl level random number generator procedures use the
		defaultRNG directly.<br>
		Fiels affected: ~ns/tcl/lib/ns-random.tcl.
	</ul>
	</P>

  <LI><B><A HREF="http://www.isi.edu/~johnh/">[johnh]</A></B>
       <b>Tue Dec 30 12:44:23 PST 1997</b><br>
       CBR changes (finish method) reinstalled
       (they were accidently removed).

   <LI><B><A HREF="http://www.cs.berkeley.edu/~padmanab/">[VNP]</A></B> <B>Thu Dec 25 13:23:35 PST 1997</B><BR>
</LI>
<UL>
<LI> Added the "corrected" timestamp echo algorithm mentioned in
TCP/IP Illustrated, Vol. 2, page 870. This algorithm is enabled
only if ts_echo_bugfix_ is true (it is disabled by default).
<LI> Files modified: tcp-sink.{cc,h}, tcp-asym-sink.cc 
     tcl/lib/ns-default.tcl 
</UL>
<LI><B><A HREF="http://www.cs.berkeley.edu/~padmanab/">[VNP]</A></B> <B>Wed Dec 24 16:59:44 PST 1997</B><BR>
</LI>
<UL>
<LI> Added tcp-session.{cc,h} (which implement TcpSessionAgent). 
<LI> Restructured IntTcpAgent to be a bare-bones TCP that only implements an
     ordered data stream abstraction. Congestion control and loss 
     detection/recovery are done by TcpSessionAgent with the help of CorresHost.
<LI> Added some test files for tcp-fs, tcp-asym, tcp-asym-fs and tcp-int
     to tcl/ex/tcp-fs. These still need to be cleaned up.
</UL>

  <LI><B><A HREF="http://www.isi.edu/~johnh/">[johnh]</A></B>
       <b>Fri Dec 19 16:14:20 PST 1997</b><br>
       A rate-based pacing test suite.

<LI><B><A HREF="mailto:bajaj@parc.xerox.com">[SB]</A></B>
<B>Fri Dec 19 12:09:25 PST 1997</B><BR>
</LI>
<UL>
<li>Changed ns-node.tcl and classifier.cc so that the classifier
slot-table can be reused  
<li>Added default shift/mask in tcl/lib/ns-default.tcl and config.h
which would make it easier to configure a simulation with a different
kind of addressing.
<li>Added ns at-now functionality  in ns-lib.tcl
<li>Added a code line to fill up ch-&gt;timestamp in the function
allocpkt in agent.cc
<li>Changed declaration of gettimeofday in rng.cc to make it work on Solaris
<li>Added warning messages in timer-handler.cc before abort() in
functions cancel and sched 
</UL>

<LI><B><A HREF="http://www.cs.berkeley.edu/~mccanne">[SM]</A></B>
<B>Sun Aug 10 15:11:27 PDT 1997</B><BR>
</LI>
<UL>
<LI>Added doc-hdr.html for otcldoc.  This html stub is included
at the top of index.html from the otcldoc output.
We still need to create a Makefile rule for running otcldoc,
but in the meantime you can run it manually as follows:
<pre>
	../tclcl/otcldoc -h doc-hdr.html tcl/*/*.tcl tcl/*/*/*.tcl
</pre>
<li> Fixed up some of the formatting in this change history.
</UL>

<LI><B><A HREF="http://www.cs.berkeley.edu/~elan">[EA]</A>
Fri Nov 28 19:13:31 PST 1997
</b>
<br>
<ul>
<li> Fixed up scuba demos to work with new nam.
<li> Fixed bug in namsupp where queues weren't being outputed.
</ul>

  <LI><B><A HREF="http://www.isi.edu/~johnh/">[johnh]</A> Sun Dec  7 16:44:39 PST 1997</b><br>
       A first cut at the Vegas test suite.
       Tests are very similar to ns-1.4
       (after recv_newack_helper breakage was repaired),
       but are not quite identical
       (probably because of retransmit timer changes).

  <LI><B><A HREF="http://www.isi.edu/~johnh/">[johnh]</A> Fri Dec  5 17:41:15 PST 1997</b><br>
       CBR advance and advanceby commands and the done method
       added and documented.  Their usage is analogous to Tcp's.

       <p>
       Also session-rtp.tcl's bw_parse now handles more cases
       like tclcl's atof_bw and added a time_parse.

<LI><B><A HREF="http://www.cs.berkeley.edu/~padmanab/">[VNP]</A></B> <B>Wed Nov 26 21:57:26 PST 1997</B><BR>
</LI>
<UL>
<LI> Added a new member function REDQueue::pickPacketForECN() which is called when
the RED algorithm decides to send an ECN notification. By default, this function
picks the incoming packet.
<LI> SemanticREDQueue calls the pickPacketForECN() function defined in 
SemanticPacketQueue, which picks a packet uniformly at random.
<LI> Replaced the check $type == "RED" in ns-lib.tcl with one that just looks for
the string "RED" in $type. This is to accomodate derived classes of REDQueue
such as SemanticREDQueue.
</UL>

  <LI><B><A HREF="http://www.cs.berkeley.edu/~hari">[hari]</A></B>
       <b>Tue Nov 18 17:22:12 PST 1997</b> <br>
	<ul>
     <LI>  Multi-state error models and restructuring of OTcl support
     code in tcl/ex/ns-errmodel.tcl (ns-ber.tcl now obsolete).  
     <LI> Some changes to LAN support code; in particular added code to have
          different types of LL protocols on the same LAN.<br>
	</ul>
	Files: errmodel.{cc,h}, ns-errmodel.tcl, ns-lan.tcl,
	ns-default.tcl, ns-lib.tcl, snoop.tcl, (removed) ns-ber.tcl
</UL>
<P>
<HR></P>

<H3><A HREF="http://www-mash.cs.berkeley.edu/dist/vint/ns-src-2.1b1.tar.gz">ns-2.1b1</A> November 11, 1997</H3>

<P> Release to incorporate tracing features for nam-1.0a2. This release is CVS tagged with NS_2_1B1 </P>

<UL>
  <LI><B><A HREF="http://www.isi.edu/~kkumar/">[SK]</A></B>
       <b>Tue Nov 11 18:29:44 PST 1997</b> <br>
       validate now runs only v2 tests.
       There's a new script validate-v1 to run v1 tests.
     </LI>
  <LI><B><A HREF="http://www.isi.edu/~kannan/">[KVa]</A></B>
	<b>Tue Nov 11 12:40:44 PST 1997</b>
	<br>
	Minor updates:
	<ul>
	<li> Fix Simulator constructor to invoke parent constructor last,<br>
		Also invoke use-scheduler instead of creating one directly,
	<li> Fix use-scheduler to be more careful about instance variables,
	<li> Add scheme for SRM agents to send log-scaled session messages
		based on groupsize, rather than fixed periodic messages,<br>
		Use by setting
		``Agent/SRM set sessionFunction_ "SRM/session/log-scaled"''
	</ul>
  <LI><B><A HREF="http://www-nrg.ee.lbl.gov/kfall/">[kfall]</A></B>
       <b>Mon Nov 10 16:54:52 PST 1997</b><br>
       Update to ns-lib to have an intf to allocating and attaching flow
       monitors.  Add this to the red test suite so that it may now re-
       produce what it did for ns1.<br>
       Finish the v2 CBQ test suite.  Validated output is still lacking.

  <LI><B><A HREF="http://www.isi.edu/~johnh/">[johnh]</A></B>
       <b>Mon Nov 10 15:54:54 PST 1997</b><br>
       Configuration for tcl/tk changed to search for tcl/tk-8.0
       and fall-back on 7.6/4.2.
       The builder is responsible to make sure that the same
       tcl/tk is used to build otcl, tclcl, and ns.
       If you have both versions and want to force the old one,
       configure --with-tcl-ver=7.6 and --with-tk-ver=4.2
       (or --with-tcl=/full/path/to/tcl7.6 etc.).

  <LI><B><A HREF="http://www.cs.berkeley.edu/~hari">[hari]</A></B>
       <b>Wed Nov  5 20:44:32 PST 1997</b> <br>
	<ul>
     <LI>  Massive changes to error model structures and error generation to make 
	it work correctly.  Three kinds of error models -- packet-based, 
	byte-based, and time-based.  Support code is in ns-ber.tcl (some common 
	error models).  <br>
	Files: errmodel.cc, errmodel.h
     <LI> Mods to snoop protocol incl. very preliminary first cut at 	
	congestion vs. corruption losses.  Updated example script in 
	tcl/ex/snoop.tcl (also uses util.tcl in the same directory).
       </ul>    

  <LI><B><A HREF="http://www.isi.edu/~kkumar/">[SK]</A></B>
       <b>Wed Nov  5 19:07:12 PST 1997</b> <br>
       Major bug fixes made to detailedDM multicast routing protocol 
       implementation.
       Added example scripts and documentation.
       Files affected: tcl/mcast/{detailedDM.tcl, timer.tcl}
       Files added: tcl/ex/newmcast/{detailedDM1.tcl,
       detailedDM1-nam.tcl, detailedDM2.tcl, detailedDM2-nam.tcl}
     </LI>

  <LI><B><A HREF="http://www.isi.edu/~johnh/">[johnh]</A></B>
       <b>Wed Nov  5 19:03:00 PST 1997</b><br>
       Validate changed to detect and report failed tests.

  <LI><B><A HREF="http://www.isi.edu/~johnh/">[johnh]</A></B>
       <b>Wed Nov  5 18:29:13 PST 1997</b><br>
       Agent/TCP set restart_bugfix_ is back to true by default
       (but not in v1-mode).
       ./test-all::telnet and ./test-all-red::red_twowaybytes:
       both changed (very slightly) and were updated.

  <LI><B><A HREF="mailto:huang@isi.edu">[PH]</a></b>
       <b>Mon Nov  3 15:59:56 PST 1997</b><br>
       Checked in the codes to improve SessionSim scalibility and to enable
       multiple loss modules per tree.
       Files changed: sessionhelper.cc, tcl/session/session.tcl, 
       tcl/ex/newmcast/session3.tcl
     </LI>
  <LI><B><A HREF="http://www.isi.edu/~kkumar/">[SK]</A></B>
       <b>Wed Oct 29 23:22:24 PST 1997</b> <br>
       Checked in new multicast code that adapts to network dynamics
       and supports LAN topologies
       Files added: tcl/mcast/{detailedDM.tcl, timer.tcl}
       (Copied tcl/ex/timer.tcl to tcl/mcast/timer.tcl)
     </LI>

  <LI><B><A HREF="http://www.isi.edu/~johnh/">[johnh]</A></B>
       <b>Tue Oct 28 15:04:32 PST 1997</b><br>
       Some test suite work:
       <ul>
	 <li> validate:  a new program in the top directory which runs
	      all known test suites.
	 <li> bin/fix_flow_id:  sets flow-id to source/dest, or min
	      of the two.
	    The program raw2xg graphs trace output,
	    optionally putting different flows into ``bands''
	    (when invoked with -s 0.01 -m 90).
	    It wasn't clear what the definition of a ``flow'' was:
	    was it the flow-id or the source?
	    Kannan changed raw2xg to use flow-id (the Right Thing---that's
	      why we have flow-id, isn't it?).
	    This program (fix_flow_id) is the glue needed to map
	    source or destination into flow id for those
	    scripts that prefer banding based on sources.
	 <li> test-suite-tcp.tcl was fixed to use fix_flow_id,
	      making it work (it had been broken since 22-Oct-97).
       </ul>

  <LI><B><A HREF="http://www.isi.edu/~johnh/">[johnh]</A></B>
       <b>Mon Oct 27 18:52:25 PST 1997</b><br>
       Agent/TCP set restart_bugfix_ =&gt; false
       (temporarily).

  <LI><B><A HREF="http://www.cs.berkeley.edu/~hari/">[hari]</A></B>
       <b>Sat Oct 25 23:24:56 PDT 1997</b> <br>
	Several changes, including some bug fixes:

       <ul>
	 <li> Added a drop-from-front packet-drop policy to the RED and 
DropTail queue classes.  DropTail now has 2 kinds of dropping policies
(drop-tail, of course; and drop-front_) and RED has 3 (drop-tail_, 
which is the default; drop-rand_; and drop-front_). <br>
Files: drop-tail.{cc,h}, red.{cc,h}

	 <li> TCP updates RTT from an ack only if no_ts_ flags is NOT 
set in packet header (it's usually not set, unless there's an ack reconstructor en route, see below).  Also added TCP trace format 
control from Tcl, and derived TCP classes can define their own trace function. <br>
Files: tcp.{cc,h}
	
	 <li> Added ack-recons.{cc,h} as a TCP ack reconstructor object (first cut).  Sits on other end of constrained reverse link and intersperses (reconstructs) acks to the TCP source.  Typically used in conjunction with schemes like ack filtering for asymmet

ric networks. <br>
Files: ack-recons.{cc,h}, tcl/lib/ns-queue.tcl
	
	<li> Tracing tcp-asym-specific variables; controlling parameters from Tcl, fix for ACC to work with ECN.  Added new test script with many changes from the previous version. <br>
Files: tcp-asym.cc, tcp-asym-sink.cc, tcl/ex/asym/asym.tcl, tcl/ex/asym/util.tcl
	
	<li> Modified output of telnet test to warn about irreproducibility.  Modified test suite to reflect config changes of RED gateways.  <br>
Files: test-all, test-suite.tcl
	
	<li> Some bug fixes and other changes in Mac/Multihop code. <br>
Files: mac-multihop.{cc,h}, tcl/lan/ns-mac.tcl

	<li> Semantic packet queues: various bug fixes, memory leak fixes, mods for ack reconstructors, random drops, other configurational changes (control from Tcl). <br>
Files: semantic-packetqueue.{cc,h}, queue.cc
	
       </ul>
     </LI>

  <LI><B><A HREF="http://www.isi.edu/~kannan/">[KVa]</A></B>
	<b>Thu Oct 23 13:09:11 PDT 1997</b>
	<br>
	SRM fixes, from Christoph Haenle &lt;christoph@starburst.com&gt; and
	Haobo Yu &lt;haoboy@isi.edu&gt;.

  <LI><B><A HREF="http://www.isi.edu/~johnh/">[johnh]</A></B>
       <b>Wed Oct 22 21:20:57 PDT 1997</b><br>
       Some ns TcpAgent changes:

       <ul>
	 <li> restart_bugfix_ is on by default
	      (and turned off in ns-compat)

	 <li> finish_ command is been replaced by the done method
	      (which is now documented in the man page)
	      This saves 100 bytes of memory per TCP object.

	 <li> there are now macros T_{RTT,SRTT,RTTVAR}_BITS which symbolically say
	      how these fixed point values are represented
	      (if someone thinks C++ constants would be better,
	      I'd love to see them changed)
	      (I only checked tcp.cc for these magic numbers.)
       </ul>
     </LI>

  <LI><B><A HREF="http://www.isi.edu/~johnh/">[johnh]</A></B>
       <b>Wed Oct 22 21:18:33 PDT 1997</b><br>
       tcp-rbp bug fixes for Agent/TCP/Reno/RBP:
       prevent bursting after pacing,
       properly compute pacing interval.
       New rbp_demo.tcl.
     </LI>

  <LI><B><A HREF="http://www.isi.edu/~kannan/">[KVa]</A></B>
	<b>Wed Oct 22 13:58:15 PDT 1997</b><br>
	Minor cleanup following the crash.

  <LI><B><A HREF="http://www-nrg.ee.lbl.gov/kfall/">[KF]</A></B>
       <b>Mon Oct 20 19:56:51 PDT 1997</b><br>
    <UL>

    <LI> The tcp-full.cc is updated to incorporate some of (but not yet all of)
       the changes from Kathie Nichols/Van. 
    <LI> the test-suite-full.tcl uses misc.tcl and topologies.tcl 
    <LI> test-suite-full.tcl also uses 2 new tcl programs:<br>
                bin/tcpfull-summarize.tcl<br>
                bin/cplot.tcl<br>
  
       The first file grinds on {for now} full tcp traces and produces generic
       output files containing traces of segments, acks w data, pure acks, and
       drops.  <br>

       The cplot.tcl file is more generic, and takes a set of pairs of
       plot_file_names/labels, plus a type of graphics program, and a title.
       It produces graphics using either gnuplot or xgraph, where this
       decision is based on the assignment of the "NSOUT" envariable.<br>

       So, if you say "setenv NSOUT xgraph" and run test-all-full
       (or do some other invocation of ./ns test-suite-full.tcl xxx), you
       will get xgraph windows.  If you set NSOUT to gnuplot, you will get
       x11 gnuplots in front of you.  Eventually I will extend this to 
       produce postscript for inclusion in documents; as it was sort of 
       put together with extensibility in mind.<br>
     </UL>
  <LI><B><A HREF="http://www.isi.edu/~kkumar/">[SK]</A></B>
       <b>Sun Oct 19 23:56:51 PDT 1997</b><br>
       Checked in multicast validation tests.
       Files added: test-all-mcast, test-all-template-mcast, 
       test-suite-mcast.tcl, test-output-mcast/{CtrMcast1.Z, DM1.Z, DM2.Z,
       DM3.Z, DM4.Z}
     </LI>


  <LI><B><A HREF="http://www.isi.edu/~johnh/">[johnh]</A></B>
       <b>Sat Oct 18 20:28:37 PDT 1997</b><br>
       Random number seed starts at 1;
       RBP now uses srtt rather than rtt;
       configure now checks for perl.
     </LI>

  <LI><B><A HREF="http://www-nrg.ee.lbl.gov/floyd/">[SF]</A></B>
      <b>Sat Oct 18 14:39:35 PDT 1997</b><br>
      <UL>
      <LI>Made a bugfix so that maxburst now works correctly with
      SACK1 TCP.
      <LI>Automatic validation tests in tcl/test now include
      the following:  test-all-red, test-all-sack, test-all-schedule,
      test-all-tcp, test-all-red-v1, test-all-cbq-v1, test-all-sack-v1,
      and test-all-v1.
      </UL>
  <LI><B><A HREF="http://www-nrg.ee.lbl.gov/kfall/">[KF]</A></B>
      <b>Fri Oct 17 11:29:10 PDT 1997</b><br>
      First cut at changing the fullTCP test suite over to the
      "simplified" version (using tcl/test/misc.tcl).
      </LI>
  <LI><B><A HREF="http://www-nrg.ee.lbl.gov/floyd/">[SF]</A></B>
      <b>Fri Oct 10 19:29:10 PDT 1997</b><br>
      A few more small changes to code for retransmit timers.
      Added new configuration variables for setting initial values
      for retransmit timers.  (The CVS log for these changes 
      and other changes made after Oct. 2 was wiped out in the 
      disk crash of Oct. 10.)
      </LI>
  <LI><B><A HREF="http://www-nrg.ee.lbl.gov/floyd/">[SF]</A></B>
      <b>Wed Oct  8 21:16:36 PDT 1997</b><br>
      <UL>
      <LI> Added tracing of number of transmitted and retransmitted packets
      to TCP,
      and added a new variable for window initialization after a timeout,
      for research on TCP window initialization, both based on
      code contributed by Kathie Nichols and Van Jacobson.
      <LI> With Kevin Fall, made the following changes to
      TCP's retransmit timers:  The default is now that average
      roundtrip times are recomputed once a window, not once every
      packet;  changed initial values of retransmit timers;  brought
      the functionality more in line with that of actual implementations.
      </UL>
  <LI><B><A HREF="mailto:huang@isi.edu">[PH]</a></b>
       <b>Wed Oct  8 17:22:44 PDT 1997</b><br>
       Added simple queue and ttl checker modules for SessionSim
     </LI>
  <LI><B><A HREF="http://www-nrg.ee.lbl.gov/floyd/">[SF]</A></B>
      <b>Mon Oct  6 13:48:10 PDT 1997</b><br>
      Bug fix for ns-compatibility mode for CBQ.
      Code contributed by Greg Minshall, minshall@acm.org.
      </LI>
  <LI><B><A HREF="http://north.east.isi.edu/~mjh/">[mjh]</A></B>
       <b>Fri Oct  3 12:59:37 EDT 1997</b><br>
       Changed nam tracefile code to generate more Tcl-like format
     </LI>
  <LI><B><A HREF="http://www.isi.edu/~johnh/">[johnh]</A></B>
       <b>Thu Oct  2 13:46:29 PDT 1997</b><br>
       Default scheduler changed to List in backwards compatibilty mode.
     </LI>

  <LI><B><A HREF="http://www-nrg.ee.lbl.gov/floyd/">[SF]</A></B>
  <b>Wed Oct  1 14:41:13 PDT 1997</b><BR>
  Changed the default RED behavior when queue is full from random-drop
  to drop-tail.
  </LI>
  <LI><B><A HREF="http://www-nrg.ee.lbl.gov/floyd/">[SF]</A></B> 
  <b>Mon Sep 29 16:51:33 PDT 1997</b><BR>
  Added an ECN-Capable flag to the packet header (ecn_capable_), and
  modified tcp.cc and red.cc to set and check it.
  </LI>

  <LI><A HREF="mailto:huang@isi.edu">[PH]</A> <b>Fri Sep 19 15:19:08 PDT 1997</b><br>
  <UL>
  <LI>modified SRM example scripts, tcl/ex/srm-*.tcl, to use error model instead of rtmodel.
  <LI>added equivalent SRM example scripts using session level simulator. tcl/ex/srm-*-session.tcl
  <LI>made changes to errmodel.cc to add specific error model for the SRM scripts.
  <LI>made changes to tcl/session/session.tcl so it parses link bandwidth and delay in various units.
  <LI>(previously done)fixed a bug between rtmodel and DM multicast.
  <LI>(previously done)fixed API in the multicast example scripts.
  </UL>
  </LI>
</ul>

<P>
<HR></P>

<H3><A HREF="http://www-mash.cs.berkeley.edu/dist/vint/ns-src-2.0.tar.gz">ns-2.0</A>
Sep 10, 1997</H3>

<p>Release for the SIGCOMM tutorial.

<UL>

  <LI><B><A HREF="http://catarina.usc.edu/~haoboy/">[haoboy]</A></B>
  <b>Thu Sep 11 18:35:24 PDT 1997</b><br>
  Support for Mark's new nam trace file format. All events except routing are 
  supported. It requires updates of Tcl.cc, which is already checked in. The 
  document of new trace file format is 
  <a href="http://catarina.usc.edu/~haoboy/trace-format.ps">here</a>. An 
  example script is at <CODE>tcl/ex/nam-example.tcl</CODE><BR>
  Also minor changes to nam-1 to make down link more visible.
  </LI>

  <LI><B><A HREF="http://www.isi.edu/~johnh/">[johnh]</A>
       and <a href="http://www.isi.edu/~haoboy/">[haoboy]</a>
       Wed Sep 10 22:51:33 PDT 1997</b><br>
       2.0 release.
     </LI>

  <LI><B><A HREF="http://www.isi.edu/~kannan/">[KVa]</A> Tue Sep  9 23:48:19 PDT 1997</B><BR>
	Moved drophead_ to the base simplelink class.
	Added $link ttl-drop-trace, linkfail-drop-trace, and transit-drop-trace.
	usage is as:
<pre>        $link ttl-drop-trace [FilePointer]</pre>
	If FilePointer is not specified, it defaults to using the drophead_

	<p> Also made ttl.cc, delay.cc and dynalink.cc use drop-targets uniformly
	</LI>

<LI><B><A HREF="http://www.cs.berkeley.edu/~padmanab/">[VNP]</A></B> <B>Wed Sep 10 00:58:35 PDT 1997</B><BR>
</LI>

tcp-newreno.cc: moved the code in recv() that handles the case of partial new acks
into a separate function called partialnewack_helper(). This allows derived classes,
such as tcp-fs, to do redefine this function to do additional processing upon 
receiving a partial new ack. Files affected are tcp-newreno.cc, tcp-fs.cc and
tcp.h.


  <LI><B><A HREF="http://www.isi.edu/~kannan/">[KVa]</A> Tue Sep  9 23:48:19 PDT 1997</B><BR>
	Minor updates to rtglib, moved things into rightful places.
	cleanedup the binaries.
	</LI>

  <LI><B><A HREF="http://www.isi.edu/~johnh/">[johnh]</A> Mon Sep  8 14:54:58 PDT 1997</b><br>
       Changed default scheduler from List to Calendar.
       Many test suites changed in minor ways due to different
       scheduling of packets with identical timestamps.
       Test outputs updated:
       bug, delayed, no_bug, phase, phase1, reno2, reno3, reno5, renoA, stats, tahoe3, tahoe4, telnet, timers.
     </LI>

  <LI><B><A HREF="http://www.isi.edu/~johnh/">[johnh]</A> Mon Sep  8 14:06:47 PDT 1997</b><br>
       Changed default random number generator to internal rng
       (rather than external srand/random).
       Updated test-output/{telnet,reno4,reno4a,phase2}.
       Random number generation should now be consistent on all platforms.
     </LI>

  <LI><A HREF="mailto:huang@isi.edu">[PH]</A> Mon Sep  8 12:45:09 PDT 1997<br>
      Check in the entire automatic loss dependency insertion module.  See
      tcl/ex/newmcast/session3.tcl for an example.
      Files changed: tcl/session/session.tcl, errmodel.cc, tcl/ex/newmast/session3.tcl
  </LI>

  <LI><B><A HREF="http://www.isi.edu/~johnh/">[johnh]</A> Mon Sep  8 11:16:53 PDT 1997</b><br>
       Updated test-output/{phase1,reno2,reno3,reno5,timers}
       wrt Kevin's timeout change from Monday, August 25.
     </LI>

<LI><A HREF="mailto:huang@isi.edu">[PH]</A> <B>Fri Sep  5 21:21:11 PDT 1997<BR></B>
<UL>
<LI> Ported Scalable Session Messages(SRM-SSM) codes from <A HREF="mailto:puneetsh@catarina.usc.edu">Puneet Sharam</A>
<LI> Also ported selective error models for SRM-SSM test scripts.
Files changed: errmodel.[cc,h]
<LI> Added helper functions to trace memory consumption in stack 
and heap area.  Users need to compile ns with -DMEMDEBUG_SIMULATIONS 
in Makefine DEFINE field. Example script:tcl/ex/newmcast/cmcast-50.tcl
Files added: mem-trace.h. Files changed: tclAppInit.cc scheduler.cc ns-lib.tcl
<LI> Fixed a minor dense mode multicast bug
<LI> Changed duplex-link-of-interfaces in tcl/ex/newmcast scripts to 
duplex-link
</UL>

  <LI><B><A HREF="http://www.isi.edu/~johnh/">[johnh]</A> Fri Sep  5 13:25:45 PDT 1997</B><br>
       Converted --with-Tcl to --with-TclCL
       (<em>incompatible change wtih 2.0b17</em>).
     </LI>

<LI><B><A HREF="http://www.cs.berkeley.edu/~hari/">[hari]</A></B> <B>Thu Aug 28 11:43:13 PDT 1997</B><BR>
</LI>
Mainly 2 bug fixes:<br>
1. Accounting of ack_count in filteracks<br>
2. Big memory leak because packets weren't being freed correctly in filter.<br>
Files affected: semantic-packetqueue.{cc,h}
</UL>

<UL>
<LI><B><A HREF="http://www.cs.berkeley.edu/~padmanab/">[VNP]</A></B> <B>Mon Aug 25 20:52:30 PDT 1997</B><BR>
</LI>

<UL>
<LI> Added tcp-fs.cc: TCP enhanced with "fast start" to enable a connection to quickly
     resume after an idle period. A more detailed description can be found in the
     source file itself.
<LI> Added semantic-red.cc: a version of RED that allows certain operations
     (at present, pickPacketToDrop()) to be dependent on higher-layer semantics.
<LI> tcp{,-fack}.cc: Added a new case ("3") to the switch in closecwnd() that
     resets cwnd_ to 1 but leaves ssthresh_ unchanged. This is invoked by the
     TCP timeout code if there is no outstanding data and if restart_bugfix_
     is set.
<LI> tcp.cc: If we are just coming out from an idle period, rtx timer is forced
     to be set again in output().
<LI> tcp(,-reno,-newreno}.cc: moved code that handles non-rtx timeout events into
     a new function timeout_nonrtx(). This enables derived classes to make additions
     or modifications to the handling of non-rtx timeouts without being forced to
     duplicate the rtx timeout code.
<LI> tcp-fack.cc: fack_ is updated in oldack() as well.
</UL>

  <LI><B><A HREF="http://www-nrg.ee.lbl.gov/kfall/">[Kevin Fall]</A> Mon Aug 25 13:27:11 PDT 1997</B><br>
	Change timeout initialization in tcp.cc:rtt_timeout().
	Old code:
		((srtt&gt;&gt;3)+rttvar)*tick
	new code
		((srtt&gt;&gt;3)+rttvar+1)*tick
	Fix contributed by Kathie Nichols w/Van.
     </LI>

  <LI><B><A HREF="http://www.cs.berkeley.edu/~hari/">[hari]</A> Sun Aug 24 18:10:50 PDT 1997</B><br>

	TCP with integrated congestion control and loss recovery.
	This helps to perform congestion control and loss recovery
between communicating hosts on a <i>per-host</i>, rather than <i>per-connection</i>, basis.
This is beneficial for Web-like workloads and in other situations
where multiple, logically different TCP transfers may be in progress
between two hosts simultaneously.  With IntTcpAgent, these logically
different connections would share the same cwnd, srtt, etc. for better
congestion control; in addition, data-driven loss recovery is improved
as well.  Support for "proxy" hosts, acting on behalf of many users,
is also included. <br>

Files:  tcp-int.{cc ,h} : Integrated TCP agent. <br>
        chost.{cc,h} : Per-host congestion control and loss recovery.
                       The relevant TCP control block variables are
                       maintained on w.r.t. each "Corresponding Host".<br>
        nilist.{cc,h} : Generic linked list routines.<br>
   </LI>

  <LI><B><A HREF="http://www.isi.edu/~johnh/">[johnh]</A> Tue Aug 19 15:27:11 PDT 1997</B><br>
       Initialization bugs in Vegas fixed.
       Code contributed by
       <a href="http://www-scf.usc.edu/~larse/">Lars Eggert</a>.
     </LI>

  <LI><B><A HREF="http://www.isi.edu/~johnh/">[johnh]</A> Tue Aug 19 13:26:32 PDT 1997</B><br>
       configure.in.Tcl -> configure.in.TclCL
     </LI>

  <LI><B><A HREF="http://www.isi.edu/~johnh/">[johnh]</A> and <A HREF="mailto:breslau@parc.xerox.com">[LB]</A> Fri Aug 15 16:18:39 PDT 1997</B><br>
       New random number generator (rng.{cc,h}).
       Code to use the RNG is in Random.{cc,h} but currently ifdef'ed out.
     </LI>

<LI><B><A HREF="http://www.cs.berkeley.edu/~elan">[EA]</A> 
Thu Aug 14 11:19:36 PDT 1997</b><br>
Added 'flash_annotate t d m' helper function that flashes
a session level message m in the nam window starting at time t for duration d.

<LI><A HREF="http://www.cs.berkeley.edu/~tomh">[TH]</A> <B>Wed Aug 13 17:20:00 PDT 1997<BR></B> Unified the way that timers are implemented in ns, by using
the abstract timer base class defined in timer-handler.h.  This simplifies
the Agent base class by removing the timer methods there.
Files affected:  agent.h, agent.cc, tcp.h, tcp.cc, tcp-sink.h, tcp-sink.cc,
tcp-sack1.cc, tcp-asym.cc, tcp-asym-sink.cc, tcp-fack.cc, tcp-vegas.cc,
tcp-full.h, tcp-full.cc, cbr.h, cbr.cc, udp.h, udp.cc, rtcp.cc, rtp.cc. </LI>

<LI><B><A HREF="http://www.isi.edu/~johnh/">[johnh]</A> Tue Aug 12 10:30:26 PDT 1997<br>
</B>class Samples now has a newpoint tcl command (code contributed by <a href="http://www.isi.edu/~faber">Ted Faber</a> <faber@isi.edu>)
     </LI>

<LI><B><A HREF="http://www.isi.edu/~johnh/">[johnh]</A> Tue Aug 12 16:19:51 PDT 1997<br>
</B>Links now have a (documented!) trace-callback option to trace to a callback function.
     </LI>

<LI><B><A HREF="http://www-nrg.ee.lbl.gov/kfall">[KF]</A></B>
<B>Mon Aug 11 14:00:27 PDT 1997</B><BR>
</LI>
<UL>
<LI>Fixed (yet another) problem with sack/tcp-sink where the # of sack blocks
initialized properly.  (reported by Venkat Padmanabhan).
<LI>Changed CBQ so that maxidle_ can be automatically determined, as in ns-1
<LI>Fixed buffer overflow bug in flow monitor, caused by using
tcl.resultf("%s", ptr) instead of tcl.result(ptr), where ptr
points to a big string.
</UL>

<LI><B><A HREF="http://www.cs.berkeley.edu/~mccanne">[SM]</A></B>
<B>Sun Aug 10 15:11:27 PDT 1997</B><BR>
</LI>
<UL>
<LI>Fixed up PacketManager initialization code (in ns/lib/ns-packet.tcl)
so that modules that define packet header classes
can be safely ommitted from
the build.  Previously, an error would occur if the corresponding
class didn't exist.  This new structure catches
the case where the tcl code is out of date with respect to 
a packet header defined in C++.  As a result, two new bugs were
found and fixed: the ``aSRM'' and ``Tap'' packet header classes
previously did not have the appropriate initialization code in
ns-packet.tcl.
</UL>

<LI><A HREF="mailto:ahelmy@usc.edu">[AH]</A> <B>Sun Aug 10 02:05:12 PDT 1997<BR></B>
<UL>
<LI>Major changes and fixes to the pim-sm code in tcl/pim; pim-init.tcl 
added trace functions, pim-messagers.tcl tracing for protocol actions, 
pim-mrt.tcl updates, pim-recvr/sender.tcl support for asserts and 
prune-overrides (for LAN operation), pim-vifs.tcl added joining 
source-group pairs for source-specific trees (leave fix, also).
<LI>Added a first test-suite for pim-sm in 
tcl/ex/newmcast/pim-test-suite-1.tcl. This covers 6 basic scenarios for 
the pim protocol behavior to stress pim. [note: pim1.tcl does not work 
due to the way CBR source allocates packets, and interaction with pim 
encapsulation].
<LI>Added functions for clearing mcast forwarding caches in 
classifier-mcast.cc.
<LI>Major change to tcl/mcast/McastProto.tcl to support well-known-groups 
for local multicast on LANs. Also changes to ns-mcast.tcl for various 
fixes and source-group-joins.
</UL>

<LI><B><A HREF="http://www.cs.berkeley.edu/~mccanne">[SM]</A></B> <B>Sat
Aug 09 11:49:33 PDT 1997</B><BR>
</LI>
<UL>
<LI>First cut at port to win32 API (should work under both Windows 95 and NT).
<LI>
This version still limps ... the new Windows makefile
(makefile.vc) needs much more work.
<LI> This rev requires
the latest TclCL (new name for libTcl) since several changes
were required by the fact that Windows file names are case insensitive.
</UL>

<LI><A HREF="mailto:huang@isi.edu">[PH]</A> <B>Thu Aug  7 19:53:17 PDT 1997<BR></B>
<UL>
<LI> Added delay models for session level packet distribution.
Files added: delaymodel.[cc,h]
<LI> Modified structure of 'virtual links'.  Loss and delay modules
can be inserted flexibly.  Example script to insert loss module:
tcl/ex/newmcast/session3.tcl.
<LI> Added helper functions to monitor packets in transit. Example script:
tcl/ex/newmcast/pktintran.tcl
</UL>

<LI><A HREF="http://www.cs.berkeley.edu/~tomh">[TH]</A> <B>Thu Aug 7 12:47:34 PDT 1997<BR></B> Redid tcp-full.cc timers to conform to the C++ timers defined in 
timer-handler.cc. </LI>

<LI><A HREF="mailto:huang@isi.edu">[PH]</A> <B>Mon Aug  4 17:59:32 PDT 1997<BR></B>
<UL>
<LI> Added session level packet distribution(1st pass). 
Files added: sessionhelper.cc, tcl/session/session.tcl, and example 
scripts tcl/ex/newmcast/session*.tcl.
<LI> Modified tcl/ex/mcast.tcl and tcl/ex/newmcast/*.tcl example scripts 
to be consistent with the current API.
</UL>

<LI><A HREF="http://ww-nrg.ee.lbl.gov/kfall">[KF]</A> <B>Thu Jul 31 12:09:34 PDT 1997<BR></B>
<UL>
<LI> add a max bound on the TCP rto (maxrto_), default is 64 sec (like bsd)
<LI> modifications to the compat library to allow constructs of the
form "set ns_foo(bar) 3" to change global defaults.
<LI> add a (hacky) way to support the ns-1 style of creating cbq
classes (i.e. "[new class]") which OTcl really doesn't like much.
<LI> increase wrk_ array in the flow monitor and check bounds on it
</UL>

<LI><A HREF="http://ww-nrg.ee.lbl.gov/kfall">[KF]</A> <B>Tue Jul 29 15:56:34 PDT 1997<BR></B> Fixed bug in TCP Sack sink which made the initialization of
max_sack_blocks unpredictable (changed tcp-sink.{cc,h}).  Also, removed
redundant default for this variable in ns-default.tcl. </LI>
<P>

<LI><A HREF="mailto:breslau@parc.xerox.com">[LB]</A> <B>Tue Jul 29 14:31:34
PDT 1997<BR></B> ported ability to limit the amount of data sent by a CBR source
(maxpkts_) from ns-1 to ns-2. Files changed: cbr.cc, cbr.h.</LI>
</UL>

<P>
<HR></P>

<H3><A HREF="http://www-mash.cs.berkeley.edu/dist/vint/ns-src-2.0b17.tar.gz">ns-2.0b17</A>
Fri, 25 Jul 1997 22:50:34 -0700</H3>

<P>Release for the ns retreat.
This release is CVS-tagged with ``NS_2_0B17''. </P>

<UL>
<LI><B><A HREF="http://www.isi.edu/~johnh/">[johnh]</A> and <A HREF="http://www-nrg.ee.lbl.gov/kfall">[KF]</A>
Fri Jul 25 17:29:12 PDT 1997<BR>
</B>ns-compat now catches access to old default variables (like ns_tcp(window)).
This approach is a stop-gap, eventually we could map the old reads/writes
to the new variables if we think we must. </LI>

<LI><B><A HREF="http://www.isi.edu/~johnh/">[johnh]</A> Fri Jul 25 17:00:00
PDT 1997<BR>
</B>Configure now checks for libTcl-1.0b2. </LI>

<LI><B><A HREF="http://www.isi.edu/~kkumar/">[SK]</A> Fri Jul 25 12:49:36
PDT 1997<BR>
</B>Made modifications to remove MultiSim and MultiNode. Files affected:
ns-lib.tcl, ns-node.tcl, ns-mcast.tcl, CtrMcast.tcl </LI>

<LI><B><A HREF="http://www-nrg.ee.lbl.gov:80/floyd/">[SF]</A></B> <B>Fri
Jul 25 11:18:16 PDT 1997</B><BR>
</LI>

<UL>
<LI>Changed tcp-sack1.cc to correctly use the receiver's advertised window
during Fast Recovery. </LI>
</UL>

<LI><B><A HREF="http://www.cs.berkeley.edu/~padmanab/">[VNP]</A></B> <B>Fri
Jul 25 02:32:43 PDT 1997</B><BR>
</LI>

<UL>
<LI>Added semantic-packetqueue.{cc,h}: a derived class of PacketQueue that
understands higher-layer (e.g., TCP) semantics. To enable the creation
and configuration of a PacketQueue/Semantic object in Tcl, PacketQueue
is now derived from TclObject. </LI>

<LI>tcp*.{cc,h}: Got rid of the return-by-reference functions for the traced
member variables of TcpAgent. </LI>
</UL>

<LI><B><A HREF="mailto:breslau@parc.xerox.com">[LB]</A></B> <B>Thu Jul
24 16:02:27 PDT 1997<BR>
</B>Ported telnet source from ns-1 to ns-2. new files: telnet.{cc,h}. Changed
files: tcp.{cc,h}, ns-agent.tcl, ns-source.tcl, ns-default.tcl <BR>
</LI>

<LI><B><A HREF="http://www.cs.berkeley.edu/~padmanab/">[VNP]</A></B> <B>Thu
Jul 24 02:08:31 PDT 1997</B><BR>
</LI>

<UL>
<LI>tcp.{cc,h}: Got rid of the old-style tracing and replaced it with Giao's
TracedVar stuff. It is <I>no longer necessary</I> to use the return-by-reference
functions to refer to the traced variables (e.g., cwnd() instead of cwnd_),
but this will still work for now. </LI>
</UL>

<LI><B><A HREF="http://www.cs.berkeley.edu/~padmanab/">[VNP]</A></B> <B>Tue
Jul 22 02:13:12 PDT 1997</B><BR>
</LI>

<UL>
<LI>tcp.cc: finish() is called whenever there is no unacknowledged data
</LI>

<LI>tcp{,-reno,-newreno,-fack}.cc: </LI>

<UL>
<LI>rtx timer is NOT backed off at the time of fast retransmission </LI>

<LI>during fast recovery mode, we compare new ack with recover_ only if
recover_cause_==1 </LI>
</UL>

<LI>tcp-fack.h: separate file for definition of FackTcpAgent to enable
derived classes </LI>

<LI>tcp-nonfifo.cc: added support for priority drop </LI>

<LI>red.cc: moved code that picks drop victim into pickPacketToDrop().
This allows derived classes to use a different algorithm for this. </LI>

<LI>queue-monitor.{cc,h}: option to exactly trace queue length (rather
than just sample it) </LI>
</UL>

<LI><B><A HREF="http://www.isi.edu/~kannan/">[KVa]</A></B> <B>Thu Jul 17
08:16:16 PDT 1997<BR>
</B>- srm.cc/srmAgent::recv() did not free packets appropriately, causing
wastage of memory for large simulations. (Noted by <A HREF="mailto:puneetsh@catarina.usc.edu">Puneet</A>)<BR>
- streamlined bin/raw2gp to attempt to unify the raw2* programs. </LI>

<LI><B><A HREF="http://www.isi.edu/~kannan/">[KVa]</A></B> <B>Tue Jul 15
14:44:19 PDT 1997<BR>
</B>Minor bug fixes in rtglib, and raw2xg. </LI>

<LI><B><A HREF="http://www.cs.berkeley.edu/~tomh">[TH]</A></B> <B>Mon Jul
14 15:05:09 PDT 1997<BR>
</B>Ported fulltcp.cc, fulltcp.h, and test-suite-fulltcp.tcl. New files:
tcp-full.cc, tcp-full.h, and tcl/test/test-suite-full.tcl. Changed files:
trace.h, trace.cc, tcp.h, ns-compat.tcl, ns-default.tcl, ns-source.tcl.
<BR>
</LI>

<LI><B><A HREF="http://www.isi.edu/~kannan/">[KVa]</A></B> <B>Fri Jul 11
09:53:33 PDT 1997</B></LI>

<P><BR>
Major Updates: SRM </P>

<UL>
<LI>Adaptive Timers as described in <A HREF="http://ftp.ee.lbl.gov/pub/papers/srm.ps.Z">[Floyd
etal. sigcomm '95]</A> <BR>
Files Affected: tcl/mcast/srm-adaptive.tcl (<B>new</B>), srm.cc, srm.h,
tcl/ex/srm-adapt-req.tcl (<B>new</B>), tcl/ex/srm-adapt-rep.tcl (<B>new</B>)
</LI>

<LI>Cleanup of the tracing in srm.tcl </LI>

<LI>Added tcl/mcast/srm-nam.tcl, so that, if sourced, will separate SRM
packets based on the type of packet. Data messages will have flowId_ 0,
session, request and repair messages have flow ids 40, 41, and 42 respectively.
The start number is specified by the global variable, <TT>ctrlFid_</TT>.
</LI>

<LI>Cleanup of the example scripts in tcl/ex. See tcl/mcast/srm.txt for
details. </LI>
</UL>

<LI><B><A HREF="http://www.isi.edu/~kannan/">[KVa]</A></B> <B>Fri Jul 11
09:53:33 PDT 1997<BR>
</B>Minor mods </LI>

<UL>
<LI>Hooks for DelayLink object to have a drop-target. Currently no OTcl
support yet. Should be there when I get around to it... someday... maybe...
<BR>
Files Affected: delay.cc, delay.h </LI>

<LI>Cleanup compile time errors in scheduler.cc, scheduler.h. </LI>

<LI>The default static routing now takes a cost parameter; it is now possible
to do asymetric paths by configuring link costs appropriately. <BR>
Files Affected: route.cc, tcl/lib/ns-lib.tcl </LI>

<LI>Bug fixes to proc gen-map() in tcl/lib/ns-trace.tcl. </LI>

<LI>Fix multicast-rtglib interaction API. <BR>
Files Affected: tcl/mcast/McastProto.tcl, tcl/mcast/ns-mcast.tcl, tcl/mcast/dynamicDM.tcl,
tcl/rtglib/route-proto.tcl. </LI>

<LI>Bug fix to proc all-connectors() in rtglib. Routine did not instance
the appropriate variable. Hence, links did not drop packets in flight when
a link fails (hey, this may be a feature... :-) <BR>
Files Affected: tcl/rtglib/dynamics.tcl. </LI>

<LI><FONT SIZE=-2>Created a *hacky* loss module to fake periodic loss of
packets. (maybe I can sneak it in if I use real small print, and hope no
one notices...).</FONT> </LI>
</UL>

<LI><B><A HREF="http://www.isi.edu/~johnh/">[johnh]</A> Wed Jul 9 15:16:42
PDT 1997<BR>
</B>RBP updates, including Agent/TCP/Reno/RBP. </LI>

<LI><B><A HREF="mailto:breslau@parc.xerox.com">[LB]</A></B> <B>Thu Jul
3 12:37:09 PDT 1997<BR>
</B>Created RandomVariable class, a pure virtual class for random variables,
and derived classes for Uniform, Constant, Pareto, Exponential and HyperExponential
distributions. New files: ranvar.{h,cc}, tcl/ex/ranvar.{tcl,txt}. Changed
files: ns-random.tcl, ns-default.tcl. <BR>
</LI>

<LI><B><A HREF="http://www-nrg.ee.lbl.gov/kfall">[KF]</A> Wed Jul 2 20:37:33
PDT 1997<BR>
</B>Add the &quot;flowmon&quot; module and update supporting scripts in
tcl/rtmechanisms. This module is able to keep per-flow state. A flow is
defined by creating a classifier (typically of the classifier-hash variety)
and giving it to the flowmon. Examples are to be found in the rtmechanisms
directory. Files affected:</LI>

<UL>
<P> </P>

<LI>flowmon.cc -&gt; new functionality </LI>

<LI>tcl/lib/ns-default.tcl -&gt; defaults for Flow and Flowmon </LI>

<LI>tcl/lib/ns-queue.tcl -&gt; rework the way CBQ handles drops </LI>

<LI>tcl/lib/ns-lib.tcl -&gt; add hack to allow specification of a classifier
object with a CBQ or CBQ/WRR queue type when creating a &quot;simplex-link&quot;
</LI>

<LI>Makefile.in -&gt; include flowmon.o </LI>

<LI>FILES -&gt; add flowmon.cc + rtm stuff </LI>
</UL>

<LI><B><A HREF="http://www-scf.usc.edu/~bhuang/">[PH]</A> Fri Jun 27 20:13:23
PDT 1997</B><BR>
</LI>

<UL>
<LI>Added a general mcast control message agent(a 1st pass) to make tracing
easier: prune.[h, cc] </LI>

<LI>Fixed minor bugs in dynamicDM and pimDM </LI>
</UL>

<LI><B><A HREF="http://www-scf.usc.edu/~bhuang/">[PH]</A> Wed Jun 25 18:19:07
PDT 1997</B><BR>
</LI>

<UL>
<LI>Added dynamic DVMRP and PIM-DM multicast: tcl/mcast/[dynamic, pim]DM.tcl
</LI>

<LI>Cleaned up mulicast API(1st pass): tcl/ex/newmcast/mcast[1,2].tcl </LI>
</UL>

<LI><B><A HREF="http://www.isi.edu/~kkumar/">[SK]</A> Mon Jun 23 13:19:15
PDT 1997<BR>
</B>Added man page for ns-2. </LI>

<LI><B><A HREF="http://www.isi.edu/~johnh/">[johnh]</A> Thu Jun 19 20:03:35
PDT 1997<BR>
</B>tcp-rbp and friends added. Rate-based pacing is an experimental addition
to TCP to address the slow-start restart problem. See <http://www.isi.edu/lsam/publications/rate_based_pacing/index.html>for
details. </LI>

<LI><B><A HREF="http://www.isi.edu/~johnh/">[johnh]</A> Thu Jun 19 20:00:51
PDT 1997<BR>
</B>raw2xg updated with more features (better usage and -qs:m: options).
</LI>

<LI><B><A HREF="http://www.isi.edu/~johnh/">[johnh]</A> Thu Jun 19 20:00:28
PDT 1997<BR>
</B>agent-timer.{h,cc} implements timers for agents with classes (rather
than pending_[] and timer_[]). </LI>

<LI><B><A HREF="http://www.cs.berkeley.edu/~gnguyen">[GN]</A> Thursday,
Jun 19 16:03:23 PDT 1997<BR>
</B>Minor enhancement to scheduler to make debugging easier by using the
uid_ field of each event: positive uid_: inside the scheduling queue negative
uid_: NOT in the scheduling queue </LI>

<LI><B><A HREF="http://www.isi.edu/~johnh/">[johnh]</A> Mon Jun 16 17:18:46
PDT 1997<BR>
</B>Added TCP Vegas (ported from Ted Kuo's implementation for ns-v1). Changed
TcpAgent::send to TcpAgent::send_much. </LI>

<LI><B><A HREF="http://www.cs.berkeley.edu/~elan">[EA]</A></B> <B>Mon Jun
16 11:15:45 PDT 1997<BR>
</B>Added simple simulation-level annotation (ns-trace.tcl, trace.cc).
</LI>

<LI><B><A HREF="http://www.cs.berkeley.edu/~gnguyen">[GN]</A> Friday, Jun
13 19:03:23 PDT 1997<BR>
</B><A HREF="http://daedalus.cs.berkeley.edu">Daedalus Research Group</A>
extensions by: <A HREF="http://www.cs.berkeley.edu/~gnguyen">Giao Nguyen</A>,
<A HREF="http://www.cs.berkeley.edu/~hari">Hari Balakrishnan</A>, <A HREF="http://www.cs.berkeley.edu/~padmanab">Venkata
Padmanabhan</A>. </LI>

<UL>
<LI>LAN and wireless networks: </LI>

<UL>
<LI>Link-layer protocols:<BR>
simple stop-and-wait protocol<BR>
TCP-aware snoop protocol<BR>
</LI>

<LI>Scheduling algorithms at LAN interface queues </LI>

<LI>MAC protocols:<BR>
CSMA/CD (10 Mbps Ethernet)<BR>
CSMA/CA (WaveLAN)<BR>
IEEE 802.11<BR>
Metricom's Ricochet MAC<BR>
</LI>

<LI>Shared channel with wireless error models </LI>
</UL>

<LI>TCP router enhancements for asymmetric networks </LI>

<LI>Tracing of TCP variables </LI>
</UL>

<LI><B><A HREF="http://www.isi.edu/~johnh/">[johnh]</A> Fri Jun 13 18:06:33
PDT 1997<BR>
</B>Added slow_start_restart option to TcpAgent. </LI>

<LI><B><A HREF="http://www.cs.berkeley.edu/~elan">[EA]</A></B> <B>Fri Jun
13 17:18:13 PDT 1997<BR>
</B>Added SCUBA protocol module in tcl/rtp. Added some demos in ex/scuba.
</LI>

<LI><B><A HREF="http://www-nrg.ee.lbl.gov/kfall">[KF]</A></B> <B>Thu Jun
12 12:32:31 PDT 1997</B><BR>
</LI>

<P>Small change to conf/config.head.in to look for socket() rather than
poll() when searching for the -lsocket library. Also a new version of the
configure script based on this. </P>

<LI><B><A HREF="http://www.cs.berkeley.edu/~mccanne">[SM]</A></B> <B>Wed
Jun 11 11:49:28 PDT 1997</B><BR>
</LI>

<P>Bug fixes to emulation rig. Previous version didn't properly account
for the fact that external events (i.e., packet arrivals) could come before
the next future event. Now, the scheduler sets a tcl timer to advance time
(instead of waiting in a null select) and the tap-agent sync's simulation
time to real time when an external packet arrives. </P>

<LI><B><A HREF="mailto:huang@isi.edu">[PH]</A></B> <B>Wed Jun 11 09:34:33
PDT 1997<BR>
</B>Changed centralized mcast test files to use MultiNode expandaddr option,
provided by <A HREF="mailto:breslau@parc.xerox.com">Lee Breslau</A>. It
solves the limitation that MultiSim only allow 128 unicast nodes. Also,
made minor changes to reduce memory used in simulations File changed: tcl/ex/newmcast/cmcast-[50,100,150,200,250].tcl.
<BR>
</LI>

<LI><B><A HREF="mailto:huang@isi.edu">[PH]</A></B> <B>Mon Jun 9 15:59:01
PDT 1997<BR>
</B>Bug fix: Changed CtrMcastComp:compute-branch() to work in source =
RP case for RPT. File changed: tcl/ctr-mcast/CtrMcastComp.tcl. <BR>
</LI>

<LI><B><A HREF="mailto:tomh@cs.berkeley.edu">[TH]</A></B> <B>Mon Jun 9
15:00:34 PDT 1997<BR>
</B>Bug fix: Changed Newreno::recv() static variables acked, new_ssthresh,
ack2, ack3, and basertt to be class member variables. File changed: tcp-newreno.cc.
<BR>
</LI>

<LI><B><A HREF="mailto:breslau@parc.xerox.com">[LB]</A></B> <B>Sun Jun
8 14:09:16 PDT 1997<BR>
</B>Provided a fix so that more than 127 nodes can exist in a simulation
that uses both unicast and multicast transport. Also added a proc to allocate
unique multicast addresses. File changed: tcl/mcast/ns-mcast.tcl<BR>
</LI>

<LI><B><A HREF="mailto:tomh@cs.berkeley.edu">[TH]</A></B> <B>Fri Jun 6
17:30:16 PDT 1997<BR>
</B>Ported tcp-fack.cc from ns-1 to ns-2. File added: tcp-fack.cc. <BR>
</LI>

<LI><B><A HREF="http://www.isi.edu/~kannan/">[KVa]</A></B> <B>Thu Jun 5
09:24:50 PDT 1997<BR>
</B>ktest-all will stored compress files in test-output-raw, to save space.<BR>
minor mods to srm test suite, documentation in srm.txt.<BR>
minor bug fixes in srm. </LI>

<LI><B><A HREF="http://www.isi.edu/~kannan/">[KVa]</A></B> <B>Tue Jun 3
14:08:45 PDT 1997<BR>
Major mods</B> SRM for <I>ns<BR>
</I>Currently, some of the fixed timer functions have been implemented.
The adaptive functions, as well as local recovery mechanisms will be coming
along soon. <BR>
An earlier almost entirely C++-based version (ported from the ns-1 implementation)
is also checked in, tagged, and overwritten. It can be accessed by vint
members should they want to take a look at it later. <BR>
Files affected: new files: srm.cc, srm.h, srm-state.h, tcl/mcast/srm.tcl,
tcl/mcast/srm-debug.tcl, tcl/mcast/srm-debug++.tcl, tcl/ex/simple-srm.tcl,
tcl/ex/srm2.tcl, tcl/ex/srm_star.tcl, tcl/ex/simple-srm-nam.tcl, tcl/ex/srm2-nam.tcl,
tcl/ex/srm_star-nam.tcl. Also modified: Makefile.in, trace.h, tcl/lib/ns-packet.tcl.
</LI>

<LI><B><A HREF="http://www.isi.edu/~kannan/">[KVa]</A></B> <B>Tue Jun 3
14:08:45 PDT 1997<BR>
</B>Bug fixes in rtglib: </LI>

<UL>
<LI>dynamics.tcl: rtModel/Manual did not work. Fixed, and tested. This
code is now used in tcl/ex/srm2.tcl and tcl/ex/srm_star.tcl to create ``interesting''
single packet drops. </LI>

<LI>route-proto, RouteLogic::lookup would return OIDs when dynamic routing
is enabled, which breaks the multicast. (It now breaks when equal cost
multipath routing is used, which needs to be fixed, to make multicast happy).
</LI>

<LI>The new interfaces code defines additional instance variables to point
to nodes. Link dynamics wants to reset most everything (except nodes).
Resetting nodes can do bad thigns to agents. </LI>
</UL>

<LI><B><A HREF="http://www.isi.edu/~kannan/">[KVa]</A></B> <B>Tue Jun 3
14:08:45 PDT 1997<BR>
</B>minor fixes: </LI>

<OL>
<LI>In C++, Stoustrup [sic] recommands that array storage should be freed
as &quot;<TT>delete[] variable</TT>&quot;, instead of simply &quot;<TT>delete
variable</TT>&quot;. Changes made to AtHandler::handle(), Scheduler::command(),
and RouteLogic::compute_routes(). </LI>

<LI>Fixed annoying compiler warnings when used with -Wall in gcc. </LI>

<UL>
<LI>&quot;member initializers for &lt;member1&gt; and &lt;member2&gt; will
be re-ordered to march declaration order.&quot; warnings fixed in packet.h,
classifier-hash.cc, trace.cc, and queue-monitor.h. </LI>

<LI>&quot;control reaches end of non-void function&quot; fixed in Replicator::classify(Packet*)
and QueueMonitor::command(int, const char*const*) </LI>

<LI>&quot;suggest parentheses around assignment used as truth value&quot;
fixed in delay.h </LI>
</UL>

<LI>configure.in.head should not set -O2 if the .devel file is present.
Furthermore, as Johnh noted, -O2 is only relevant for gcc, so we really
should fix this better. </LI>

<LI>RouteLogic now only works in the context of a Simulator. Fix route-test
to instantiate a dummy Simulator. </LI>

<LI>Test Suites Modified misc.tcl and topologies.tcl to add hooks for a
multicast test suite.<BR>
ns-trace.tcl:gen-map did not show enough information within a node, for
example inside a MultiNode. </LI>

<LI>Changed simplex-link, duplex-link to directly generate interfaces when
told. Use by </LI>

<PRE>        Simulator set NumberInterfaces_ 1</PRE>
</OL>

<LI><B><A HREF="http://www.isi.edu/~johnh/">[johnh]</A> Thu May 30 1997<BR>
</B>Added support for dmalloc for memory debugging. Configure using <TT>--with-dmalloc</TT>.
</LI>

<LI><B><A HREF="http://www.isi.edu/~johnh/">[johnh]</A> Thu May 27 1997<BR>
</B>Revised configure scripts to eliminiate code duplication. </LI>

<LI><B><A HREF="http://www.cs.berkeley.edu/~tomh">[TH]</A> Tues May 27
19:00:00 PDT 1997</B><BR>
</LI>

<UL>
<LI>Renamed test-suite-v2.tcl and test-all-v2 to test-suite.tcl and test-all,
respectively. These files were also aligned with Kannan's tests in the
tcl/test directory.</LI>

<LI>Moved existing test-suite.tcl to tcl/test, renaming it as test-suite-v1.tcl.
Moved existing test-all to tcl/test/test-all-v1.</LI>

<LI>Moved test-suite-cbq.tcl, test-suite-red.tcl, and test-suite-sack.tcl
to tcl/test and appended them with &quot;-v1&quot; suffix. Made similar
moves for test-all-cbq, test-all-red, test-sack, and test-all-sack.</LI>
</UL>

<LI><B><A HREF="mailto:tomh@cs.berkeley.edu">[TH]</A></B> <B>Tues May 27
16:45:00 PDT 1997<BR>
</B>Fixed bug in tcp-newreno.cc which was causing TcpAgent::recv to be
called instead of NewRenoTcpAgent::recv. This bug has been present since
the initial revision of ns-2.<BR>
</LI>

<LI><B><A HREF="mailto:breslau@parc.xerox.com">[LB]</A></B> <B>Fri May
23 15:46:16 PDT 1997<BR>
</B>Fixed a bug in CalendarScheduler::cancel() that corrupted the calendar
data structure and caused the simulator to crash. Also improved the efficiency
of that function. File changed: scheduler.cc <BR>
</LI>

<LI><B><A HREF="http://www-scf.usc.edu/~bhuang">[PH]</A></B> <B>Thu May
22 18:03:36 PDT 1997</B><BR>
</LI>

<UL>
<LI>Added larger scale test files. tcl/ex/newmcast/cmcast-[100,150,200,250].tcl,
tcl/ex/newmcast/cmcast-big.txt </LI>
</UL>

<LI><B><A HREF="http://www-scf.usc.edu/~bhuang">[PH]</A></B> <B>Thu May
22 13:33:56 PDT 1997</B><BR>
</LI>

<UL>
<LI>Moved agents that handles IP mcast packet encapsulation and decapsulation
to C++. </LI>

<LI>Added a centralized mcast example that uses only source specific trees.
tcl/ex/newmcast/cmcast-spt.tcl </LI>

<LI>Added prune propagation for dense mode mcast. Patch provided by <A HREF="mailto:I.Kouvelas@cs.ucl.ac.uk">Isidor
Kouvelas</A> and <A HREF="mailto:L.Vicisano@cs.ucl.ac.uk">Lorenzo Vicisano</A>
(actually this change was committed two days ago) </LI>

<LI>Files added: ctrMcast.cc, ctrMcast.h, tcl/ex/newmcast/cmcast-spt.tcl
</LI>

<LI>Files changed:tcl/ctr-mcast/CtrMcast.tcl, tcl/ctr-mcast/CtrMcastComp.tcl,
tcl/lib/ns-packet.tcl, trace.h tcl/mcast/ns-mcast.tcl, tcl/mcast/DM.tcl,
Makefile.in, FILES, CHANGES.html tcl/ex/newmcast/*.tcl </LI>
</UL>

<LI><B><A HREF="mailto:tomh@cs.berkeley.edu">[TH]</A></B> <B>Wed May 21
18:57:00 PDT 1997<BR>
</B>Ported bug fixes from ns-1 for tcp.cc, tcp-newreno.cc, tcp-reno.cc.
This also affected ns-default.tcl <BR>
Added reset functions to Acker and TcpSink in tcp-sink.cc so that tcp sinks
can be reset and reused in a simulation (Sack sinks also are covered) <BR>
</LI>

<LI><B><A HREF="mailto:breslau@parc.xerox.com">[LB]</A></B> <B>Wed May
21 17:02:52 PDT 1997<BR>
</B>Added variable length portion to Packet class to handle non-fixed length
stuff (e.g., data). Changed files: packet.h, agent.h, agent.cc <BR>
</LI>

<LI><B><A HREF="http://www.isi.edu/~kannan/">[KVa]</A></B> <B>Tue May 13
23:37:08 PDT 1997<BR>
</B>Added equal cost multi-path routing. Usage is shown in two examples
in tcl/ex/simple-eqp.tcl and simple-eqp1.tcl.<BR>
As a side effect, added the instproc-like, <TT>installNext</TT> to classifier.cc,
to install a TclObject in the next available slot. All, added instprocs
install, clear, and installNext to track slots filled. These are then used
by the instproc adjacents, to return information about adjacent TclObjects
in the slot.<BR>
Files affected: classifier-mpath.cc (<B>new</B>), tcl/ex/simple-eqp.tcl
(<B>new</B>), tcl/ex/simple-eqp1.tcl (<B>new</B>), tcp/ex/simple-eqp-nam.tcl
(<B>new</B>), tcl/ex/simple-eqp1-nam.tcl (<B>new</B>), tcl/rtglib/route-proto.tcl.
</LI>

<LI><B><A HREF="http://www.isi.edu/~kannan/">[KVa]</A></B> <B>Tue May 13
23:37:08 PDT 1997<BR>
</B>Trace manipulation tools: </LI>

<UL>
<LI>raw2xg and raw2gp take the -a option, to trace acks as well, if trace
information about them is present. </LI>

<LI>getrc will extract trace information about a single node or link. Usage
is </LI>

<PRE>        getrc [-o output file] [-b] -s node1 [-d node2] [trace file...]</PRE>

<P>Typically, all traffic from node1 is extracted. If -b is specified,
then all information to node1 is extracted as well. If both node1 and node2
are specified, then all traffic on the link between node1 and node2 is
extracted. Specifying the -b option will extract traffic in both directions
on that link. </P>
</UL>

<P>See also tcl/test/README for a relatively more comprehensive writeup.
</P>

<LI><B><A HREF="http://www.isi.edu/~kannan/">[KVa]</A></B> <B>Tue May 13
23:37:08 PDT 1997<BR>
</B>Cleaned up heap.h and dynalink.cc to elide compiler warnings seen with
-Wall. </LI>

<LI><B><A HREF="http://www.isi.edu/~kannan/">[KVa]</A></B> <B>Tue May 13
23:37:08 PDT 1997<BR>
</B>The route dynamics code si cleaned up. Route Models are only setup
just prior to initiating routing. This eliminiates some unwanted side effects
when initiating tracing on links that are dynamic.<BR>
Files affected: tcl/lib/ns-lib.tcl, tcl/lib/ns-link.tcl, tcl/rtglib/dynamics.tcl.
</LI>

<LI><B><A HREF="http://www.isi.edu/~kannan/">[KVa]</A></B> <B>Fri May 16
00:48:14 PDT 1997<BR>
</B>New route model for one shot route dynamics. It should now be possible
to say </LI>

<PRE>        $ns_ rtmodel-at $time $op $node1 [$node2]</PRE>

<P>to take $node1 (or the link $node1-$node2) up (or down, as specified
by $op) at a particular time. It is done by creating a one-shot route model,
rtModel/Manual. (It is currently untested, though no problems are anticipated
by this author...hah!) </P>

<LI><B><A HREF="http://www.cs.berkeley.edu/~mccanne">[SM]</A></B> <B>Tue
May 13 17:44:34 PDT 1997</B><BR>
</LI>

<UL>
<LI>Made changes to the scheduler (added <I>RealTimeScheduler</I>) to support
real-time simulation for emulated network envinroments. This real-time
extension works just like the normal scheduler but events are delayed until
real-time catches up. In particular, the scheduler &quot;now&quot; method
returns the current simulated time rather than the current real time so
any simulation CPU overhead is not reflected in event timing calculations.
</LI>

<LI>Added objects to interface to external networks. net.h, net.cc, and
net-ip.cc modules came from mash/mbone tools. </LI>

<LI>Added hook in ns-lib.tcl to create tap header only if real-time scheduler
is specified. This avoids unnecessary waste of memory when not using tap
agents. We assume that taps and real-time schedulers are used in tandem
but haven't added any code to verify this. </LI>
</UL>

<LI><B><A HREF="http://www-scf.usc.edu/~bhuang">[PH]</A></B> <B>Tue May
13 15:30:00 PDT 1997</B><BR>
</LI>

<UL>
<LI>Seperated multicast protocol functionalities from MultiNode. Moved
original multicast code tcl/lib/ns-mcast.tcl to tcl/mcast/*.tcl. </LI>

<LI>Added multi-access link module (tcl/lan/) and interface support (tcl/interface/
and net-interface.cc). </LI>

<LI>Added detailed PIM code (tcl/pim in progress). The above are codes
ported from <A HREF="http://www-scf.usc.edu/~ahelmy/">Ahmed A-G Helmy</A>'s
development on top of ns-2.0a3.<BR>
</LI>

<LI>Added centralized multicast tree computation modules (tcl/ctr-mcast).
</LI>
</UL>

<LI><B><A HREF="mailto:breslau@parc.xerox.com">[LB]</A></B> <B>Fri May
2 15:09:32 PDT 1997<BR>
</B>Updated the tcl script demonstrating the use of traffic generation
modules. It now includes a simple nam demo. Changed files: tg.tcl, tg.txt.
New files: tg-nam.tcl</LI>

<P><BR>
</P>

<LI><B><A HREF="http://www.cs.berkeley.edu/~mccanne">[SM]</A></B> <B>Fri
May 2 12:09:53 PDT 1997<BR>
</B>Updated FILES. Also, set up a nighly cron job to snapshot the current
cvs snapshot into a publicly accessible &quot;ns-current&quot; release.
</LI>

<LI><B><A HREF="http://www.isi.edu/~kannan/">[KVa]</A></B> <B>Mon Apr 28
09:08:26 PDT 1997<BR>
</B>Moved <TT>up?</TT> and <TT>down?</TT> to base <TT>Class Link</TT>,
instead of being in the derived <TT>Class SimpleLink</TT>. The procedures
work for simple p2p links. Other types of media such as LANs that must
provide similar features may have to redefine them appropriately. </LI>

<LI><B><A HREF="http://www.isi.edu/~kannan/">[KVa]</A></B> <B>Mon Apr 28
09:08:26 PDT 1997<BR>
</B>Leveraged of the v2 test suites to construct routing test suites. The
list of mods are: </LI>

<OL>
<LI>A new test-suite driver, called ktest-all is in the bin directory.
The invocation </LI>

<PRE>        ktest-all [&lt;suite&gt; [&lt;test&gt; [&lt;topology&gt;]]]</PRE>

<P>executes: </P>

<PRE>        ns tcl/test/test-suite-&lt;suite&gt;.tcl &lt;test&gt; &lt;topology&gt;</PRE>

<P>If no test is specified, it runs all the tests in that suite. If no
topology is specified, it runs the specified test against all topologies
defined in the topologies file. </P>

<LI>Any single test-suite file is now in three parts: (1) tcl/test/topologies.tcl
contains a library of topologies, and variants for netowrk dynamics. Currently
four topologies are defined. (2) tcl/test/misc.tcl contains the basic housekeeping
routines, such as openTrace, finish etc. (3) Individual tests are in tcl/test/test-suite-&lt;suite&gt;.tcl
files. </LI>

<LI>The procedure <TT>finish</TT> in tcl/test/misc.tcl no longer directly
invokes xgraph. Instead, it simply writes out out.tr, closes all trace
files, and exists. </LI>

<LI>ktest-all will invoke xgraph if the DISPLAY environment is defined;
otherwise, it will save the out.tr file as is in test-output-raw for later
comparison; in the latter case, it will also use gnuplot to generate a
postscript file that is placed in the ps-files directory. </LI>

<LI>The bin directory also contains raw2xg and raw2gp, two programs to
convert trace files into output for xgraph or gnuplot. Convenient ways
of invoking either are: </LI>

<PRE>        % raw2xg out.tr , xgraph -bb -tk -nl -m -x time -y packets
        % raw2gp out.tr &gt; out.gp ; gnuplot
        load &quot;out.gp&quot;
        ...other gnuplot commands ...
        exit
        % </PRE>
</OL>

<P>There will be additional cleanup as I work on the test-suites some more.
Comments and suggestions are welcome. </P>

<LI><B><A HREF="http://www.isi.edu/~kannan/">[KVa]</A></B> <B>Mon Apr 28
09:08:26 PDT 1997<BR>
</B>Makefile (and Makefile.in) for <I>ns.dyn</I> does not include tclAppInit.o.
</LI>

<LI><B><A HREF="http://www.isi.edu/~kannan/">[KVa]</A></B> <B>Wed Apr 23
16:50:15 PDT 1997<BR>
</B>SACK crashes when it is not in fast recovery mode, and receives acks
out of order. For now, we just ignore such acks. </LI>

<LI><B><A HREF="http://www.isi.edu/~kannan/">[KVa]</A></B> <B>Wed Apr 23
16:50:15 PDT 1997<BR>
</B>tcl/ex/simple-*.tcl examples should close output files before further
processing in order to ensure that all data gets properly flushed.<BR>
In addition, added tracing route dynamics events to stdout.<BR>
Files affected: tcl/ex/simple-dyn.tcl, tcl/ex/simple-rtg.tcl, tcl/ex/simple-heap.tcl,
<BR>
</LI>

<LI><B><A HREF="http://www.isi.edu/~kannan/">[KVa]</A></B> <B>Wed Apr 23
16:50:15 PDT 1997<BR>
</B>Bugs in rtglib. delay.cc, delay.h did not calculate packet transmission
time correctly.<BR>
Routing code had bugs in how routes were calculated, and route updates
distributed.<BR>
Files affected: delay.cc, delay.h, tcl/rtglib/route-proto.tcl, tcl/rtglib/dynamics.tcl<BR>
</LI>

<LI><B><A HREF="http://www.isi.edu/~kannan/">[KVa]</A></B> <B>Mon Apr 14
12:06:35 PDT 1997<BR>
</B><TT>abort()</TT>, when called, breaks of the trace abruptly. Trap the
call with cpp hacks, invoke [[Simulator instance] flush-trace] and then
abort.<BR>
Files affected: Makefile.in, tclAppInit.cc, tkAppInit.cc </LI>

<LI><B><A HREF="http://www.isi.edu/~kannan/">[KVa]</A></B> <B>Thu Apr 10
16:21:25 PDT 1997<BR>
</B>Added functions to dump the simulation objects that comprise the topology,
as an aid to debugging. Use by specifying </LI>

<PRE>        [Simulator instance] gen-map</PRE>

<P>to see the dump on stderr.<BR>
Files affected: tcl/lib/ns-trace.tcl </P>

<LI><B><A HREF="mailto:breslau@parc.xerox.com">[LB]</A></B> <B>Fri Apr
25 14:26:12 PDT 1997</B><BR>
</LI>

<UL>
<LI>Added traffic generation modules to implement on/off sources with exponentially
and pareto distributed on and off times, and a traffic generation module
that is driven by a trace file. New files: trafgen.h, pareto.cc, expoo.cc,
traffictrace.cc, traffictrace.h, udp.cc, udp.h.</LI>

<P><BR>
</P>

<LI>To support the pareto on/off source, added the function Random::pareto()
to random.h.</LI>
</UL>

<LI><B><A HREF="http://www-nrg.ee.lbl.gov/kfall">[KF]</A></B> <B>Wed Apr
23 22:00:21 PDT 1997</B><BR>
</LI>

<UL>
<LI>CBQ is now part of the simulator</LI>

<P><BR>
Generally works. </P>

<LI>ALL default queue sizes are now 50 [per ns-1 defaults]</LI>

<LI>QueueMonitors now know the difference between</LI>

<P><BR>
drops, arrivals, and departures and can monitor these </P>

<LI>new class called 'Samples' which collects samples</LI>

<P><BR>
points of something and can provide a mean and variance of the points (see
integrator.cc) </P>

<LI>Queues can be flow controlled</LI>

<P><BR>
by forcing them to be blocked or unblocked as needed. Also it's possible
to make it so that when they send a packet they become blocked rather than
unblocked. </P>

<LI>common packet header</LI>

<P><BR>
contains a timestamp field; this is used to compute queueing delay for
individual packets at queues </P>

<LI>classifier-hash</LI>

<P><BR>
a classifier to identify 'flows' ... still in development, but presently
used by cbq </P>

<LI>bug fixes/mintor changes to red.cc, test-suite-red.tcl</LI>

<LI>test-suite.tcl updated to ns-1 version (stats test minor change)</LI>
</UL>

<LI><B><A HREF="http://www.parc.xerox.com/csl/members/bajaj">[SB]</A></B>
<B>Thu Apr 17 17:57:53 PDT 1997<BR>
</B>Fixed tcp-simple.cc and random.cc so that test-suites work for solaris
as well. </LI>

<LI><B><A HREF="http://www.cs.berkeley.edu/~tomh">[TH]</A></B> <B>Wed Apr
9 16:24:25 PDT 1997<BR>
</B>Fixed busy-wait condition in tcp-sack1.cc that resulted from incorrectly
setting the overhead parameter. </LI>

<LI><B><A HREF="http://www.isi.edu/~kannan/">[KVa]</A></B> <B>Tue Apr 8
16:33:49 PDT 1997<BR>
</B>Added Distance Vector dynamic routing to <I>ns</I>; As a side effect,
created the C++ random functions in tcl/lib/ns-random.tcl.<BR>
At some point, a test-suite-routed.tcl will be provided to show examples
of routing.<BR>
Files affected: rtProtoDV.cc (<B>new</B>), rtProtoDV.h (<B>new</B>), trace.h,
tcl/lib/ns-lib.tcl, tcl/lib/ns-random.tcl (<B>new</B>), tcl/rtglib/route-proto.tcl.
</LI>

<LI><B><A HREF="http://www.isi.edu/~kannan/">[KVa]</A></B> <B>Tue Apr 8
16:33:49 PDT 1997<BR>
</B>Created a AgentClass, dervied from TclClass. Removed NullAgentClass,
and moved Agent/Null into tcl/lib/ns-agent.tcl <BR>
Files affected: agent.cc, Makefile.in, tcl/lib/ns-lib.tcl, tcl/lib/ns-agent.tcl
(<B>new</B>). </LI>

<LI><B><A HREF="http://www.isi.edu/~kannan/">[KVa]</A></B> <B>Tue Apr 8
16:33:49 PDT 1997<BR>
</B>Added TCL debugger capabilities to <I>ns</I>.<BR>
To use, reconfigure <I>ns</I> with <A HREF="http://expect.nist.gov/tcl-debug/tcl-debug.tar.gz">tcl-debug
5.20</A>. In your script, add `debug 1' at the location you want to start
debugging.<BR>
More details about the Tcl debugger are in <A HREF="http://expect.nist.gov/doc/tcl-debug.ps.Z">Don
Libes' paper</A>.<BR>
Files affected: tclAppInit.cc, configure.in, tcl/lib/ns-lib.tcl, conf/configure.in.tcldebug
(<B>new</B>). </LI>

<LI><B><A HREF="http://www.isi.edu/~kannan/">[KVa]</A></B> <B>Tue Apr 8
16:33:49 PDT 1997<BR>
</B>Moved class <TT>Delay/Link</TT> to class <TT>DelayLink</TT>.<BR>
Files affected: delay.cc, tcl/ex/fq-cbr.tcl, tcl/ex/fq.tcl, tcl/lib/ns-default.tcl,
tcl/lib/ns-link.tcl. </LI>

<LI><B><A HREF="http://www.parc.xerox.com/csl/members/bajaj">[SB]</A></B>
<B>Mon Mar 31 17:46:04 PST 1997<BR>
</B>Added deficit round robin scheduling (drr.cc) </LI>

<LI><B><A HREF="http://www.cs.berkeley.edu/~mccanne">[SM]</A></B> <B>Fri
Mar 28 20:45:40 PST 1997<BR>
</B>Update </LI>

<LI><B><A HREF="http://www.cs.berkeley.edu/~tomh">[TH]'s</A></B> scoreboard
changes with respect to this afternoon's packet format changes. </LI>

<LI><B><A HREF="http://www.cs.berkeley.edu/~mccanne">[SM]</A></B> <B>Fri
Mar 28 20:32:24 PST 1997<BR>
</B>First cut at integration of nam into ns code base. Basically just ported
the pieces verbatim so that nam can now be run as a script interpreted
by nsx. In this crude initial version, you can run &quot;../nsx srm-demo-nam.tcl
-name nam&quot; from the nam directory. </LI>

<LI><B><A HREF="http://www.cs.berkeley.edu/~tomh">[TH]</A></B> <B>Fri Mar
28 18:45:00 PST 1997<BR>
</B>Brought scoreboard.cc and scoreboard.h up to date with the latest versions
that were in ns-1 (9/96 PSC version: UpdateScoreBoard, CheckSndNxt, MarkRetran
modified for fack). Now most of test-suite-sack test cases work correctly.
</LI>

<LI><B><A HREF="http://www.cs.berkeley.edu/~mccanne">[SM]</A></B> <B>Fri
Mar 28 17:33:43 PST 1997<BR>
</B>A number of additional changes to the packet format. Eliminated the
&quot;Header&quot; classes altogether. Now we have a simple template header-class
template that just defines the header size. Most of the packet-manager
functionality moved into ns-packet.tcl. Factored the flags field out of
ip6 into a separate hdr_flags struct. Eliminated old commented-out code
in a number of places. Created a &quot;common&quot; header (hdr_cmn) and
moved the size field from the ip header to the new common header. Also
put the uid here. Changed hdr_ipv6 to hdr_ip for consistency. </LI>

<LI><B><A HREF="http://www-nrg.ee.lbl.gov/kfall">[KF]</A></B> <B>Fri Mar
28 13:36:58 PST 1997<BR>
</B>Updates to make RED gateways work. Includes mods to red.cc and RED's
default parameter names, some additions to the compat library, and a change
so that when the simulator begins all queues have a &quot;reset&quot; method
called (previously, only nodes and agents had this done to them, but RED
and probably some other queue types need to be reset to compute functions
of their Otcl-linked variables before the sim starts). </LI>

<LI><B><A HREF="http://www.cs.berkeley.edu/~tomh">[TH]</A></B> <B>Fri Mar
28 12:50:02 PST 1997<BR>
</B>Added test-suite-v2.tcl to the repository (port of &quot;test-suite.tcl&quot;).
Added two new instprocs to ns-lib.tcl which help to set up tcp connections.
Moved the &quot;Agent instproc dst-port&quot; from ns-compat.tcl to ns-lib.tcl
since it can also be used in ns-2. </LI>

<LI><B><A HREF="http://www.cs.berkeley.edu/~mccanne">[SM]</A></B> <B>Fri
Mar 28 12:23:58 PST 1997<BR>
</B>Another cut at packet format reorg. Eliminated the need for static
variables. Moved the accessor methods from the &quot;Header&quot; classes
into the &quot;hdr&quot; structs. This rearrangement allowed us to alter
a minimal amount of code in each module that ref'd a packet header (i.e.,
only needed to change the pointer type of the variable that pointed at
the packet header.) </LI>
</UL>

<P>
<HR></P>

<H3><A HREF="http://www-mash.cs.berkeley.edu/dist/ns-src-2.0a16.tar.gz">ns-2.0a16</A>
Fri Mar 28 00:56:48 PST 1997</H3>

<UL>
<LI><B><A HREF="http://www.cs.berkeley.edu/~mccanne">[SM]</A></B> <B>Thu
Mar 27 23:49:57 PST 1997<BR>
</B>Added some new modules in tcl/ex for CS268 homework 3. </LI>

<LI><B><A HREF="http://www.cs.berkeley.edu/~mccanne">[SM]</A></B> <B>Thu
Mar 27 23:49:57 PST 1997<BR>
</B>Put back seqno's in cbr agents. </LI>

<LI><B><A HREF="http://www.cs.berkeley.edu/~mccanne">[SM]</A></B> <B>Thu
Mar 27 17:19:42 PST 1997<BR>
</B>Added a simple fair queuing module that uses flow id's (aka classes)
to differentiate flows. Added an example script: tcl/ex/fq.tcl. Some of
the code in fq.tcl should migrate into the built-in library. </LI>

<LI><B><A HREF="http://www.cs.berkeley.edu/~mccanne">[SM]</A></B> <B>Thu
Mar 27 00:11:31 PST 1997<BR>
</B>Added a make rule for &quot;nsx&quot;, which is just like ns but is
a wish interpreter instead of a tclsh. Retired ns_tclsh.cc and replaced
with tclAppInit.cc and tkAppInit.cc. Also added -ldl for bsdi-3. </LI>

<LI><B><A HREF="http://www.cs.berkeley.edu/~elan">[EA]</A></B> <B>Wed Mar
26 22:49:30 PST 1997<BR>
</B>Fixed up Session/RTP to work with latest version. Added a <I>rate_change()</I>
method to RTPAgent to allow correct behavior when changing transmission
rates. See code in <t>rtp.cc</t> for details. </LI>

<LI><B><A HREF="http://www-nrg.ee.lbl.gov/kfall">[KF]</A></B> <B>Wed Mar
26 17:11:17 PST 1997<BR>
</B>Replace test-suite.tcl with test-suite.tcl from ns-1. </LI>

<LI><B><A HREF="http://www.isi.edu/~kannan/">[KVa]</A></B> <B>Wed Mar 26
15:24:24 PST 1997<BR>
</B>The test suites break with the dynamics, because they want to acquire
an instance of the Simulator. However, the test-suites operate in compatibility
mode, and hence only create an instance of OldSim, a subclass of Simulator.
So, wrote a `Simulator instance' procedure that returns the current instance
of the simulator.<BR>
Files affected: tcl/lib/ns-lib.tcl, tcl/lib/ns-trace.tcl, tcl/rtglib/dynamics.tcl,
tcl/rtglib/route-proto.tcl </LI>
</UL>

<P>
<HR></P>

<H3><A HREF="http://www-mash.cs.berkeley.edu/dist/ns-src-2.0a15.tar.gz">ns-2.0a15</A>
<B>Tue Mar 25 14:56:39 PST 1997</B></H3>

<UL>
<LI><B><A HREF="http://www.cs.berkeley.edu/~mccanne">[SM]</A></B> Added
trace.h to FILES. </LI>
</UL>

<P>
<HR></P>

<H3><A HREF="http://www-mash.cs.berkeley.edu/dist/ns-src-2.0a14.tar.gz">ns-2.0a14</A>
<B>Tue Mar 25 14:00:35 PST 1997</B></H3>

<P><I>Snapshot for alpha testers.</I> </P>

<UL>
<LI><B><A HREF="http://www.isi.edu/~kannan/">[KVa]</A></B> <B>Tue Mar 25
09:16:33 PST 1997<BR>
</B>Fix auto configuration so that libotcl.a is found when the directory
is explicitly specified using --with-otcl.<BR>
Files affected: conf/configure.in.otcl, configure</LI>

<LI><B><A HREF="http://www.isi.edu/~kannan/">[KVa]</A></B> <B>Tue Mar 25
09:16:33 PST 1997<BR>
</B>Change Tracing so that trace elements can be created and used entirely
via OTcl if the tracing is unrelated to packet activity.<BR>
See rtModel::init, rtModel::trace, and rtModel::log-dynamic in tcl/rtglib/dynamics.tcl
for how to use.<BR>
Files affected: Makefile.in, trace.cc, tcl/lib/ns-lib.tcl, tcl/lib/ns-trace.tcl
(<B>new</B>)</LI>

<LI><B><A HREF="http://www.isi.edu/~kannan/">[KVa]</A></B> <B>Tue Mar 25
09:16:33 PST 1997<BR>
</B>Add dynamics to links and nodes so that portions of the topology can
be made to fail and recover. The failure and recovery can be controlled
through distributions.<BR>
Usage:</LI>

<PRE>        set ns [new Simulator]
        $ns rtmodel &lt;Distribution&gt; {&lt;up-time&gt; &lt;down-time&gt;} &lt;node1&gt; [&lt;node2&gt;]</PRE>

<P>A distribution (Distribution) can be specified either to a single node
(node1) or to a single link (between node1 and node2). The up-time (down-time)
is a parameter for the distribution to specify how long the specified node/link
will be up (down) before changing state to being down (up).<BR>
Files affected: Makefile.in, connector.cc, delay.cc, dynalink.cc (<B>new</B>),
queue.cc, queue.h, tcl/lib/ns-lib.tcl, tcl/lib/ns-node.tcl, tcl/rtglib/dynamics.tcl
(<B>new</B>), tcl/ex/simple-dyn.tcl (<B>new</B>), tcl/ex/dynamic-nam.tcl(<B>new</B>),
tcl/nam-demo/nstonam.awk.</P>

<LI><B><A HREF="http://www.isi.edu/~kannan/">[KVa]</A></B> <B>Tue Mar 25
09:16:33 PST 1997<BR>
</B>Add dynamic routing to deal with topology changes (<I>work in progress</I>).
Currently, the basic all-pairs-spf routing has been modified to fit a more
uniform API. Also complete is a session-level routing, (<I>i.e.</I>, the
all-pairs-spf static routing used to precompute routes prior to starting
the simulation, and run everytime the topology changes).<BR>
Usage:</LI>

<PRE>        set ns [new Simulator]
        $ns run [Static|Session]</PRE>

<P>Note: Additional more detailed configuration hooks will soon become
available, as well as other routing protocols.<BR>
Files affected: Makefile.in, tcl/lib/ns-lib.tcl, tcl/rtglib/route-proto.tcl
(<B>new</B>), tcl/ex/simple-rtg.tcl (<B>new</B>).</P>

<LI><B><A HREF="http://www.cs.berkeley.edu/~mccanne">[SM]</A></B> Added
heap.h to FILES. </LI>
</UL>

<P>
<HR></P>

<H3><A HREF="http://www-mash.cs.berkeley.edu/dist/ns-src-2.0a13.tar.gz">ns-2.0a13</A>
<B>Fri Mar 21 09:08:05 PST 1997</B></H3>

<P><I>Snapshot for alpha testers.</I> </P>

<UL>
<LI><B><A HREF="http://www.cs.berkeley.edu/~mccanne">[SM]</A></B> <B>Tue
Mar 18 15:32:01 PST 1997<BR>
</B>Integrated <A HREF="http://tns-www.lcs.mit.edu/people/djw/bio.html">David
Wetherall's</A> calendar queue. Use as: </LI>

<PRE>        set ns [new Simulator]
        $ns use-scheduler Calendar
</PRE>

<LI><B><A HREF="http://www.cs.berkeley.edu/~mccanne">[SM]</A></B> <B>Tue
Mar 18 15:32:01 PST 1997<BR>
</B>Added a simple, completely contrived script to generate SRM-like sample
paths to illustrate SRM in EECS colloquium (see tcl/ex/srm-demo.tcl). </LI>

<LI><B><A HREF="http://www.cs.berkeley.edu/~mccanne">[SM]</A></B> <B>Tue
Mar 18 15:32:01 PST 1997<BR>
</B>Fixed bug in Packet::copy. &quot;*p = *this&quot; was bogus because
bits are now allocated in a separate buffer and this was smashing the current
packet's bits buffer to point to the old one, which was both leaking memory
and causing unwanted sharing of private buffers. </LI>

<LI><B><A HREF="http://www.cs.berkeley.edu/~mccanne">[SM]</A></B> First
cut at agent detaching code. Suggested by <A HREF="http://www-video.eecs.berkeley.edu/~emile/">Emile
Sahouria</A>. </LI>

<LI><B><A HREF="http://www.cs.berkeley.edu/~mccanne">[SM]</A></B> Fixed
bug pointed out by <A HREF="http://www-video.eecs.berkeley.edu/~emile/">Emile
Sahouria</A>, <A HREF="http://www.cs.berkeley.edu/~gnguyen">Giao Nguyen</A>,
and <A HREF="http://www.cs.berkeley.edu/~tomh">Tom Henderson</A>, where
node port demuxer was created in wrong place. Moved this code from compute-routes
to Node::attach (i.e., should install locate route to port demuxer first
time the demuxer is created, not when compute-routes is run, becase in
latter case port demuxer might not yet exist). </LI>

<LI><B><A HREF="http://www-nrg.ee.lbl.gov/kfall">[KF]</A></B> Arrange for
dynamic linking to be the default instead of static. Static linking is
performed if '.devel' exists in the build directory. </LI>

<LI><B><A HREF="http://www.cs.berkeley.edu/~mccanne">[SM]</A></B> Fix up
tcl/ex/simple.tcl for v2. </LI>

<LI><B><A HREF="http://www.cs.berkeley.edu/~mccanne">[SM]</A></B> Set flow-id
in tcp ack agent just as we used to set the class-id. </LI>

<LI><B><A HREF="http://www.cs.berkeley.edu/~mccanne">[SM]</A></B> Arrange
for tcl variable &quot;class_&quot; to be bound to flow-id field so that
scripts impacted by Kevin's recent packet header changes continue to work.
</LI>

<LI><B><A HREF="http://www.cs.berkeley.edu/~mccanne">[SM]</A></B> Added
a new TCPSimple that does minimal Go-back-N (no slow-start, no fast restransmit,
etc) for a CS268 homework. </LI>

<LI><B><A HREF="http://www-nrg.ee.lbl.gov/kfall">[KF]</A></B> Change to
ns-source.tcl to incorporate Source/FTP &quot;produce&quot; function, needed
by some of the ns-1 conformance tests. Added &quot;agent&quot; instproc
to node to return the agent with the specified port ID. Fixed up some typedef
and other type conflicts in packet.h and with respect to srandom() and
gettimeofday() on suns. </LI>

<LI><B><A HREF="http://www-nrg.ee.lbl.gov/kfall">[KF]</A></B> Support for
new packet format. Fix bug relating to header double-word alignment, happens
on suns. </LI>

<LI><B><A HREF="http://www.isi.edu/~kannan/">[KVa]</A></B> Add support
for heap schedulers. Use as: </LI>

<PRE>        set ns [new Simulator]
        $ns use-scheduler Heap</PRE>
</UL>

<P>
<HR></P>

<H3><A HREF="http://www-mash.cs.berkeley.edu/dist/ns-src-2.0a12.tar.gz">ns-2.0a12</A>
<B>Sat Feb 22 22:09:51 PST 1997</B></H3>

<P><I>Snapshot to <A HREF="http://netweb.usc.edu/vint/">VINT</A> collaborators
and <A HREF="http://www-mash.cs.berkeley.edu/cs268/">CS268 students.</A></I>
</P>

<UL>
<LI><B><A HREF="http://www.cs.berkeley.edu/~mccanne">[SM]</A></B> Bug fix
from <A HREF="mailto:mjh@isi.edu">Mark Handley</A>. Reno tcp agent had
wrong prototype for recv method and thus was not overriding the default
virtual. </LI>

<LI><B><A HREF="http://www.cs.berkeley.edu/~mccanne">[SM]</A></B> Added
<A HREF="http://www.brookfield.ans.net/ans/nanog/ns-hacks.html">several
changes</A> from <A HREF="mailto:curtis@ans.net">Curtis Villamizar</A>,
including a simple stochastic fair queuing module and a simple change to
the tcp agent to emulate persistent connections. </LI>

<LI><B><A HREF="http://www.cs.berkeley.edu/~mccanne">[SM]</A></B> Regenerated
configure using <A HREF="http://www-nrg.ee.lbl.gov/kfall">Kevin Fall's</A>
latest fixes to our conf module. </LI>

<LI><B><A HREF="http://www.cs.berkeley.edu/~mccanne">[SM]</A></B> Changed
drop-trace method to drop-target. This should only affect the internal
APIs and shouldn't break any scripts. </LI>

<LI><B><A HREF="http://www.cs.berkeley.edu/~mccanne">[SM]</A></B> Bumped
size of max message in packet structure to 80 bytes. This limit eventually
must be removed. </LI>

<LI><B><A HREF="http://www.cs.berkeley.edu/~mccanne">[SM]</A></B> Eliminated
C++ statically defined default drop-target and changed link building code
to point a queue's drop-target to a null-agent. </LI>

<LI><B><A HREF="http://www.cs.berkeley.edu/~mccanne">[SM]</A></B> Added
first cut for queue-size monitoring agents (add integrator.cc). Cleaned
up approach for splicing objects into Link pipeline. Added ttl field to
packets and TTLChecker object to update ttl and throw out ttl-expired packets
(and ttl.cc). </LI>

<LI><B><A HREF="http://www.cs.berkeley.edu/~mccanne">[SM]</A></B> Fixed
long-standing bug in static routing code; problem found by, and fix supplied
by, <A HREF="http://www.cs.berkeley.edu/~aswan/">Andrew Swan</A>. Went
undetected for so long because bug occurs only for simplex links. </LI>
</UL>

<P>
<HR></P>

<H3><A HREF="http://www-mash.cs.berkeley.edu/dist/ns-src-2.0a11.tar.gz">ns-2.0a11</A>
<B>Thu Feb 13 11:28:35 PST 1997</B></H3>

<P><I>Snapshot to <A HREF="http://netweb.usc.edu/vint/">VINT</A> collaborators
and <A HREF="http://www-mash.cs.berkeley.edu/cs268/">CS268 students.</A></I>
</P>

<UL>
<LI><B><A HREF="http://www.cs.berkeley.edu/~mccanne">[SM]</A></B> Fixed
bug in ftp source compat code introduced by last rev. Prevented test suite
from running. </LI>
</UL>

<P>
<HR></P>

<H3><A HREF="http://www-mash.cs.berkeley.edu/dist/ns-src-2.0a10.tar.gz">ns-2.0a10</A>
<B>Mon Feb 3 13:14:48 PST 1997</B></H3>

<P><I>Snapshot to <A HREF="http://netweb.usc.edu/vint/">VINT</A> collaborators
and <A HREF="http://www-mash.cs.berkeley.edu/cs268/">CS268 students.</A></I>
</P>

<UL>
<LI><B><A HREF="http://www.cs.berkeley.edu/~mccanne">[SM]</A></B> Made
a number of small changes to help out with <A HREF="http://www-mash.cs.berkeley.edu/cs268/hw1.html">homework
1</A> for <A HREF="http://www-mash.cs.berkeley.edu/cs268/">CS268</A>. </LI>

<LI><B><A HREF="http://www.cs.berkeley.edu/~mccanne">[SM]</A></B> Fixed
missing-return bug introduced in last rev. Thanks to <A HREF="http://www.isi.edu/~wlee/">WeeSan
Lee</A>. </LI>

<LI><B><A HREF="http://www.cs.berkeley.edu/~mccanne">[SM]</A></B> Changed
<I>Agent/Message</I> callback name from <I>handle</I> to <I>recv</I>. </LI>
</UL>

<P>
<HR></P>

<H3><A HREF="http://www-mash.cs.berkeley.edu/dist/ns-src-2.0a9.tar.gz">ns-2.0a9</A>
<B>Thu Jan 30 21:11:34 PST 1997</B></H3>

<P><I>Snapshot to <A HREF="http://netweb.usc.edu/vint/">VINT</A> collaborators
and <A HREF="http://www-mash.cs.berkeley.edu/cs268/">CS268 students.</A></I>
</P>

<UL>
<LI><B><A HREF="http://www.cs.berkeley.edu/~mccanne">[SM]</A></B> Fixed
inconsistent declaration of random() and problem with binding of &quot;maxSackBlocks_&quot;.
Reported by <A HREF="http://www.isi.edu/~wlee/">WeeSan Lee</A>. </LI>

<LI><B><A HREF="http://www.cs.berkeley.edu/~mccanne">[SM]</A></B> Restructured
the way agents are reset. Moved from node &quot;attach time&quot; to simulation
&quot;run time&quot;. Otherwise, state variables that change between attach
and run-time aren't consistent with the reset operation. This fix prompted
by <A HREF="http://www.cs.berkeley.edu/~tomh">Tom Henderson</A>, who noticed
that delayed-ACK TCP output was inconsistent with that of ns-1. </LI>
</UL>

<P>
<HR></P>

<H3><A HREF="http://www-mash.cs.berkeley.edu/dist/ns-src-2.0a8.tar.gz">ns-2.0a8</A>
<B>Mon Jan 27 19:26:17 PST 1997</B></H3>

<P><I>Snapshot to <A HREF="http://netweb.usc.edu/vint/">VINT</A> collaborators
and <A HREF="http://www-mash.cs.berkeley.edu/cs268/">CS268 students.</A></I>
</P>

<UL>
<LI><B><A HREF="http://www.cs.berkeley.edu/~mccanne">[SM]</A></B> Omitted
connector.cc and connector.h from distribution; now added. Reported by
<A HREF="http://www.isi.edu/~wlee/">WeeSan Lee</A>. </LI>
</UL>

<P>
<HR></P>

<H3><A HREF="http://www-mash.cs.berkeley.edu/dist/ns-src-2.0a7.tar.gz">ns-2.0a7</A>
<B>Mon Jan 27 18:09:02 PST 1997</B></H3>

<P><I>Snapshot to <A HREF="http://netweb.usc.edu/vint/">VINT</A> collaborators
and <A HREF="http://www-mash.cs.berkeley.edu/cs268/">CS268 students.</A></I>
</P>

<UL>
<LI><B><A HREF="http://www.cs.berkeley.edu/~mccanne">[SM]</A></B> Added
<A HREF="mailto:dante@valhalla.internet-cafe.com">Dante De Lucia's</A>
generic, reusable logging module. (See log.cc.) But have not compiled it
in yet because of xmalloc references. </LI>

<LI><B><A HREF="http://www.cs.berkeley.edu/~mccanne">[SM]</A></B> Fixed
bugs in compat code that prevented SACK code from being properly configured.
Reported by <A HREF="http://www.cs.berkeley.edu/~tomh">Tom Henderson</A>.
</LI>

<LI><B><A HREF="http://www.cs.berkeley.edu/~mccanne">[SM]</A></B> Changed
instance variable naming conventions to append underscore to all names,
e.g., Agent::dst is now Agent::dst_. </LI>

<LI><B><A HREF="http://www.cs.berkeley.edu/~mccanne">[SM]</A></B> Changed
class naming conventions to use consistent mixed case, e.g., Agent/TCP
instead of agent/tcp. </LI>

<LI><B><A HREF="http://www.cs.berkeley.edu/~mccanne">[SM]</A></B> Eliminated
Node class since splitting NsObject and Node into no longer makes any sense.
Also, &quot;Node&quot; was a bad name because it implies something about
topology and at this level it is toplogically independent. </LI>
</UL>

<P>
<HR></P>

<H3><A HREF="http://www-mash.cs.berkeley.edu/dist/ns-src-2.0a6.tar.gz">ns-2.0a6</A>
<B>Tue Dec 31 18:55:39 PST 1996</B></H3>

<P><I>Snapshot to <A HREF="http://netweb.usc.edu/vint/">VINT</A> collaborators.</I>
</P>

<UL>
<LI><B><A HREF="http://www.cs.berkeley.edu/~elan">[EA]</A></B> Fixed up
RTCP Timer bug. Added srctab and srcids to RTP Sessions. </LI>

<LI><B><A HREF="http://www.cs.berkeley.edu/~elan">[EA]</A></B> Added very
first rough draft of NamSimulator that produces a nam_config for automatic
layout. </LI>

<LI><B><A HREF="http://www.cs.berkeley.edu/~elan">[EA]</A></B> Added RTP
Session class along with RTP and RTCP agents. </LI>
</UL>

<P>
<HR></P>

<H3><A HREF="http://www-mash.cs.berkeley.edu/dist/ns-src-2.0a4.tar.gz">ns-2.0a4</A>
<B>Sun Nov 10 11:06:46 PST 1996</B></H3>

<P><I>Snapshot to <A HREF="http://netweb.usc.edu/vint/">VINT</A> collaborators.</I>
</P>

<UL>
<LI><B><A HREF="http://www.cs.berkeley.edu/~mccanne">[SM]</A></B> Removed
re-parenting hooks from <I>ns-lib.tcl</I> since TclClass now automatically
makes all the classes in a class path name. </LI>

<LI><B><A HREF="http://www.cs.berkeley.edu/~mccanne">[SM]</A></B> Ported
partially completed <I>ivs</I> module from ns-1. </LI>

<LI><B><A HREF="http://www.cs.berkeley.edu/~mccanne">[SM]</A></B> Fix from
<A HREF="http://www-scf.usc.edu/~ahelmy/">Ahmed A-G Helmy</A> to omit unecessary
code in <I>MultiNode::init</I>. </LI>

<LI><B><A HREF="http://www.cs.berkeley.edu/~mccanne">[SM]</A></B> Coalesce
multiple sources into a single graft message to avoid dropped grafts with
a large number of messages would otherwise blast into the first hop and
overflow the queue (grafts are not yet sent reliably). </LI>
</UL>

<P>
<HR></P>

<H3><A HREF="http://www-mash.cs.berkeley.edu/dist/ns-src-2.0a3.tar.gz">ns-2.0a3</A>
<B>Sun Nov 10 11:06:46 PST 1996</B></H3>

<P><I>Snapshot to <A HREF="http://netweb.usc.edu/vint/">VINT</A> collaborators.</I>
</P>

<UL>
<LI><B><A HREF="http://www.cs.berkeley.edu/~mccanne">[SM]</A></B> Implemented
simple RPF style flood and prune multicast (see <I>tcl/lib/ns-mcast.tcl</I>).
Multicast routing object is build from a number of classifier objects (e.g.,
the primary classifier routes the packet either to a multicast or to a
unicast classifier based on the multicast bit in the in the destination
address). Multicast routes are computed statically from unicast routes.
Prune timers are not yet implemented and grafts are currently sent unreliably.
</LI>

<LI><B><A HREF="http://www.cs.berkeley.edu/~mccanne">[SM]</A></B> Created
<I>Node</I> and <I>Link</I> classes to clean up <I>Simulator</I> class
and allow these objects to be more easily abstracted into composite object.
E.g., a multicast-node is composed of a number of sub-objects. </LI>

<LI><B><A HREF="http://www.cs.berkeley.edu/~mccanne">[SM]</A></B> Use re-parenting
trick across a lot more classes in <I>ns-lib.tcl</I>. Created <I>source</I>
base class for <I>source/ftp</I>, <I>source/telnet</I>, etc. </LI>

<LI><B><A HREF="http://www.cs.berkeley.edu/~mccanne">[SM]</A></B> Modified
tcp-sink module to avoid virtual multiple inheritance (this causes too
many problems with non-compliant C++ compilers). Created Acker and Sacker
classes that are instanced in the sink classes. </LI>

<LI><B><A HREF="http://www.cs.berkeley.edu/~mccanne">[SM]</A></B> Type-cast
bug fixes from <A HREF="http://www-scf.usc.edu/~ahelmy/">Ahmed A-G Helmy</A>.
</LI>
</UL>

<P>
<HR></P>

<H3><A HREF="http://www-mash.cs.berkeley.edu/dist/ns-src-2.0a2.tar.gz">ns-2.0a2</A>
<I>Thu Nov 7 1996</I></H3>

<P><I>Snapshot to <A HREF="http://netweb.usc.edu/vint/">VINT</A> collaborators.</I>
</P>

<UL>
<LI><B><A HREF="http://www.cs.berkeley.edu/~mccanne">[SM]</A></B> First
cut at multicast router from fine-grained objects. </LI>

<LI><B><A HREF="http://www.cs.berkeley.edu/~mccanne">[SM]</A></B> Add missing
files to FILES. </LI>

<LI><B><A HREF="http://www.cs.berkeley.edu/~mccanne">[SM]</A></B> Implemented
<I>replicator</I> and <I>classifier/mcast</I> objects as first step toward
supporting multicast routers and broadcast LANs. </LI>

<LI><B><A HREF="http://www.cs.berkeley.edu/~mccanne">[SM]</A></B> Clean
up class interface. Created <I>Simulator</I> OTcl class as uniform API
for manipulating simulator. Moved almost all of the ns-1 backward compatability
code into a new class called <I>OldSim</I>. </LI>
</UL>

<P>
<HR></P>

<H3><A HREF="http://www-mash.cs.berkeley.edu/dist/vint/ns-src-2.0a1.tar.gz">ns-2.0a1</A>
<B>Wed Nov 6 13:57:31 PST 1996</B></H3>

<P><I>Pre-release to <A HREF="http://netweb.usc.edu/vint/">VINT</A> collaborators.</I>
</P>

<UL>
<LI><B><A HREF="http://www.cs.berkeley.edu/~mccanne">[SM]</A></B> Major
architectural changes. Object are now finer grained. We have developed
a more cleanly defined Tcl API so that developers can change the back-end
while more easily maintaining backward compatibility. The simulator is
now based entirely MIT's <A HREF="ftp://ftp.tns.lcs.mit.edu/pub/otcl/README.html">Object
Tcl</A>. The TclClass C++ base class replaces the old Matcher class. An
OTcl class is created in C++ by statically declaring a derived subclass
of TclClass. OTcl makes it easy to extend a class with new methods either
on the C++ side or the Tcl side. </LI>
</UL>

<P>
<HR></P>

<H3>v1.0 Tue Jul 23 11:27:17 PDT 1996</H3>

<UL>
<LI>Added a hook to dump a stack trace and exit when a background error
is encounter (i.e., an error in a proc scheduled with ns-at). This makes
it MUCH easier to debug simulator scripts that have syntax erros and what
not in scheduled tcl stubs. </LI>

<LI>Removed sack-tcp.cc from distribution. This leaves tcp-sack1.cc as
the only SACK TCP implementation distributed with ns. </LI>

<LI>Put back hook to source &quot;~/.ns.tcl&quot; since people rely on
this. Fix provided by <A HREF="mailto:jtw@mercury.lcs.mit.edu">John Wroclawski</A>.
</LI>
</UL>

<P>
<HR></P>

<H3>v1.0b4 Mon May 6 22:22:31 PDT 1996</H3>

<UL>
<LI>Corrected fix to TCP's window decrease algorithm in v1.0b2. Now, after
a Reno Fast Retransmit, the window decreases to min(cwnd_, wnd_)/2, not
to cwnd_/2 (before v1.0b2) or to min(cwnd_ + dupwnd_, wnd_)/2 (as in v1.0b2,3).
</LI>

<LI>Corrected calculation of congestion window for NewReno TCP for the
case when multiple packets are dropped from a single window of data. </LI>

<LI>Fixed bug in tcp-sink.cc that allowed an infinite loop under some circumstances
when the number of outstanding packets in TCP was exactly MWS-1. Also added
a note to the man page about MWS and other constants in ns. Thanks to <A HREF="mailto:suter@big.att.com">Bernhard
Suter</A> for the bug report and fix. </LI>

<LI>In TCP, changed the constant TCP_TICK to the variable tcp_tick_, with
the default set in ns_default.tcl. </LI>
</UL>

<P>
<HR></P>

<H3>v1.0b3 Mon Apr 29 19:10:33 PDT 1996</H3>

<UL>
<LI>Ported to Tcl v7.5. Changed trace objects to use new Tcl_Channel abstraction
(for O/S indepedence). <I>ns</I> will NOT compile with earlier versions
of Tcl. </LI>

<LI>Added the parameter &quot;maxcwnd&quot;, for the maximum congestion
window, and corrected the use of &quot;window&quot;, the receiver's advertised
window, in the reno and sack implementations of TCP. </LI>

<LI>Changed some of the *.tcl scripts to take into account the corrected
use of the receiver's advertised window, and to use &quot;maxcwnd&quot;.
</LI>
</UL>

<P>
<HR></P>

<H3>v1.0b2 Fri Mar 29 16:40:25 PST 1996</H3>

<UL>
<LI>Changed interpreter to not source &quot;.ns.tcl&quot; since tcl no
longer uses the tcl_RcFileName C variable. </LI>

<LI>Fixed a couple more SunPro C++ compiler problems. Patcjes from <A HREF="mailto:earce@ukraine.corp.mot.comf">Michael
Pearce</A>. </LI>

<LI>Corrected TCP's window decrease algorithm from &quot;cwnd_ /= 2;&quot;
to &quot;cwnd_ = window() / 2;&quot;. Thanks to <A HREF="mailto:tzieg@cosy.sbg.ac.at">Thomas
Ziegler</A> for the bug report. </LI>
</UL>

<P>
<HR></P>

<H3>v1.0b1 Sun Mar 3 1996</H3>

<UL>
<LI>Fixed bug in tcp.cc that caused the retransmit timeout backoff behavior
never to reset. Thanks to <A HREF="mailto:mahdavi@psc.edu">Jamshid Mahdavi</A>
for reporting both the bug and the fix. </LI>

<LI>Fixed bug in tcplib telnet module. Random number generator was being
seeded on each call (from the system clock) rather than once at start-up.
Replaced calls to random number routines with calls to Random::uniform.
Thanks to <A HREF="mailto:vogels@CS.Cornell.EDU">Werner Vogels</A> for
reporting this bug. </LI>

<LI>Added local explicit-join notification for experimentation with RLM.
</LI>

<LI>Added a &quot;message&quot; agent that allows abibtrary message packets
to be sent and received using tcl. </LI>

<LI>Moved type-specific packet fields into a &quot;body&quot; union. Eliminated
&quot;reason&quot; field (rather than move it to tcp body) since we should
have just used the &quot;flags&quot; field to begin with. </LI>

<LI>Added tracing functionality to loss-monitor agents (e.g., so we can
compute sliding window loss statistics using an external tool). </LI>

<LI>Changed ns-now to use 17 digits of precision. Otherwise, truncation
could cause certain algorithms (e.g., RLM) to try to schedule events into
the past. </LI>

<LI>Added &quot;random&quot; attribute to cbr sources to cause them to
generate a Poisson rather than fixed-rate packet stream. </LI>

<LI>Fixed bug in RED initialization that could cause (almost-) infinite
loop at start up. </LI>

<LI>Incorporated patches from <A HREF="mailto:pearce@ukraine.corp.mot.com">Michael
Pearce</A> to compile with SunPro C++ v3.0.1. </LI>

<LI>Fixed bug that caused memory corruption when using class ID's larger
than 10. </LI>
</UL>

<P>
<HR></P>

<H3>v1.0a17 Thu Dec 27 1995</H3>

<UL>
<LI>Finished port of &quot;tcp-sack1&quot; and &quot;sack1-tcp-sink&quot;,
a second format for selective acks. </LI>

<LI>Added &quot;bursty&quot; source for tcp connections. </LI>

<LI>Added new loss policies for drop-tail links, &quot;lossy-uniform&quot;
and &quot;lossy-det&quot;. [Kevin Fall]. </LI>

<LI>Added more test files to the distribution: test-all-cbq, test-all-red,
test-all-sack, and test-sack, in addition to test-all. </LI>
</UL>

<P>
<HR></P>

<H3>v1.0a16 Tue Dec 12 19:05:56 PST 1995</H3>

<UL>
<LI>Added source code for sack-tcp.cc. </LI>
</UL>

<P>
<HR></P>

<H3>v1.0a15 Tue Dec 12 17:52:32 PST 1995</H3>

<UL>
<LI>First cut at adding code for &quot;tcp-sack1&quot; and &quot;sack1-tcp-sink&quot;,
from Matt Mathis (mathis@zippy.psc.edu) and Jamshid Mahdavi (mahdavi@psc.edu).
</LI>

<LI>Changed format of window and RTT reports sent from tcp.cc to the trace
file. </LI>

<LI>Added &quot;maxpkts&quot; for ftp and telnet sources. </LI>
</UL>

<P>
<HR></P>

<H3>v1.0a14 Fri Dec 1 10:35:30 PST 1995</H3>

<UL>
<LI>Finished port of TCP with selective acks, along with SACK acceptance
tests in &quot;test-sack&quot;. </LI>

<LI>Added a modified version of Reno TCP, tcp-newreno.cc, for research
purposes. </LI>

<LI>Have not yet added tcp-sack or tcp-newreno to the man page. </LI>
</UL>

<P>
<HR></P>

<H3>v1.0a13 Wed Nov 22 15:14:50 PST 1995</H3>

<UL>
<LI>Finished port of cbq code from tcpsim (with contributions from Michael
Speer), and added cbq simulator tests. </LI>

<LI>Added unique ID to each event in scheduler queue and added hook to
lookup an event by using this ID. </LI>

<LI>Added hook for deleting <I>at</I> callbacks. </LI>

<LI>Fixed bugs in multicast delivery where agent could modify routing desstructors
during the callback. </LI>

<LI>First cut at port of TCP with selective acks. </LI>
</UL>

<P>
<HR></P>

<H3>v1.0a12 Sun Nov 5 21:19</H3>

<UL>
<LI>Added config.h and loss-monitor.cc to FILES so they get included in
tar. </LI>
</UL>

<P>
<HR></P>

<H3>v1.0a11 Sun Nov 5 21:19</H3>

<UL>
<LI>Added loss-monitor agent, which is the same as a null-sink but calls
a tcl proc whenever there is a gap in the received sequence space. Will
expand functionality as necessary for MMG experiments. </LI>

<LI>Integrated more mature tcl/c++ architecture from vic/vat. This has
a major impact on the way ns objects are created and deleted, but we maintain
backward compatibility with previous versions. The &quot;ns&quot; command
is no longer implemented in C++, but rather as a library function (in ns_default.tcl)
that provides glue between the old commands and the new &quot;new/delete&quot;
interface. </LI>

<LI>First cut at port of cbq code from tcpsim. </LI>
</UL>

<P>
<HR></P>

<H3>v1.0a10 Fri Oct 27 17:44:39 PDT 1995</H3>

<UL>
<LI>Added &quot;flush&quot; method to trace objects so that output can
be flushed before exiting. </LI>

<LI>Added link-level src/dst fields to Packet class so node can tell which
&quot;interface&quot; a packet arrived on. </LI>

<LI>Added support for dense-mode PIM style flooding with prune/graft machinery.
</LI>
</UL>

<P>
<HR></P>

<H3>v1.0a10 Fri Oct 27 17:44:39 PDT 1995</H3>

<UL>
<LI>Fixed test-suite.tcl so that old awk works. Problem reported by <A HREF="mailto:kannan@catarina.usc.edu">Kannan
Varadhan</A>. </LI>

<LI>Fixed Makefile.in to use V_LIB_TCL, as intended. Fix supplied by <A HREF="mailto:kannan@catarina.usc.edu">Kannan
Varadhan</A>. </LI>
</UL>

<P>
<HR></P>

<H3>v1.0a9 Wed Oct 11 16:58:00 PDT 1995</H3>

<UL>
<LI>Fixed solaris compilation problems. </LI>

<LI>Changed configure to use &quot;-mv8 -msupersparc&quot; only for gcc.
</LI>
</UL>

<P>
<HR></P>

<H3>v1.0a8 Fri Sep 29 15:11:04 PDT 1995</H3>

<UL>
<LI>Fixed more for-stmt scope bugs. </LI>

<LI>Fixed compilation problems with Sun and DEC compilers. Problem reported
by <A HREF="mailto:turletti@cayenne.lcs.mit.edu">Thierry Turletti</A>.
</LI>
</UL>

<P>
<HR></P>

<H3>v1.0a7 Wed Sep 27 19:55:23 PDT 1995</H3>

<UL>
<LI>First public (alpha) release. </LI>

<LI>Included man page to FILES so it goes in tar. </LI>

<LI>Updated README. </LI>
</UL>

<P>
<HR></P>

<H3>v1.0a6 Sep 21 09:24 PDT 1995</H3>

<UL>
<LI>Added &quot;bug-fix&quot; hook to tcp reno. </LI>

<LI>Ported to tcl-7.4. </LI>

<LI>Include <A HREF="mailto:mathis@psc.edu">Matt Mathis'</A> test-all script.
</LI>

<LI>Changed &quot;for&quot; statement conventions to adhere to the proposed
<A HREF="http://www.cygnus.com/~mrs/wp-draft/stmt.html#stmt.for">ANSI standard
change</A> which re-defines the lexical scope semantics of the initializer
statement. In order to be compatible with both the old and new semantics,
we have changed all instances of </LI>

<UL>
<LI>for (int i = ... ) ... </LI>

<LI>use(i); </LI>
</UL>

<P>to </P>

<UL>
<LI>int i; </LI>

<LI>for (i = ... ) ... </LI>

<LI>use(i); </LI>
</UL>
</UL>

<P>
<HR></P>

<H3>v1.0a4</H3>

<UL>
<LI>Fixed bug in xgraph output: new version of xgraph doesn't understand
FileorDev because it now uses the PRINTER environment variable. Bug fix
from Matt Mathis (mathis@psc.edu). </LI>

<LI>Added a 'test-all' sh script to distribution, which runs whole suite
of regression tests and compares them against a reference output. Thanks
to Matt Mathis (mathis@psc.edu). </LI>

<LI>Don't include tk.h from Tcl.cc. </LI>
</UL>

<P>
<HR></P>

<H3>v1.0a1 Mon Jul 31 16:05:08 PDT 1995</H3>

<UL>
<LI>Changed all references to random() to use Random class so we can easily
change our pseudo-random number generator. </LI>

<LI>Added convention to object names so we can derive their type from their
name. </LI>

<LI>Changed nodes to be first class objects like rest of objects. </LI>

<LI>Changed trace syntax to use tcl files rather than it's own open/close.
For example, </LI>

<UL>
<LI>set f1 [open out.hop w] </LI>

<LI>$trace attach $f1 </LI>
</UL>

<LI>Changed '-' and 'd' trace records to have same format as '+' and 'h'
trace records. </LI>

<LI>Incoporate vic's &quot;matcher&quot; abstraction into agent and link
models. </LI>

<LI>Major hacking to port tcpsim to tcl framework. </LI>
</UL>

</BODY>
</HTML>
